"use strict";(self.webpackChunksea_orm_pro=self.webpackChunksea_orm_pro||[]).push([[465],{616:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"deployment/vm","title":"Virtual Machine","description":"This guide outline the process of deploying to a virtual machine, e.g. AWS EC2 or DigitalOcean Droplets.","source":"@site/docs/06-deployment/01-vm.md","sourceDirName":"06-deployment","slug":"/deployment/vm","permalink":"/preview/pr-148/sea-orm-pro/docs/deployment/vm","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/sea-orm-pro/docs/06-deployment/01-vm.md","tags":[],"version":"current","lastUpdatedBy":"Billy Chan","lastUpdatedAt":1749655774000,"sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Child Table","permalink":"/preview/pr-148/sea-orm-pro/docs/composite-table-config/child-table"},"next":{"title":"Container","permalink":"/preview/pr-148/sea-orm-pro/docs/deployment/container"}}');var s=r(8790),a=r(6059);const o={},l="Virtual Machine",i={},c=[{value:"Cloning SeaORM Pro",id:"cloning-seaorm-pro",level:2},{value:"Build Frontend",id:"build-frontend",level:2},{value:"Build Backend",id:"build-backend",level:2},{value:"Setup Reverse Proxy",id:"setup-reverse-proxy",level:2},{value:"Setup Always on Service",id:"setup-always-on-service",level:2},{value:"Launch",id:"launch",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"virtual-machine",children:"Virtual Machine"})}),"\n",(0,s.jsx)(n.p,{children:"This guide outline the process of deploying to a virtual machine, e.g. AWS EC2 or DigitalOcean Droplets."}),"\n",(0,s.jsx)(n.p,{children:"Here we start from Ubuntu 24.04 LTS."}),"\n",(0,s.jsx)(n.h2,{id:"cloning-seaorm-pro",children:"Cloning SeaORM Pro"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ git clone https://github.com/SeaQL/sea-orm-pro-plus\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build-frontend",children:"Build Frontend"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ cd sea-orm-pro-plus/pro_admin_frontend\n\n# Build frontend\n$ npm run build\n\n# Delete old frontend build\n$ rm -rf ../assets/admin\n\n# Copy new frontend build to backend server\n$ cp -r dist ../assets/admin\n"})}),"\n",(0,s.jsx)(n.h2,{id:"build-backend",children:"Build Backend"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"$ cd sea-orm-pro-plus\n\n$ cargo build --release\n"})}),"\n",(0,s.jsx)(n.h2,{id:"setup-reverse-proxy",children:"Setup Reverse Proxy"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# Create a new Nginx site config\n$ vim /etc/nginx/sites-available/sea-orm-pro-demo.sea-ql.org\n"})}),"\n",(0,s.jsx)(n.p,{children:"Proxy all requests to the backend server."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",metastring:"title=/etc/nginx/sites-available/sea-orm-pro-demo.sea-ql.org",children:"server {\n\tserver_name sea-orm-pro-demo.sea-ql.org;\n\n\tlocation / {\n\t\tproxy_pass  http://127.0.0.1:8086;\n\t}\n}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"setup-always-on-service",children:"Setup Always on Service"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# Setup a background service to run the backend server\n$ vim /etc/systemd/system/sea-orm-pro-plus.service\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-txt",metastring:"title=",children:"[Unit]\nDescription=SeaORM Pro Plus Service\nDocumentation=https://sea-orm-pro-demo.sea-ql.org/\nAfter=network.target\n\n[Service]\nType=simple\nUser=<USER>\nExecStart=cargo run --release start --environment development\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,s.jsx)(n.h2,{id:"launch",children:"Launch"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"# To automatically start the service (on system startup)\n$ systemctl enable sea-orm-pro-plus\n\n# Start the service\nservice sea-orm-pro-plus start\n\n# To view the service log\njournalctl -u sea-orm-pro-plus -f\n"})})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},6059:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var t=r(2374);const s={},a=t.createContext(s);function o(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);