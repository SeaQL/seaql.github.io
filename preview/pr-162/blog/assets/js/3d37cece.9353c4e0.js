"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[4452],{4917:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>n,toc:()=>d});var n=s(7734),a=s(4848),r=s(8453);const i={slug:"2025-12-05-sea-orm-2.0",title:"A walk-through of SeaORM 2.0",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/blog/img/SeaQL.png",image:"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png",tags:["news"]},o=void 0,l={authorsImageUrls:[void 0]},d=[{value:"New Entity Format",id:"new-entity-format",level:2},{value:"Entity First Workflow",id:"entity-first-workflow",level:2},{value:"ActiveModel Builder and Entity Loader",id:"activemodel-builder-and-entity-loader",level:2},{value:"1. Create User with Profile",id:"1-create-user-with-profile",level:3},{value:"2. Query User with Profile",id:"2-query-user-with-profile",level:3},{value:"3. Update Bob&#39;s profile",id:"3-update-bobs-profile",level:3},{value:"4. Add some blog posts",id:"4-add-some-blog-posts",level:3},{value:"5. Add comments to blog post",id:"5-add-comments-to-blog-post",level:3},{value:"6. Using Entity Loader",id:"6-using-entity-loader",level:3},{value:"7. Cascade delete",id:"7-cascade-delete",level:3},{value:"8. M-N relation: post <code>&lt;-&gt;</code> tag",id:"8-m-n-relation-post---tag",level:3},{value:"9. Users follow other Users",id:"9-users-follow-other-users",level:3},{value:"New <code>COLUMN</code> constant",id:"new-column-constant",level:2},{value:"\ud83e\udded Instant GraphQL API",id:"-instant-graphql-api",level:2},{value:"\ud83d\udda5\ufe0f SeaORM Pro: Admin Panel",id:"\ufe0f-seaorm-pro-admin-panel",level:2},{value:"\ud83c\udf1f Sponsors",id:"-sponsors",level:2},{value:"Gold Sponsor",id:"gold-sponsor",level:4},{value:"GitHub Sponsors",id:"github-sponsors",level:4},{value:"\ud83e\udd80 Rustacean Sticker Pack",id:"-rustacean-sticker-pack",level:2}];function c(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{alt:"SeaORM 2.0 Banner",src:"/blog/img/SeaORM%202.0%20Banner.png"}),"\n",(0,a.jsx)(t.p,{children:"Over the past few months, we've rolled out a series of SeaORM 2.0 releases packed with new capabilities that reshape how you'd use SeaORM. There may be a lot of details, that's why in this post we'll take a guided walk\u2011through of the best features with a small example blogging platform."}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.a,{href:"https://github.com/SeaQL/sea-orm/blob/master/examples/quickstart/src/main.rs",children:"full example"})," can be found here."]}),"\n",(0,a.jsx)(t.h2,{id:"new-entity-format",children:"New Entity Format"}),"\n",(0,a.jsxs)(t.p,{children:["SeaORM 1.0's entity format is explicit, but on the more verbose end, making it difficult to write by hand. SeaORM 2.0 introduced a new Entity Format that's denser and can be generated by ",(0,a.jsx)(t.code,{children:"sea-orm-cli generate entity --entity-format dense"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"The following User Entity has two related Entities."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:"user 1-1 profile\nuser 1-N post\n"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="user.rs"',children:'use sea_orm::entity::prelude::*;\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "user")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub name: String,\n    #[sea_orm(unique)]\n    pub email: String,\n    #[sea_orm(has_one)]\n    pub profile: HasOne<super::profile::Entity>,\n    #[sea_orm(has_many)]\n    pub posts: HasMany<super::post::Entity>,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n'})}),"\n",(0,a.jsx)(t.h2,{id:"entity-first-workflow",children:"Entity First Workflow"}),"\n",(0,a.jsx)(t.p,{children:"SeaORM used to adopt a schema\u2011first approach: meaning you design database tables and write migration scripts first, then generate entities from that schema."}),"\n",(0,a.jsx)(t.p,{children:"Entity\u2011first flips the flow: you hand-write the entity files, and let SeaORM generates the tables and foreign keys for you."}),"\n",(0,a.jsxs)(t.p,{children:["Simply call the ",(0,a.jsx)(t.code,{children:"sync"})," function after initializing the database connection, and SeaORM will create the missing tables, columns, and foreign keys for you."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'// The order of entity definitions does not matter.\n// SeaORM resolves foreign key dependencies automatically\n// and creates the tables in the correct order with their keys.\ndb.get_schema_registry("sea_orm_quickstart::*")\n    .sync(db)\n    .await?;\n'})}),"\n",(0,a.jsx)(t.h2,{id:"activemodel-builder-and-entity-loader",children:"ActiveModel Builder and Entity Loader"}),"\n",(0,a.jsx)(t.p,{children:"Let's get started with the blogging platform example!"}),"\n",(0,a.jsx)(t.h3,{id:"1-create-user-with-profile",children:"1. Create User with Profile"}),"\n",(0,a.jsxs)(t.p,{children:["We can use ",(0,a.jsx)(t.code,{children:"ActiveModel"})," builder to create a nested object (user + profile) in a single operation."]}),"\n",(0,a.jsx)(t.p,{children:"Entity:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="profile.rs"',children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "profile")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub picture: String,\n    #[sea_orm(unique)]\n    pub user_id: i32, // \u2b05 belongs to\n    #[sea_orm(belongs_to, from = "user_id", to = "id")]\n    pub user: HasOne<super::user::Entity>,\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Operation:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Create user Bob with a profile:");\nlet bob = user::ActiveModel::builder()\n    .set_name("Bob")\n    .set_email("bob@sea-ql.org")\n    .set_profile(\n        // here is a nested object: profile\'s user_id will be\n        // automatically set to bob\'s id after it has been created\n        profile::ActiveModel::builder().set_picture("Tennis.jpg")\n    )\n    .insert(db)\n    .await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'INSERT INTO "user" ("name", "email") VALUES (\'Bob\', \'bob@sea-ql.org\') RETURNING "id", "name", "email"\nINSERT INTO "profile" ("picture", "user_id") VALUES (\'Tennis\', 1) RETURNING "id", "picture", "user_id"\n'})}),"\n",(0,a.jsx)(t.h3,{id:"2-query-user-with-profile",children:"2. Query User with Profile"}),"\n",(0,a.jsx)(t.p,{children:"Now, we'd like to query the user we've just created along with the profile in a single SQL query:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Query user with profile in a single query:");\nlet bob = user::Entity::load()\n    .filter_by_email("bob@sea-ql.org") // \u2b05 email is a unique key\n    .with(profile::Entity)\n    .one(db)\n    .await?\n    .expect("Not found");\nassert_eq!(bob.name, "Bob");\nassert_eq!(bob.profile.as_ref().unwrap().picture, "Tennis.jpg");\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'SELECT "user"."id" AS "A_id", "user"."name" AS "A_name", "user"."email" AS "A_email", "profile"."id" AS "B_id", "profile"."picture" AS "B_picture", "profile"."user_id" AS "B_user_id"\nFROM "user" LEFT JOIN "profile" ON "user"."id" = "profile"."user_id" WHERE "user"."id" = 1 LIMIT 1\n'})}),"\n",(0,a.jsx)(t.h3,{id:"3-update-bobs-profile",children:"3. Update Bob's profile"}),"\n",(0,a.jsx)(t.p,{children:"We can update and save a nested object in place:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'let mut bob = bob.into_active_model(); // convert Model to ActiveModel\nbob.profile.as_mut().unwrap().picture = Set("Hiking.jpg");\nbob.save(db)?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"(or in a more fluent way)"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'bob.profile.take().unwrap().into_active_model()\n    .set_picture("Hiking.jpg").save(db).await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'UPDATE "profile" SET "picture" = \'Hiking.jpg\' WHERE "profile"."id" = 1 RETURNING "id", "picture", "user_id"\n'})}),"\n",(0,a.jsx)(t.h3,{id:"4-add-some-blog-posts",children:"4. Add some blog posts"}),"\n",(0,a.jsx)(t.p,{children:"Again, let's use the new ActiveModel builder API to create some blog posts:"}),"\n",(0,a.jsx)(t.p,{children:"Entity:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="post.rs"',children:'use sea_orm::entity::prelude::*;\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "post")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub user_id: i32,\n    pub title: String,\n    #[sea_orm(belongs_to, from = "user_id", to = "id")]\n    pub author: HasOne<super::user::Entity>,\n    #[sea_orm(has_many)]\n    pub comments: HasMany<super::comment::Entity>,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Operation:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Bob wrote some posts:");\nbob.posts\n    // user_id will be set to bob.id\n    .push(post::ActiveModel::builder()\n        .set_title("Lorem ipsum dolor sit amet, consectetur adipiscing elit"))\n    .push(post::ActiveModel::builder()\n        .set_title("Ut enim ad minim veniam, quis nostrud exercitation"));\nbob.save(db).await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'INSERT INTO "post" ("user_id", "title") VALUES (1, \'Lorem ipsum dolor sit amet ..\') RETURNING "id", "user_id", "title"\nINSERT INTO "post" ("user_id", "title") VALUES (1, \'Ut enim ad minim veniam ..\') RETURNING "id", "user_id", "title"\n'})}),"\n",(0,a.jsx)(t.h3,{id:"5-add-comments-to-blog-post",children:"5. Add comments to blog post"}),"\n",(0,a.jsx)(t.p,{children:"Not only can we insert new posts via the Bob ActiveModel, we can also add new comments to the posts.\nSeaORM walks the document tree and figures out what's changed, and perform the operation in one transaction."}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Alice commented on Bob\'s post:");\nbob.posts[0].comments.push(\n    comment::ActiveModel::builder()\n        .set_comment("nice post!")\n        .set_user(alice),\n);\nbob.save(db).await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'INSERT INTO "comment" ("comment", "user_id", "post_id") VALUES (\'nice post!\', 2, 1) RETURNING "id", "comment", "user_id", "post_id"\n'})}),"\n",(0,a.jsx)(t.h3,{id:"6-using-entity-loader",children:"6. Using Entity Loader"}),"\n",(0,a.jsx)(t.p,{children:"We can query user + profile + post together:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Find Bob\'s profile and his posts:");\nlet bob = user::Entity::load()\n    .filter(user::COLUMN.name.eq("Bob"))\n    .with(profile::Entity)\n    .with(post::Entity)\n    .one(db)\n    .await?\n    .unwrap();\n\nbob == user::ModelEx {\n    id: 1,\n    name: "Bob".into(),\n    email: "bob@sea-ql.org".into(),\n    profile: HasOne::Loaded(profile::ModelEx {\n        picture: "Hiking.jpg",\n        ..\n    }),\n    posts: HasMany::Loaded(vec![post::ModelEx {\n        title: "..",\n        ..\n    }, ..]),\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'-- 1-1 uses join\nSELECT "user"."id", "profile"."id", ..\nFROM "user" LEFT JOIN "profile" ON "user"."id" = "profile"."user_id"\nWHERE "user"."name" = \'Bob\' LIMIT 1\n-- 1-N uses loader\nSELECT "post"."id", "post"."user_id", "post"."title"\nFROM "post" WHERE "post"."user_id" IN (1) ORDER BY "post"."id" ASC\n'})}),"\n",(0,a.jsx)(t.h3,{id:"7-cascade-delete",children:"7. Cascade delete"}),"\n",(0,a.jsxs)(t.p,{children:["Let's say we want to delete a blog post. There are still comments belonging to the posts, so they will prevent the post from being deleted (unless ",(0,a.jsx)(t.code,{children:"ON DELETE CASCADE"})," is set)."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Delete the post along with all comments");\npost.delete(db).await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'DELETE FROM "comment" WHERE "comment"."id" = 1\nDELETE FROM "post" WHERE "post"."id" = 1\n'})}),"\n",(0,a.jsxs)(t.h3,{id:"8-m-n-relation-post---tag",children:["8. M-N relation: post ",(0,a.jsx)(t.code,{children:"<->"})," tag"]}),"\n",(0,a.jsx)(t.p,{children:"In addition to 1-1 and 1-N relations as shown above, SeaORM also models M-N relation as a first class construct. Let's say post M-N tag:"}),"\n",(0,a.jsx)(t.p,{children:"Entities:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="post.rs"',children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "post")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub title: String,\n    #[sea_orm(has_many, via = "post_tag")] // \u2b05 specify junction table\n    pub tags: HasMany<super::tag::Entity>,\n    ..\n}\n'})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="post_tag.rs"',children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\n#[sea_orm(table_name = "post_tag")]\npub struct Model {\n    #[sea_orm(primary_key, auto_increment = false)] // \u2b05 composite key\n    pub post_id: i32,\n    #[sea_orm(primary_key, auto_increment = false)] // \u2b05 composite key\n    pub tag_id: i32,\n    #[sea_orm(belongs_to, from = "post_id", to = "id")] // \u2b05 belongs to both\n    pub post: Option<super::post::Entity>,\n    #[sea_orm(belongs_to, from = "tag_id", to = "id")] // \u2b05 belongs to both\n    pub tag: Option<super::tag::Entity>,\n}\n'})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="tag.rs"',children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "tag")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    #[sea_orm(unique)]\n    pub tag: String,\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Now we can easily attach tags to a post:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Insert one tag for later use");\nlet sunny = tag::ActiveModel::builder().set_tag("sunny").save(db).await?;\n\ninfo!("Insert a new post with 2 tags");\nlet post = post::ActiveModel::builder()\n    .set_title("A sunny day")\n    .set_user(bob)\n    .add_tag(sunny) // \u2b05 an existing tag\n    .add_tag(tag::ActiveModel::builder().set_tag("outdoor")) // \u2b05 a new tag\n    .save(db) // new tag will be created and associcated to the new post\n    .await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Execution:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'INSERT INTO "post" ("user_id", "title") VALUES (2, \'A sunny day\') RETURNING "id", "user_id", "title"\nINSERT INTO "tag" ("tag") VALUES (\'outdoor\') RETURNING "id", "tag"\nINSERT INTO "post_tag" ("post_id", "tag_id") VALUES (3, 1), (3, 2) ON CONFLICT ("post_id", "tag_id") DO NOTHING RETURNING "post_id", "tag_id"\n'})}),"\n",(0,a.jsx)(t.h3,{id:"9-users-follow-other-users",children:"9. Users follow other Users"}),"\n",(0,a.jsx)(t.p,{children:"Now it starts to look like a social media network!"}),"\n",(0,a.jsx)(t.p,{children:"Entity:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="user.rs"',children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "user")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub name: String,\n    //        \u2b07 new keyword `self_ref`, `from` and `to` are relations\n    #[sea_orm(self_ref, via = "user_follower", from = "User", to = "Follower")]\n    pub followers: HasMany<Entity>,\n    // reverse of above, no need to repeat yourself! \u2b07\n    #[sea_orm(self_ref, via = "user_follower", reverse)]\n    pub following: HasMany<Entity>,\n    ..\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["The junction table has same structure as ",(0,a.jsx)(t.code,{children:"post_tag"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",metastring:'title="user_follower.rs"',children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\n#[sea_orm(table_name = "user_follower")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub user_id: i32,\n    #[sea_orm(primary_key)]\n    pub follower_id: i32,\n    #[sea_orm(belongs_to, from = "user_id", to = "id")] // \u2b05 same as before\n    pub user: Option<super::user::Entity>,\n    //                    \u2b07 because `User` is already taken, has to specify enum name\n    #[sea_orm(belongs_to, relation_enum = "Follower", from = "follower_id", to = "id")]\n    pub follower: Option<super::user::Entity>,\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Now we can start connecting them:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'info!("Add follower to Alice");\nalice.add_follower(bob).save(db).await?;\n\ninfo!("Sam starts following Alice");\nsam.add_following(alice).save(db).await?;\n'})}),"\n",(0,a.jsx)(t.p,{children:"Executes:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:'INSERT INTO "user_follower" ("user_id", "follower_id") VALUES (1, 2) ON CONFLICT ("user_id", "follower_id") DO NOTHING RETURNING "user_id", "follower_id"\nINSERT INTO "user_follower" ("user_id", "follower_id") VALUES (1, 3) ON CONFLICT ("user_id", "follower_id") DO NOTHING RETURNING "user_id", "follower_id"\n'})}),"\n",(0,a.jsx)(t.p,{children:"You can query user with followers with:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'let users = user::Entity::load()\n    .filter_by_id(alice.id)\n    .with(user_follower::Entity)\n    .all(db)\n    .await?;\n\nassert_eq!(users[0].name, "Alice");\nassert_eq!(users[0].followers.len(), 2);\nassert_eq!(users[0].followers[0].name, "Bob");\nassert_eq!(users[0].followers[1].name, "Sam");\n'})}),"\n",(0,a.jsx)(t.p,{children:"That's it! With these examples in hand, I hope you'll find SeaORM 2.0 both fun and productive to use."}),"\n",(0,a.jsxs)(t.h2,{id:"new-column-constant",children:["New ",(0,a.jsx)(t.code,{children:"COLUMN"})," constant"]}),"\n",(0,a.jsxs)(t.p,{children:["Previously, column names in queries had to be written in ",(0,a.jsx)(t.code,{children:"CamelCase"}),". This is because the ",(0,a.jsx)(t.code,{children:"Column"})," type was defined as an enum, as it's faster to compile than generating one struct per column."]}),"\n",(0,a.jsxs)(t.p,{children:["Our new design keeps compilation fast while offering stronger type guarantees. As a bonus, it eliminates the need for ",(0,a.jsx)(t.code,{children:"CamelCase"})," and even saves a keystroke!"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'// old: an enum variant\nuser::Entity::find().filter(user::Column::Name.contains("Bob"))\n\n// new: a constant value\nuser::Entity::find().filter(user::COLUMN.name.contains("Bob"))\n\n// compile error: the trait `From<{integer}>` is not implemented for `String`\nuser::Entity::find().filter(user::COLUMN.name.like(2))\n'})}),"\n",(0,a.jsx)(t.h2,{id:"-instant-graphql-api",children:"\ud83e\udded Instant GraphQL API"}),"\n",(0,a.jsxs)(t.p,{children:["With ",(0,a.jsx)(t.a,{href:"https://github.com/SeaQL/seaography",children:"Seaography"}),", the Entities you wrote can ",(0,a.jsx)(t.em,{children:"instantly"})," be exposed as a GraphQL schema, with full CRUD, filtering and pagination. No extra macros, no Entity re-generation is needed!"]}),"\n",(0,a.jsx)(t.p,{children:"With SeaORM and Seaography, you can prototype quickly and stay in the flow. The Entity:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-rust",children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "user")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub name: String,\n    #[sea_orm(unique)]\n    pub email: String,\n    #[sea_orm(has_one)]\n    pub profile: HasOne<super::profile::Entity>,\n    #[sea_orm(has_many)]\n    pub posts: HasMany<super::post::Entity>,\n}\n'})}),"\n",(0,a.jsx)(t.p,{children:"Instantly turned into a GraphQL type:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-graphql",children:"type User {\n  id: Int!\n  name: String!\n  email: String!\n  profile: Profile\n  post(\n    filters: PostFilterInput\n    orderBy: PostOrderInput\n    pagination: PaginationInput\n  ): PostConnection!\n}\n"})}),"\n",(0,a.jsx)(t.h2,{id:"\ufe0f-seaorm-pro-admin-panel",children:"\ud83d\udda5\ufe0f SeaORM Pro: Admin Panel"}),"\n",(0,a.jsx)("img",{src:"/blog/img/sea-orm-pro-light.png#light"}),"\n",(0,a.jsx)("img",{src:"/blog/img/sea-orm-pro-dark.png#dark"}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://github.com/SeaQL/sea-orm-pro",children:"SeaORM Pro"})," is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!"]}),"\n",(0,a.jsx)(t.p,{children:"SeaORM Pro has been updated to support the latest features in SeaORM 2.0."}),"\n",(0,a.jsx)(t.p,{children:"Features:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Full CRUD"}),"\n",(0,a.jsx)(t.li,{children:"Built on React + GraphQL"}),"\n",(0,a.jsx)(t.li,{children:"Built-in GraphQL resolver"}),"\n",(0,a.jsx)(t.li,{children:"Customize the UI with TOML config"}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.a,{href:"https://www.sea-ql.org/blog/2025-09-30-sea-orm-rbac/",children:"Role Based Access Control"})," ",(0,a.jsx)(t.em,{children:"(new in 2.0)"})]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"-sponsors",children:"\ud83c\udf1f Sponsors"}),"\n",(0,a.jsx)(t.h4,{id:"gold-sponsor",children:"Gold Sponsor"}),"\n",(0,a.jsx)("a",{href:"https://qdx.co/",children:(0,a.jsx)("img",{src:"https://www.sea-ql.org/static/sponsors/QDX.svg",width:"128"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://qdx.co/",children:"QDX"})," pioneers quantum dynamics-powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\nWe're grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications."]}),"\n",(0,a.jsx)(t.h4,{id:"github-sponsors",children:"GitHub Sponsors"}),"\n",(0,a.jsx)(t.p,{children:"If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization."}),"\n",(0,a.jsxs)(t.p,{children:["A big shout out to our ",(0,a.jsx)(t.a,{href:"https://github.com/sponsors/SeaQL",children:"GitHub sponsors"}),":"]}),"\n",(0,a.jsxs)("div",{class:"row margin-left--sm",children:[(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/sanctusgee",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/2237695?u=c46344d34b510cb2aea10d4ee2c349277802e408&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/ryanswrt",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/OteroRafael",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/175388115?v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/higumachan",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/wh7f",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/59872041?v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/marcson909",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/16665353?v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/numeusxyz",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/82152211?v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/data-intuitive",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/15045722?v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/caido-community",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/168573261?v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/marcusbuffett",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/khalidelborai",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/114625993?v=4"})})})]}),"\n",(0,a.jsx)("br",{}),"\n",(0,a.jsxs)("div",{class:"row margin-left--sm",children:[(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/yuly3",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/kallydev",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/manfredcml",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/tugascript",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4"})})}),(0,a.jsx)("div",{class:"avatar",children:(0,a.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/deansheather",children:(0,a.jsx)("img",{src:"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4"})})})]}),"\n",(0,a.jsx)(t.h2,{id:"-rustacean-sticker-pack",children:"\ud83e\udd80 Rustacean Sticker Pack"}),"\n",(0,a.jsx)(t.p,{children:"The Rustacean Sticker Pack is the perfect way to express your passion for Rust.\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish."}),"\n",(0,a.jsx)(t.p,{children:"Sticker Pack Contents:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography"}),"\n",(0,a.jsx)(t.li,{children:"Mascots: Ferris the Crab x 3, Terres the Hermit Crab"}),"\n",(0,a.jsx)(t.li,{children:"The Rustacean wordmark"}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.a,{href:"https://www.sea-ql.org/sticker-pack/",children:"Support SeaQL and get a Sticker Pack!"})}),"\n",(0,a.jsx)("a",{href:"https://www.sea-ql.org/sticker-pack/",children:(0,a.jsx)("img",{style:{borderRadius:"25px"},alt:"Rustacean Sticker Pack by SeaQL",src:"https://www.sea-ql.org/static/sticker-pack-1s.jpg"})})]})}function u(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},7734:e=>{e.exports=JSON.parse('{"permalink":"/preview/pr-162/blog/2025-12-05-sea-orm-2.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-12-05-sea-orm-2.0.md","source":"@site/blog/2025-12-05-sea-orm-2.0.md","title":"A walk-through of SeaORM 2.0","description":"Over the past few months, we\'ve rolled out a series of SeaORM 2.0 releases packed with new capabilities that reshape how you\'d use SeaORM. There may be a lot of details, that\'s why in this post we\'ll take a guided walk\u2011through of the best features with a small example blogging platform.","date":"2025-12-05T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-162/blog/tags/news"}],"readingTime":12.64,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-12-05-sea-orm-2.0","title":"A walk-through of SeaORM 2.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","tags":["news"]},"unlisted":false,"nextItem":{"title":"SeaORM 2.0: Nested ActiveModel","permalink":"/preview/pr-162/blog/2025-11-25-sea-orm-2.0"}}')},8453:(e,t,s)=>{s.d(t,{R:()=>i,x:()=>o});var n=s(6540);const a={},r=n.createContext(a);function i(e){const t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:i(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);