"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[8887],{5442:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"2025-10-20-sea-orm-2.0","metadata":{"permalink":"/preview/pr-154/blog/2025-10-20-sea-orm-2.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-10-20-sea-orm-2.0.md","source":"@site/blog/2025-10-20-sea-orm-2.0.md","title":"SeaORM 2.0: new entity format and relational capabilities","description":"SeaORM\u2019s current entity format is explicit, but it can feel verbose, making it difficult to write by hand. In SeaORM 2.0, we\u2019re introducing a more information\u2011dense entity format, along with new features that make relational queries easier and more powerful.","date":"2025-10-20T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":13.25,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-10-20-sea-orm-2.0","title":"SeaORM 2.0: new entity format and relational capabilities","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","tags":["news"]},"unlisted":false,"nextItem":{"title":"Seaography 2.0: A Powerful and Extensible GraphQL Framework","permalink":"/preview/pr-154/blog/2025-10-08-seaography"}},"content":"<img alt=\\"SeaORM 2.0 Banner\\" src=\\"/blog/img/SeaORM%202.0%20Banner.png\\"/>\\n\\nSeaORM\u2019s current entity format is explicit, but it can feel verbose, making it difficult to write by hand. In SeaORM 2.0, we\u2019re introducing a more information\u2011dense entity format, along with new features that make relational queries easier and more powerful.\\n\\n## Gist\\n\\nSuppose now we\'re making a blogging platform. We\'re designing a simple schema starting from users.\\n\\n```rust\\nuser 1-1 profile\\nuser 1-N post\\npost 1-N comment\\n```\\n\\nDefining the `user` Entity as follows:\\n\\n```rust\\nmod user {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[sea_orm::model]\\n    #[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n    #[sea_orm(table_name = \\"user\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        pub name: String,\\n        #[sea_orm(unique)]\\n        pub email: String,\\n        #[sea_orm(has_one)]\\n        pub profile: HasOne<super::profile::Entity>,\\n        #[sea_orm(has_many)]\\n        pub posts: HasMany<super::post::Entity>,\\n    }\\n\\n    impl ActiveModelBehavior for ActiveModel {}\\n}\\n```\\n\\nYou will be able to query a user with their profile along with all their blog posts in one operation:\\n\\n```rust\\n// join paths:\\n// user -> profile\\n// user -> post -> comment\\nlet user: Option<user::ModelEx> = user::Entity::load()\\n    .filter_by_id(12)\\n    .with(profile::Entity)\\n    .with((post::Entity, comment::Entity))\\n    .one(db)\\n    .await?;\\n\\n// has the following shape:\\nassert_eq!(user.unwrap(), user::ModelEx {\\n    id: 12,\\n    name: \\"Bob\\".into(),\\n    email: \\"bob@sea-ql.org\\".into(),\\n    profile: Some(profile::ModelEx {\\n        ..\\n    }),\\n    posts: vec![\\n        post::ModelEx {\\n            title: \\"Nice day for a walk\\",\\n            comments: vec![comment::ModelEx { .. }, .. ],\\n        },\\n        post::ModelEx { .. },\\n    ],\\n});\\n```\\n\\nFull example can be found [here](https://github.com/SeaQL/sea-orm/blob/master/examples/quickstart/src/main.rs).\\n\\n## The Schema\\n\\nThe definition of the `user` Entity is already shown above, let\'s look at `profile` and `post`:\\n\\n```rust\\nmod profile {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[sea_orm::model]\\n    #[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n    #[sea_orm(table_name = \\"profile\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        pub picture: String,\\n        #[sea_orm(unique)]\\n        pub user_id: i32,\\n        #[sea_orm(belongs_to, from = \\"user_id\\", to = \\"id\\")]\\n        pub user: HasOne<super::user::Entity>,\\n    }\\n\\n    impl ActiveModelBehavior for ActiveModel {}\\n}\\n```\\n\\n`profile` has a foreign key `user_id` -> `user.id` relating back to the `user` table. By applying a `unique` constraint, we\'re effectively making the relation 1-1.\\n\\n```rust\\nmod post {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[sea_orm::model]\\n    #[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n    #[sea_orm(table_name = \\"post\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        pub user_id: i32,\\n        pub title: String,\\n        pub body: String,\\n        #[sea_orm(belongs_to, from = \\"user_id\\", to = \\"id\\")]\\n        pub author: HasOne<super::user::Entity>,\\n        #[sea_orm(has_many)]\\n        pub comments: HasMany<super::comment::Entity>,\\n    }\\n\\n    impl ActiveModelBehavior for ActiveModel {}\\n}\\n```\\n\\nSimilarly, `post` has a foreign key to the `user` table, but without the unique constraint. The `comment` entity is very similar.\\n\\n```rust\\nmod comment {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[sea_orm::model]\\n    #[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n    #[sea_orm(table_name = \\"comment\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        pub comment: String,\\n        pub post_id: i32,\\n        #[sea_orm(belongs_to, from = \\"post_id\\", to = \\"id\\")]\\n        pub post: HasOne<super::post::Entity>,\\n    }\\n\\n    impl ActiveModelBehavior for ActiveModel {}\\n}\\n```\\n\\n## Under the hood\\n\\nIt looks clean right? But what magic is going on under the hood? Let\'s break it down step by step, at the end it actally expands into the current entity format. Such that this new entity format is perfectly backwards-compatible.\\n\\n### A bit of history\\n\\nIn the early days of SeaORM, language servers didn\'t have very strong macro expansion capabilities. As such, types generated by derive macros can\'t be seen and picked up by IDEs for auto-completion. That\'s why in that era crates would prefer to be macro-light, it\'s also the reason SeaORM (still) has an expanded entity format. The current compact entity format expands into the expanded entity format.\\n\\n### Generating the `Relation` enum and `Related` impl\\n\\nAn existing SeaORM entity has three sections, `Model`, `Relation` and `ActiveModel`.\\n\\n```rust\\nuse sea_orm::entity::prelude::*;\\n\\npub struct Model { .. }\\n\\npub enum Relation { .. }\\n\\nimpl Related<> for Entity {}\\n\\nimpl ActiveModelBehavior for ActiveModel {}\\n```\\n\\nWe\'ve hid the Relation / Related section into the Model itself.\\n\\nFor the `user` entity, a `Relation` enum is generated:\\n\\n```rust\\npub enum Relation {\\n    #[sea_orm(has_one = \\"super::profile::Entity\\")]\\n    Profile,\\n    #[sea_orm(has_many = \\"super::post::Entity\\")]\\n    Post,\\n}\\n```\\n\\nIn addition, some `Related` impls are also generated:\\n\\n```rust\\nimpl Related<super::profile::Entity> for Entity {\\n    fn to() -> RelationDef {\\n        Relation::Profile.def()\\n    }\\n}\\n\\nimpl Related<super::post::Entity> for Entity {\\n    fn to() -> RelationDef {\\n        Relation::Post.def()\\n    }\\n}\\n```\\n\\nFor the `profile` entity, it gets slightly more elaborate:\\n\\n```rust\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"super::user::Entity\\",\\n        from = \\"Column::UserId\\",\\n        to = \\"super::user::Column::Id\\"\\n    )]\\n    User,\\n}\\n\\nimpl Related<super::user::Entity> for Entity {\\n    fn to() -> RelationDef {\\n        Relation::User.def()\\n    }\\n}\\n```\\n\\n### Generating the `Model`\\n\\nNote that the Model is now not \'plain-old\', as it has some nested fields:\\n\\n```rust\\npub struct Model {\\n    pub id: i32,\\n    pub name: String,\\n    pub email: String,\\n    pub profile: HasOne<super::profile::Entity>, // <-\\n    pub posts: HasMany<super::post::Entity>,     // <-\\n}\\n```\\n\\nWe have to drop these fields to make the struct simple, such that we can still do the following:\\n\\n```rust\\nlet user = user::Model { id: 1, name: \\"Bob\\".into(), email: \\"bob@sea-ql.org\\" };\\n```\\n\\nThat\'s why as you may have noticed, we need an attribute macro:\\n\\n```rust\\n#[sea_orm::model]\\n```\\n\\nWe call the compound Model with nested fields `ModelEx`. May be it can have a better name, but you should rarely need to name this type explicitly.\\n\\n## More relation types\\n\\nWhat makes SeaORM stand-apart is that we support many different kinds of relations in real-world complex schemas. Many users may never encounter them, but they\'re there when you need them.\\n\\n### Many to many relation with junction table\\n\\nSeaORM is unique in its ability to model many\u2011to\u2011many relations as first\u2011class constructs. Most APIs treat both 1-N and M-N synonymously, and you never need to manually specify the junction table when writing queries.\\n\\nLet\'s say `post` M-N `tag`, all you need is to specify the junction with the `via` attribute:\\n\\n```rust\\nmod post {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[sea_orm::model]\\n    #[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n    #[sea_orm(table_name = \\"post\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        #[sea_orm(has_many, via = \\"post_tag\\")]\\n        pub tags: HasMany<super::tag::Entity>,\\n    }\\n\\n    impl ActiveModelBehavior for ActiveModel {}\\n}\\n```\\n\\nThis is the junction table:\\n\\n```rust\\nmod post_tag {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[sea_orm::model]\\n    #[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\\n    #[sea_orm(table_name = \\"post_tag\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key, auto_increment = false)]\\n        pub post_id: i32,\\n        #[sea_orm(primary_key, auto_increment = false)]\\n        pub tag_id: i32,\\n        #[sea_orm(belongs_to, from = \\"post_id\\", to = \\"id\\")]\\n        pub post: Option<super::post::Entity>,\\n        #[sea_orm(belongs_to, from = \\"tag_id\\", to = \\"id\\")]\\n        pub tag: Option<super::tag::Entity>,\\n    }\\n\\n    impl ActiveModelBehavior for ActiveModel {}\\n}\\n```\\n\\nTo query posts with tags, you call the exact same method, without even mentioning the junction.\\n\\n```rust\\nlet posts = post::Entity::load().with(tag::Entity).all(db).await?;\\n\\nassert_eq!(posts, vec![post::ModelEx {\\n    tags: vec![ tag::ModelEx { .. }, .. ]\\n}]);\\n\\n// or you can use the model loader API:\\n\\nlet posts: Vec<post::Model> = post::Entity::find().all(db).await?;\\nlet tags: Vec<tag::Model> = posts.load_many(tag::Entity, db).await?;\\n```\\n\\n### Self-referencing relations\\n\\n```rust\\n#[sea_orm::model]\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\\n#[sea_orm(table_name = \\"staff\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub name: String,\\n    pub manager_id: i32,\\n    #[sea_orm(\\n        self_ref,\\n        relation_enum = \\"Manager\\",\\n        from = \\"manager_id\\",\\n        to = \\"id\\"\\n    )]\\n    pub manager: HasOne<Entity>,\\n}\\n```\\n\\nThe generated enum will have a variant like:\\n\\n```rust\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"Entity\\",\\n        from = \\"Column::ManagerId\\",\\n        to = \\"Column::Id\\",\\n    )]\\n    Manager, // <- relation_enum\\n}\\n```\\n\\nThis aspect is not different from 1.0. A `Related` impl will not be generated. The relation can be used in joins, but currently not supported by the loader (we do plan to support it soon).\\n\\n### Composite foreign key\\n\\nYou don\'t use it very often, but SeaORM actually supports it since 0.1. Some lines are omitted for brevity.\\n\\n```rust\\nmod composite_a {\\n    #[sea_orm::model]\\n    #[sea_orm(table_name = \\"composite_a\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        #[sea_orm(unique_key = \\"pair\\")] // <- name this unique key\\n        pub left_id: i32,\\n        #[sea_orm(unique_key = \\"pair\\")]\\n        pub right_id: i32,\\n        #[sea_orm(has_one)]\\n        pub b: Option<super::composite_b::Entity>,\\n    }\\n}\\n\\nmod composite_b {\\n    #[sea_orm::model]\\n    #[sea_orm(table_name = \\"composite_b\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key)]\\n        pub id: i32,\\n        pub left_id: i32,\\n        pub right_id: i32,\\n        #[sea_orm(\\n            belongs_to,\\n            from = \\"(left_id, right_id)\\",\\n            to = \\"(left_id, right_id)\\"\\n        )]\\n        pub a: Option<super::composite_a::Entity>,\\n    }\\n}\\n```\\n\\nDesigning an ORM that can support all these scenario is *hard* with exploding complexities, but this is exactly what makes SeaORM powerful and sets it apart. Even if you don\u2019t need these features today, choosing SeaORM helps ensure your application is future-proof.\\n\\n## New find/filter by unique key methods\\n\\nTo improve ergonomics, SeaORM 2.0 now automatically generates type-safe shorthand methods for unique keys:\\n\\n```rust\\nuser::Entity::find_by_email(\\"bob@sea-ql.org\\").one(db).await?\\n\\nuser::Entity::load().filter_by_email(\\"bob@sea-ql.org\\").one(db).await?\\n```\\n\\nIt even works on composite unique keys!\\n\\n```rust\\n// the name `pair` is user-defined above\\ncomposite_a::Entity::find_by_pair((1, 2)).one(db).await?\\n\\ncomposite_a::Entity::load().filter_by_pair((2, 3)).one(db).await?\\n```\\n\\n## (Smart) Entity Loader\\n\\nWe\'ve spent a lot of engineering effort in designing the new Entity Loader. You can see it as magic, because it eliminates the N+1 problem even when doing nested queries while preventing over-fetching *at the same time*.\\n\\nIn the nested query we shown you in the beginning, 3 queries are executed:\\n\\n```sql\\nSELECT FROM user JOIN profile WHERE id = $\\nSELECT FROM post JOIN user WHERE user_id IN (..)\\nSELECT FROM comment WHERE post_id IN (..)\\n```\\n\\nFor 1-1 relations, it does a join and select up to three tables together in a single query.\\n\\nFor 1-N or M-N relations, it uses the data loader. Note that, it\'s a single query even for M-N relation, as the junction table will be joined.\\n\\nFor nested queries, it uses the data loader. It consolidates the id of all the posts in the 2nd query and issue one query for the comments.\\n\\n## Backwards compatibility\\n\\nThe new Entity format is perfectly backwards compatible as it gets expanded into the current compact format. However, the Entity Loader generates a bit of extra code under the hood, and it\'s not available for compact entities. We\'ve introduced a transitional macro, in case you want to take advantage of the Entity Loader without migrating to the new format.\\n\\n```rust\\n#[sea_orm::compact_model] // <- add this\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"post\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub user_id: i32,\\n    pub body: String,\\n    // #[sea_orm(belongs_to, from = \\"user_id\\", to = \\"id\\")] // <- not needed\\n    pub author: HasOne<super::user::Entity>, // <- add these compound fields\\n}\\n\\n// the rest of the Entity file is exactly the same as before\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation { .. }\\n```\\n\\nNow you can do:\\n\\n```rust\\npost::Entity::load().with(super::user::Entity)..\\n```\\n\\nThe current compact entity format has more flexibility, as you can:\\n\\n1. add new `Relation` enum variants\\n2. add `on_condition` on relations\\n\\n## Updated codegen\\n\\n`sea-orm-cli` has been updated to generate this new entity format, including with Seaography support. You can run the same entity generate command, but with an additional `--entity-format dense` flag. We may turn this on by default in the future.\\n\\n```sh\\nsea-orm-cli generate entity --output-dir ./src/entity --entity-format dense\\n```\\n\\n## More to come\\n\\nSeaORM 2.0 is shaping up to be our most significant release yet - with a few breaking changes, plenty of enhancements, and a clear focus on developer experience. We\'ll dive into Entity-first workflow in the next post, so keep an eye out for the next update!\\n\\nSeaORM 2.0 will launch alongside SeaQuery 1.0. If you make extensive use of SeaQuery, we recommend checking out our earlier blog post on [SeaQuery 1.0](https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/) to get familiar with the changes.\\n\\nSeaORM 2.0 has reached its release candidate phase. We\'d love for you to try it out and help shape the final release by [sharing your feedback](https://github.com/SeaQL/sea-orm/discussions/2548).\\n\\n## SQL Server Support\\n\\n[SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) offers the same SeaORM API for MSSQL. We ported all test cases and examples, complemented by MSSQL specific documentation. If you are building enterprise software, you can [request commercial access](https://forms.office.com/r/1MuRPJmYBR). It is currently based on SeaORM 1.0, but we will offer free upgrade to existing users when SeaORM 2.0 is finalized.\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: Professional Admin Panel\\n\\n<img src=\\"/blog/img/sea-orm-pro-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-dark.png#dark\\" />\\n\\n[SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/) is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!\\n\\nSeaORM Pro has been updated to support the latest features in SeaORM 2.0.\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Built-in GraphQL resolver\\n+ Customize the UI with TOML config\\n+ [Role Based Access Control](https://www.sea-ql.org/blog/2025-09-30-sea-orm-rbac/) *(new in 2.0)*\\n\\n## Sponsors\\n\\n### Gold Sponsor\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.\\n\\n### GitHub Sponsors\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n<div class=\\"row margin-left--sm\\">\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/ryanswrt\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/OteroRafael\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/175388115?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/higumachan\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/wh7f\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/59872041?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcson909\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/16665353?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/numeusxyz\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/82152211?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/data-intuitive\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/caido-community\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/168573261?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcusbuffett\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\n        </a>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row margin-left--sm\\">\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\n        </a>\\n    </div>\\n</div>\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography\\n- Mascots: Ferris the Crab x 3, Terres the Hermit Crab\\n- The Rustacean wordmark\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-10-08-seaography","metadata":{"permalink":"/preview/pr-154/blog/2025-10-08-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-10-08-seaography.md","source":"@site/blog/2025-10-08-seaography.md","title":"Seaography 2.0: A Powerful and Extensible GraphQL Framework","description":"GraphQL has become the preferred interface for product teams. Both frontend and backend developers benefit from its type-safety, contractual guarantees, and composability. Yet the real challenge lies on the backend: implementing relational resolvers that can traverse complex schemas is often difficult and time-consuming.","date":"2025-10-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":10.83,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-10-08-seaography","title":"Seaography 2.0: A Powerful and Extensible GraphQL Framework","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/Seaography%202.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaORM 2.0: new entity format and relational capabilities","permalink":"/preview/pr-154/blog/2025-10-20-sea-orm-2.0"},"nextItem":{"title":"Role Based Access Control in SeaORM 2.0","permalink":"/preview/pr-154/blog/2025-09-30-sea-orm-rbac"}},"content":"<img alt=\\"Seaography 2.0 Banner\\" src=\\"/blog/img/Seaography%202.0%20Banner.png\\"/>\\n\\nGraphQL has become the preferred interface for product teams. Both frontend and backend developers benefit from its type-safety, contractual guarantees, and composability. Yet the real challenge lies on the backend: implementing relational resolvers that can traverse complex schemas is often difficult and time-consuming.\\n\\nYes, there are libraries that can spin up a GraphQL resolver quickly, but they often come with trade-offs: they\'re hard to customize, making it painful to add additional endpoints when your application grows beyond the basics.\\n\\nThe hardest challenge is customization. Real-world applications demand fine-grained permissions and context-dependent business logic. [Seaography](https://github.com/SeaQL/seaography) is designed to solve this exact problem, offering:\\n\\n+ Automatic GraphQL resolver generation with data loader integration to solve the N+1 problem\\n+ Extensive customization options and the ability to add custom endpoints easily\\n+ Authorization: Role-Based Access Control (RBAC) and fine-grained control with hooks / guards\\n\\n## \ud83e\udded What is Seaography\\n\\nA video is worth a thousand words, so let\'s look at a quick demo.\\n\\n<video width=\\"100%\\" autoplay muted playsInline controls>\\n  <source src=\\"/blog/img/Seaography%20Demo.mp4\\" type=\\"video/mp4\\" />\\n  Your browser does not support the video tag.\\n</video>\\n\\nIn under a minute, we\'ve done the following:\\n1. Generate SeaORM entities from an existing sakila database (SQLite in demo)\\n2. Generate a GraphQL web server around the entities (supports Axum, Actix, Poem)\\n3. Launch it and run some queries with GraphQL playground\\n\\nThis is of course a speed run, but you can follow the [same steps](https://github.com/SeaQL/seaography#quick-start---ready-to-serve-in-3-minutes) easily, and the generated framework is fully customizable.\\n\\n### What kinds of queries are supported?\\n\\n#### Filter, Ordering and Pagination\\n\\n```graphql\\n{\\n  film(\\n    filters: {\\n      title: { contains: \\"sea\\" } # \u2b05 like \'%sea%\'\\n      and: [{ releaseYear: { gt: \\"2000\\" } }, { length: { gt: 120 } }]\\n      # \u2b06 composable attribute filters\\n    }\\n    orderBy: { filmId: ASC }\\n    pagination: { page: { page: 0, limit: 10 } }\\n    # \u2b06 cursor based pagination is also supported:\\n    #    pagination: { cursor: { limit: 10, cursor: \\"Int[3]:100\\" } }\\n  ) {\\n    nodes {\\n      filmId\\n      title\\n      description\\n    }\\n    paginationInfo {\\n      pages\\n      current\\n    }\\n  }\\n}\\n```\\n\\n#### Nested Relational Query\\n\\nThe following query finds us all the documentaries starred by the actor \\"David\\" along with the stores having it in stock so that we can go rent it.\\n\\n```graphql\\n{\\n  film(\\n    # \u2b07 filter by related entity\\n    having: { # \u2b05 where exists (..) AND (..)\\n      actor: { firstName: { eq: \\"David\\" } }\\n      category: { name: { eq: \\"Documentary\\" } }\\n    }\\n  ) {\\n    nodes {\\n      filmId\\n      title\\n      # \u2b07 skipped the film_actor junction\\n      actor {\\n        nodes {\\n          firstName\\n          lastName\\n        }\\n      }\\n      # \u2b07 nested relational query\\n      inventory {\\n        nodes {\\n          store {\\n            address {\\n              address\\n              city {\\n                city\\n              }\\n            }\\n          }\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\nThere are two join paths in this query:\\n\\n```rust\\nfilm -> film_actor -> actor\\n     -> inventory -> store -> address -> city\\n```\\n\\nA data loader is used for resolving the relations, such that it does not suffers from the N+1 problem.\\n\\n#### Mutations: create, update, delete\\n\\nFull CRUD is supported, including `CreateOne` `CreateBatch` `Update` and `Delete`.\\n\\n```graphql\\nmutation {\\n  # \u2b07 operations will be executed inside a transaction\\n  filmTextCreateBatch(\\n    data: [\\n      { filmId: 1, title: \\"Foo bar\\", description: \\"Lorem ipsum dolor sit amet\\" }\\n      { filmId: 2, title: \\"Fizz buzz\\", description: \\"Consectetur adipiscing elit\\" }\\n    ]\\n    ) {\\n      filmId\\n      title\\n      description\\n    }\\n}\\n```\\n\\n## Custom Query\\n\\nThe above is not something entirely new, as some features already exist in [Seaography 1.0](https://www.sea-ql.org/blog/2024-07-01-graphql-support-with-loco-seaography/). The real game-changer is how you can implement custom endpoints and mix-and-match them with SeaORM entities. Let\'s dive into it!\\n\\n### Custom Query with pagination\\n\\nSeaography 2.0 introduced a set of macros to allow you to write custom query endpoints by reusing facilities in Seaography.\\n\\nLet\'s say we have a Customer entity:\\n\\n```rust\\n//! This is an entity from the sakila schema, generated by sea-orm-cli\\nuse sea_orm::entity::prelude::*;\\n\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\\n#[sea_orm(table_name = \\"customer\\")]\\npub struct Model {\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub customer_id: i32,\\n    pub store_id: i32,\\n    pub first_name: String,\\n    pub last_name: String,\\n    ..\\n}\\n```\\n\\nWe want to create a custom endpoint, like the one Seaography already provides, but with an additional requirement: only return customers of the current store from which the user makes request from.\\n\\n```rust\\nuse seaography::{apply_pagination, Connection, CustomFields, PaginationInput};\\n\\npub struct Operations;\\n\\n#[CustomFields]\\nimpl Operations {\\n    async fn customer_of_current_store(\\n        ctx: &Context<\'_>,\\n        pagination: PaginationInput,\\n        //          \u2b06 this input struct is provided by Seaography\\n    ) -> async_graphql::Result<Connection<customer::Entity>> {\\n        //  this output struct \u2b06 is provided by Seaography\\n        let db = ctx.data::<DatabaseConnection>()?;\\n        //  \u2b06 this is a normal SeaORM db connection\\n        let session = ctx.data::<Session>()?;\\n        //  \u2b06 this session is inject by the HTTP handler\\n        let query = customer::Entity::find()\\n        //          \u2b06 this is the same old SeaORM API\\n            .filter(customer::Column::StoreId.eq(session.store_id));\\n        //  \u2b06 here we implement our custom logic\\n        // note that here, we haven\'t execute the query yet ..\\n        // instead, we pass it to Seaography to handle the rest!\\n        let connection = apply_pagination(&CONTEXT, db, query, pagination).await?;\\n        //                                         now the query executes \u2b06 \\n\\n        Ok(connection)\\n    }\\n}\\n```\\n\\nThis would expose the following query endpoint:\\n\\n```graphql\\ncustomer_of_current_store(\\n  pagination: PaginationInput\\n): CustomerConnection!\\n```\\n\\nQuery it like the following:\\n\\n```graphql\\n{\\n  customer_of_current_store(pagination: { page: { page: 0, limit: 10 } }) {\\n    nodes {\\n      storeId\\n      customerId\\n      firstName\\n      lastName\\n      email\\n    }\\n    paginationInfo {\\n      pages\\n      current\\n    }\\n  }\\n}\\n```\\n\\nIt\'s almost effortless, right? In just a few lines of code, we\'ve added a new API endpoint that does a lot under the hood.\\nBut the heavylifting is done by Seaography + SeaORM.\\n\\n## How does it work?\\n\\nOn a very high-level, how it all works:\\n\\n1. Seaography bridges SeaORM types with Async GraphQL, such that any SeaORM entity can be used as GraphQL output\\n1. The schema meta of SeaORM entities are transformed into GraphQL schema on-the-fly on application startup\\n\\nThe lifecycle of a GraphQL request:\\n\\n1. Async GraphQL parses the HTTP request and construct a GraphQL request context\\n1. Your http handler intercepts this request and adds in additional session context\\n1. This GraphQL request is passed to Seaography\\n1. Seaography parses the input types and then construct the Rust types\\n1. Your async resolver is called, performing some business logic and returns result to Seaography\\n1. Seaography transforms the output and return to Async GraphQL\\n1. Async GraphQL does some final checks and serializes everything into a HTTP response\\n\\nYou may wonder, isn\'t the above kind of already possible by using Async GraphQL\'s derive macros, for example, by deriving [`SimpleObject`](https://docs.rs/async-graphql/latest/async_graphql/derive.SimpleObject.html) on a SeaORM entity?\\n\\nActually this is how [Seaography 0.1](https://www.sea-ql.org/blog/2022-09-17-introducing-seaography/) worked in its initial release. However, the complex queries we shown you in the beginning is only achievable with a dynamic schema, but in Async GraphQL the static and dynamic schemas are completely different type systems - they can\'t inter-operate ... until now!\\n\\nThe difference is, the transformation between SeaORM Model `<->` GraphQL Model happens dynamically, so there\'s not a ton of code generated beneath the surface.\\n\\n## Custom Mutation\\n\\nLet\'s continue on making custom mutation endpoints. Say now we want to create a transactional endpoint for staff members in store to handle customer rentals.\\n\\nFirst we can design the data structures for the input form:\\n\\n```rust\\nuse sea_orm::entity::prelude::{DateTimeUtc};\\nuse seaography::{async_graphql, CustomFields, CustomInputType};\\n\\n#[derive(Clone, CustomInputType)]\\npub struct RentalRequest {\\n    pub customer: String,\\n    pub film: String,\\n    pub coupon: Option<Coupon>,\\n    pub timestamp: DateTimeUtc,\\n}\\n\\n#[derive(Clone, CustomInputType)]\\npub struct Coupon {\\n    pub code: String,\\n    pub points: Option<Decimal>,\\n}\\n```\\n\\nThen we can define the mutation endpoint:\\n\\n```rust\\n#[CustomFields]\\nimpl Operations {\\n    async fn rental_request(\\n        ctx: &Context<\'_>,\\n        rental_request: RentalRequest,\\n        //              \u2b06 our custom input struct\\n    ) -> async_graphql::Result<rental::Model> {\\n        //                     \u2b06 a normal SeaORM Model\\n        let db = ctx.data::<DatabaseConnection>()?;\\n        let session = ctx.data::<Session>()?;\\n        let txn = db.begin().await?;\\n        //  \u2b06 create a transaction to make operation atomic\\n\\n        let customer = Customer::find_by_name(rental_request.customer, &txn).await?;\\n        let film = Film::find_by_name(rental_request.film, &txn).await?;\\n        //  \u2b06 helper methods to find the corresponding customer and film\\n\\n        //  \u2b07 find if there is inventory in current store\\n        let inventory = Inventory::find()\\n            .filter(inventory::Column::FilmId.eq(film.id))\\n            .filter(inventory::Column::StoreId.eq(session.store_id))\\n            .one(&txn)\\n            .unwrap_or(Error::NoInventory)?;\\n        //  \u2b06 return error if no inventory\\n\\n        let rental = rental::ActiveModel {\\n            rental_date: Set(rental_request.timestamp),\\n            inventory_id: Set(inventory.id),\\n            customer_id: Set(customer.id),\\n            staff_id: Set(session.staff_id), // \u2b05 current staff\\n            last_update: Set(Utc::now()),\\n            ..Default::default()\\n        }.insert(&txn).await?;\\n\\n        inventory.delete(&txn).await?;\\n        //       \u2b06 now remove it from inventory\\n        txn.commit().await?;\\n        // \u2b07 return the newly created rental record\\n        Ok(rental)\\n    }\\n}\\n```\\n\\nThe `Coupon` object is used to demonstrate that nested objects are supported, and it will be reflected in the GraphQL schema. I will leave it as an exercise for you to fit in the logic for handling it.\\n\\n### Custom methods and unions\\n\\nThe GraphQL type system is very expressive (so is Rust), and so I want to demonstrate two more advanced features:\\n\\n```rust\\n#[derive(Clone, CustomInputType, CustomOutputType)]\\npub struct Rectangle {\\n    pub origin: Point,\\n    pub size: Size,\\n}\\n\\n#[CustomFields]\\nimpl Rectangle {\\n    pub async fn area(&self) -> async_graphql::Result<f64> {\\n        //            \u2b06 this is an instance method\\n        Ok(self.size.width * self.size.height)\\n    }\\n}\\n\\n#[derive(Clone, CustomInputType, CustomOutputType)]\\npub struct Circle {\\n    pub center: Point,\\n    pub radius: f64,\\n}\\n\\n#[CustomFields]\\nimpl Circle {\\n    pub async fn area(&self) -> async_graphql::Result<f64> {\\n        Ok(std::f64::consts::PI * self.radius * self.radius)\\n    }\\n}\\n\\n#[derive(Clone, CustomInputType, CustomOutputType)]\\npub enum Shape {\\n    Rectangle(Rectangle),\\n    Circle(Circle),\\n    Triangle(Triangle),\\n}\\n```\\n\\nAfter registering as `complex_custom_outputs`, they will appear like below in the GraphQL schema:\\n\\n```graphql\\nunion Shape = Rectangle | Circle | Triangle\\n\\ntype Rectangle {\\n  origin: Point!\\n  size: Size!\\n  area: Float! # \u2b05 as a \'computed property\'\\n}\\n```\\n\\nThe `area` method will only be invoked when a query includes this field. Note that it is an async function, so you can even do database queries inside the function. For example, you can return a `SimpleObject` from a related model.\\n\\nThe union type definition allows you to use union types in input / output, a very natural construct in Rust.\\n\\nFull example can be found [here](https://github.com/SeaQL/seaography/blob/main/examples/sqlite/src/query_root.rs).\\n\\n## Lifecycle hooks\\n\\nIn Seaography, all logic is centralized in the same process, and it allows you to inject arbitrary custom logic throughout the request lifecycle using hooks. You can even implement access control this way.\\n\\n### Fine\u2011grained Access Control\\n\\nImagine you have a drawing app, and users can only access projects they own. You can implement the access control logic like the following:\\n\\n```rust\\nstruct AccessControlHook;\\n\\nimpl LifecycleHooksInterface for AccessControlHook {\\n    fn entity_filter(\\n        &self,\\n        ctx: &ResolverContext,\\n        entity: &str,\\n        _action: OperationType, // \u2b05 Read, Create, Update, Delete\\n    ) -> Option<Condition> {\\n        let session = ctx.data::<Session>()?;\\n        //  \u2b06 extract user session\\n        match entity {\\n            \\"Project\\" => Some(\\n                Condition::all()\\n                    .add(project::Column::OwnerId.eq(session.user_id))\\n                //  \u2b06 add custom filter condition\\n            ),\\n            _ => None,\\n        }\\n    }\\n}\\n```\\n\\nBy registering that into Seaography, this function will be called every time an Entity is being accessed:\\n\\n```rust\\nlazy_static::lazy_static! {\\n    static ref CONTEXT : BuilderContext = {\\n        BuilderContext {\\n            hooks: LifecycleHooks::new(AccessControlHook),\\n            ..Default::default()\\n        }\\n    };\\n}\\n```\\n\\n### Other hooks\\n\\nThere are many useful hooks for type conversion, access guard, event notification, etc.\\n\\n```rust\\npub trait LifecycleHooksInterface: Send + Sync {\\n    /// This happens before an Entity is accessed\\n    fn entity_guard(\\n        &self, ctx: &ResolverContext, entity: &str, action: OperationType\\n    ) -> GuardAction {\\n        GuardAction::Allow\\n    }\\n\\n    /// This happens after an Entity is mutated\\n    async fn entity_watch(\\n        &self, ctx: &ResolverContext, entity: &str, action: OperationType\\n    ) {}\\n}\\n```\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: A Seaography Showcase\\n\\n<img src=\\"/blog/img/sea-orm-pro-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-dark.png#dark\\" />\\n\\nWith [SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/), you can launch a ready-to-use admin panel in minutes. Built on Seaography, it demonstrates the seamless integration of the full technology stack - async Rust backend, React frontend, and GraphQL as the protocol.\\n\\nSeaORM Pro has been updated to support the latest features in SeaORM 2.0, with [RBAC](https://www.sea-ql.org/blog/2025-09-30-sea-orm-rbac/) support now available for preview in [SeaORM Pro Plus](https://www.sea-ql.org/sea-orm-pro/docs/introduction/sea-orm-pro-plus/).\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Customize the UI with TOML config\\n+ GraphQL resolver using Seaography\\n+ Custom GraphQL endpoints *(new in 2.0)*\\n+ Role Based Access Control *(new in 2.0)*\\n\\n## Conclusion\\n\\nIt took us a long time to get here, but this is our vision for application development in Rust: a framework that makes it effortless to get started, gives developers a ton of functionality out of the box, and still provides the power and flexibility to build complex applications.\\n\\nWe\'re heavily inspired by tools in the Python, Ruby and node.js ecosystem. You can draw some parallels between Seaography and FastAPI:\\n\\n| Seaography | FastAPI |\\n|--------|-------|\\n| GraphQL API | Rest API |\\n| GraphQL schema | JSON Schema |\\n| GraphQL Playground | Swagger UI |\\n| Rust native types | Pydantic |\\n| SeaORM | SQLModel |\\n\\nIn another sense, Seaography is like PostGraphile, offering instant GraphQL API for SQL databases:\\n\\n| Seaography | PostGraphile |\\n|--------|-------|\\n| MySQL, Postgres, SQLite, [SQL Server*](https://www.sea-ql.org/SeaORM-X/) | Postgres |\\n| Compiled schema | Runtime generated schema |\\n| SeaORM\'s RBAC | Postgres\' RLS |\\n| Lifecycle hooks, builder context | Plugins |\\n\\n## Sponsors\\n\\nThis Seaography release has been made possible through the generous sponsorship of [QDX](https://qdx.co/) and their close collaboration with SeaQL.org. QDX has built their data-driven applications with the Seaography + SeaORM stack, and we are deeply grateful for their contributions - both financial and technical - that helped bring this release to reality.\\n\\nWe welcome companies to [collaborate with SeaQL.org](mailto:hello@sea-ql.org) to adopt and unlock the full potential of the Rust + SeaQL ecosystem, with our team providing expert technical consulting to support their software development.\\n\\n### Gold Sponsor\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring SeaQL.org."},{"id":"2025-09-30-sea-orm-rbac","metadata":{"permalink":"/preview/pr-154/blog/2025-09-30-sea-orm-rbac","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-09-30-sea-orm-rbac.md","source":"@site/blog/2025-09-30-sea-orm-rbac.md","title":"Role Based Access Control in SeaORM 2.0","description":"SeaORM 2.0 introduces Role-Based Access Control (RBAC), bringing first-class authorization into your data layer. No more bolting on ad-hoc permission checks or scattering business rules across services - SeaORM lets you define roles and permission rules and enforce access policies directly inside the database connection. It\'s a powerful tool for building multi\u2011faceted applications that demand authorization.","date":"2025-09-30T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":13.03,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-09-30-sea-orm-rbac","title":"Role Based Access Control in SeaORM 2.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Seaography 2.0: A Powerful and Extensible GraphQL Framework","permalink":"/preview/pr-154/blog/2025-10-08-seaography"},"nextItem":{"title":"SeaORM 2.0: A closer look","permalink":"/preview/pr-154/blog/2025-09-24-sea-orm-2.0"}},"content":"<img alt=\\"SeaORM 2.0 Banner\\" src=\\"/blog/img/SeaORM%202.0%20Banner.png\\"/>\\n\\nSeaORM 2.0 introduces Role-Based Access Control (RBAC), bringing first-class authorization into your data layer. No more bolting on ad-hoc permission checks or scattering business rules across services - SeaORM lets you define roles and permission rules and enforce access policies directly inside the database connection. It\'s a powerful tool for building multi\u2011faceted applications that demand authorization.\\n\\n## Overview of SeaORM RBAC\\n\\nHere is a high level overview of the design and the requirements that shaped them:\\n\\n1. Table\u2011level access control\\n\\nDifferent user groups can only read or modify certain tables, e.g. customers can only read invoices, but not modify them.\\n\\nDesign: RBAC engine is table\u2011scoped so permissions can be expressed directly in terms of CRUD on tables.\\n\\n2. Simplicity of user assignment\\n\\nEach user should have a clear, unambiguous role to avoid confusion.\\n\\nDesign: one user = one role. This prevents complexity of multiple roles per user.\\n\\n3. Role hierarchy and inheritance\\n\\nWe want to create roles that inherit from multiple roles like A = B + C where A will have the union of permissions from B and C.\\n\\nWe want to avoid duplicating permission sets across roles. For example, a \'Manager\' should automatically get all \'Employee\' permissions, plus extras.\\n\\nDesign: Hierarchical roles with multiple inheritance.\\n\\n4. Granular, composable permissions\\n\\nWe need to allow fine\u2011grained control like \'read customers but not update them\'. We want permission grant to be easy to reason about.\\n\\nDesign: Role can be assigned set of permissions (CRUD) on resources (tables). Permissions are additive, once granted, cannot be taken away (but can be overridden on a per user basis).\\n\\n5. Extensibility\\n\\nWe want to extend beyond tables (e.g. application specific actions, or even non\u2011DB resources).\\n\\nDesign: Engine is generic - resource + permission abstraction can be applied to more than just CRUD operations on SQL tables.\\n\\n6. Wildcard for convenience\\n\\nSometimes we need to grant superusers full access without enumerating every resource/permission.\\n\\nDesign: Opt\u2011in `*` wildcard for \'all permissions\' or \'all resources.\'\\n\\n7. Per\u2011user overrides\\n\\nOccasionally, a single user needs an exception (e.g. a contractor who can only read one table, or a manager who should be denied one sensitive table).\\n\\nDesign: User\u2011level overrides to grant/deny permissions.\\n\\n## Why reinventing the wheel?\\n\\nOur first thought is to look into the possibility of integrating an existing open-source RBAC engine, but we developed our own in the end, because we want to integrate it tightly with SeaORM.\\n\\n1. Rules and permissions live in the same database as your app\\n\\nBy storing roles and permissions in the same database as your application data, you keep everything in one place. There\'s no separate DSL, no external policy files, and no risk of your access rules drifting out of sync with your schema. So you can query and update RBAC rules in migrations, just like other tables. Having a single source of truth simplifies development and deployment.\\n\\n2. The hard part isn\'t expressing rules, it\'s enforcing them\\n\\nMost policy engines are great at describing rules in abstract terms, but the real challenge is: how do you actually enforce those rules against SQL queries? With an external library, we still need to analyze raw SQL statements ourselves and match that up with the rule definitions. By embedding RBAC directly into SeaORM, we can analyze all queries and enforce those rules.\\n\\n3. Lightweight and performant\\n\\nBecause the RBAC engine is part of SeaORM itself, it\'s lightweight and integrated - no extra runtime or external dependency. The runtime cost is also minimal, and most importantly, you don\'t pay for what you don\'t use. This feature can be turned off completely.\\n\\n## Concepts\\n\\nLet\'s take a look at the [RBAC schema](https://github.com/SeaQL/sea-orm/tree/master/src/rbac/entity) and go through the entities.\\n\\n<img src=\\"/blog/img/sea-orm-rbac-schema.png\\" />\\n\\n### Entities\\n\\n#### User\\n\\nThe user table is defined by your application. SeaORM doesn\'t manage that. However we currently require it to have an integer key.\\n\\n#### Role\\n\\nEach role comes with a set of privileges. For example, \'admin\', \'sales manager\' and \'customer service\'.\\n\\n#### Permissions\\n\\nThe actions we can perform on resources. There are 4 basic permissions, `select`, `insert`, `update` and `delete`. You can define more for your application.\\n\\n#### Resources\\n\\nThe resources being accessed. In our case they are database tables.\\n\\n### Relations\\n\\n#### User `<->` Role\\n\\nAs mentioned in the design above, User has a 1-1 relationship with role, meaning each user can only be assigned at most 1 role.\\n\\n#### Role Hierarchy\\n\\nRole has a self-referencing relation, and they form a DAG (Directed Acyclic Graph). Most commonly they form a hierarchy tree that somewhat resembles an organization chart.\\n\\nA simple tree example:\\n\\n```rust\\nadmin <- manager <- sales\\n                 <- warehouse\\n```\\n\\nIf we add the following to the graph, such that each role can have multiple super roles, then it becomes a DAG.\\n\\n```rust\\nadmin <- sourcing <- warehouse\\n```\\n\\nEach role has their own set of permissions. On runtime, the engine will walk the role hierarchy and take the union of all permissions of the sub-graph.\\n\\n#### Role `<->` Permission `<->` Resource\\n\\nEach role can have many such entries, and permission is set for each resource individually. For example: `manager - update - order`.\\n\\n#### User override\\n\\nThe schema is a mirror of above: User `<->` Permission `<->` Resource, with an extra `grant` field, `false` means deny.\\n\\n## Usage\\n\\nThere are two stages: rules definiton when the RBAC rules are defined, and runtime authorization when these rules are enforced.\\n\\n### Rules Definition\\n\\nYou can actually update the rules using the provided [SeaORM entities](https://github.com/SeaQL/sea-orm/tree/master/src/rbac/entity), but we provide a set of utilities to make mutating RBAC rules easier.\\n\\nThese methods are idempotent and can be used in migrations.\\n\\n#### Create RBAC tables\\n\\n```rust\\nsea_orm::rbac::schema::create_tables(db, Default::default()).await?;\\n```\\n\\n#### Add resources & permissions\\n\\n```rust\\nlet mut context = RbacContext::load(db).await?;\\n\\nlet tables = [\\n    baker::Entity.table_name(),\\n    bakery::Entity.table_name(),\\n    cake::Entity.table_name(),\\n    cakes_bakers::Entity.table_name(),\\n    customer::Entity.table_name(),\\n    lineitem::Entity.table_name(),\\n    order::Entity.table_name(),\\n    \\"*\\", // WILDCARD\\n];\\n\\ncontext.add_tables(db, &tables).await?;\\ncontext.add_crud_permissions(db).await?;\\n```\\n\\n#### Define roles\\n\\nFirst we create the roles.\\n\\n```rust\\ncontext.add_roles(db, &[\\"admin\\", \\"manager\\", \\"public\\"]).await?;\\n```\\n\\nThen we can define the role hierarchy.\\n\\n```rust\\nadmin <- manager <- public\\n```\\n\\n```rust\\ncontext\\n    .add_role_hierarchy(\\n        db,\\n        &[\\n            RbacAddRoleHierarchy {\\n                super_role: \\"admin\\",\\n                role: \\"manager\\",\\n            },\\n            RbacAddRoleHierarchy {\\n                super_role: \\"manager\\",\\n                role: \\"public\\",\\n            },\\n        ],\\n    )\\n    .await?;\\n```\\n\\n#### Add role permissions\\n\\nThe permission and resource sets will be multiplied, i.e. Cartesian product taken.\\n\\n```rust\\n// public can select everything, here wildcard is used\\ncontext.add_role_permissions(db, \\"public\\", &[\\"select\\"], &[\\"*\\"]).await?;\\n```\\n\\n```rust\\n// manager can create / update cake and baker\\ncontext\\n    .add_role_permissions(\\n        db,\\n        \\"manager\\",\\n        &[\\"insert\\", \\"update\\"],\\n        &[\\"cake\\", \\"baker\\", \\"cakes_bakers\\"],\\n    )\\n    .await?;\\n```\\n\\n```rust\\n// admin can CRUD everything\\ncontext\\n    .add_role_permissions(db, \\"admin\\", &[\\"insert\\", \\"update\\", \\"delete\\"], &[\\"*\\"])\\n    .await?;\\n```\\n\\n#### Assign user role\\n\\n```rust\\ncontext\\n    .assign_user_role(db, &[\\n        // (user_id, role)\\n        (1, \\"admin\\"),\\n        (2, \\"manager\\"),\\n        (3, \\"public\\"),\\n    ])\\n    .await?;\\n```\\n\\n### Runtime Authorization\\n\\nWith these rules defined, we can now use them in our application.\\n\\n#### Initialize RBAC engine\\n\\nBy default, it expects the RBAC tables are in the same database schema as the current connection. They can also be fetched from another database connection.\\n\\n```rust\\nlet db: &DbConn;\\n\\ndb.load_rbac().await?;\\n```\\n\\nThe RBAC rules are cached in memory and shared among all database connections via `RwLock`, so they can be reloaded anytime.\\n\\n#### Authenticate user\\n\\nThis can be done by a web framework, where the user identity is extracted from a JWT token from HTTP requests. Here we assign them manually.\\n\\n```rust\\nuse sea_orm::rbac::RbacUserId;\\nlet admin = RbacUserId(1);\\nlet manager = RbacUserId(2);\\nlet public = RbacUserId(3);\\n```\\n\\n#### Create restricted connection\\n\\nThis is the key step. Once a `RestrictedConnection` is created, it is bounded to the user for the lifetime of the object. It is cheap to create and destroy them, as they are just `Arc` inside.\\n\\nThe `RestrictedConnection` implements the standard `DatabaseConnection` API, so it can be used in place of a normal `DbConn`.\\n\\nAll queries made through SeaORM, including through Entity (`ActiveModel`) or lower level APIs (`Insert`) are audited. Only queries with matching permissions will be executed. DDL (i.e. `ALTER`) and raw SQL are not supported for now, so they will be rejected.\\n\\n```rust\\nlet db: RestrictedConnection = db.restricted_for(admin)?;\\n```\\n\\nBy writing functions only accepting `RestrictedConnection`, you can safeguard all operations within the scope of the function, as there is no way from a type system sense for it to degrade into normal `DatabaseConnection`. (In Rust we normally don\'t do singleton / global scope, so any operation having global side effects is very obvious.)\\n\\n```rust\\n// admin can create bakery\\noperation(db.restricted_for(admin)?).await?;\\n\\nfn operation(db: RestrictedConnection) -> Result<(), DbErr> {\\n    let seaside_bakery = bakery::ActiveModel {\\n        name: Set(\\"SeaSide Bakery\\".to_owned()),\\n        profit_margin: Set(10.2),\\n        ..Default::default()\\n    };\\n\\n    let res = Bakery::insert(seaside_bakery).exec(&db).await?;\\n    let bakery: Option<bakery::Model> = \\n        Bakery::find_by_id(res.last_insert_id).one(&db).await?;\\n\\n    assert_eq!(bakery.unwrap().name, \\"SeaSide Bakery\\");\\n    Ok(())\\n}\\n```\\n\\n```rust\\n// manager can\'t create bakery\\noperation(db.restricted_for(manager)?).await?;\\n\\nfn operation(db: RestrictedConnection) -> Result<(), DbErr> {\\n    assert!(matches!(\\n        Bakery::insert(bakery::ActiveModel::default())\\n            .exec(db)\\n            .await,\\n        Err(DbErr::AccessDenied { .. })\\n    ));\\n    Ok(())\\n}\\n```\\n\\n```rust\\n// manager can create cake & baker\\noperation(db.restricted_for(manager)?).await?;\\n\\nfn operation(db: RestrictedConnection) -> Result<(), DbErr> {\\n    cake::Entity::insert(cake::ActiveModel {\\n        name: Set(\\"Cheesecake\\".to_owned()),\\n        price: Set(2.into()),\\n        bakery_id: Set(Some(1)),\\n        gluten_free: Set(false),\\n        ..Default::default()\\n    })\\n    .exec(&db)\\n    .await?;\\n\\n    // transaction is supported: using async closure\\n    db.transaction::<_, _, DbErr>(|txn| {\\n        Box::pin(async move {\\n            cake::Entity::insert(cake::ActiveModel {\\n                name: Set(\\"Chocolate\\".to_owned()),\\n                price: Set(3.into()),\\n                bakery_id: Set(Some(1)),\\n                gluten_free: Set(true),\\n                ..Default::default()\\n            })\\n            .exec(txn)\\n            .await?;\\n\\n            Ok(())\\n        })\\n    })\\n    .await?;\\n\\n    // transaction using the begin / commit API\\n    let txn: RestrictedTransaction = db.begin().await?;\\n\\n    baker::Entity::insert(baker::ActiveModel {\\n        name: Set(\\"Master Baker\\".to_owned()),\\n        contact_details: Set(Default::default()),\\n        bakery_id: Set(Some(1)),\\n        ..Default::default()\\n    })\\n    .exec(&txn)\\n    .await?;\\n\\n    txn.commit().await?;\\n    Ok(())\\n}\\n```\\n\\nThat\'s it! I hope the information above can get you started.\\n\\n## Conclusion\\n\\nRBAC is a new feature in SeaORM 2.0. We\'d love for you to try it out and help shape the final release by [sharing your feedback](https://github.com/SeaQL/sea-orm/discussions/2548).\\n\\nThe RBAC engine is a first class construct in SeaORM, implemented underneath the application layer but above the database layer.\\n\\nWe believe this is the most robust approach: if it\'s implemented on the web framework level, it\'s easy to forget permission checks or some code paths can accidentally escape. Plus it will work for your application, whether you\'re building REST, gRPC, or GraphQL servers.\\n\\nIn SeaORM, analysis is done on SeaQuery AST, so it\'s almost free - we already have the AST in memory. Thanks to SeaQuery\'s feature-rich API, you can construct any complex query, including CTEs!\\n\\nCompared to using the database engine\'s native access control capabilities, SeaORM is much easier to setup, reason about, and develop with. Plus it is database generic, so you can use it with SQLite.\\n\\nEverything, including the code and rules is defined in one place, so you have a single source of truth. We believe Rust and SeaQL ecosystem is the best way to build performant, scalable and robust applications!\\n\\nWe\'ll dive into GraphQL with Seaography in the next post, so keep an eye out for the next update!\\n\\n## SQL Server Support\\n\\n[SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) offers the same SeaORM API for MSSQL. We ported all test cases and examples, complemented by MSSQL specific documentation. If you are building enterprise software, you can [request commercial access](https://forms.office.com/r/1MuRPJmYBR). It is currently based on SeaORM 1.0, but we will offer free upgrade to existing users when SeaORM 2.0 is finalized, including RBAC support.\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: Professional Admin Panel\\n\\n<img src=\\"/blog/img/sea-orm-pro-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-dark.png#dark\\" />\\n\\n[SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/) is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Built-in GraphQL resolver\\n+ Customize the UI with TOML config\\n+ Custom GraphQL endpoints *(new in 2.0)*\\n+ Role Based Access Control *(new in 2.0)*\\n\\nSeaORM Pro will be updated to support the latest features in SeaORM 2.0, RBAC support is now available for preview in [SeaORM Pro Plus](https://www.sea-ql.org/sea-orm-pro/docs/introduction/sea-orm-pro-plus/).\\n\\n<img src=\\"/blog/img/sea-orm-pro-rbac-editor-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-rbac-editor-dark.png#dark\\" />\\n\\nRBAC-related features in SeaORM Pro Plus:\\n\\n+ Permission editor GUI\\n+ Role hierarchy visualization\\n+ User role assignment\\n+ Add/remove user overrides\\n\\n## Sponsors\\n\\n### Gold Sponsor\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.\\n\\n### GitHub Sponsors\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n<div class=\\"row margin-left--sm\\">\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/ryanswrt\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/OteroRafael\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/175388115?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/higumachan\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/wh7f\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/59872041?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcson909\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/16665353?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/numeusxyz\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/82152211?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/data-intuitive\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/caido-community\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/168573261?v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcusbuffett\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\n        </a>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row margin-left--sm\\">\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4\\" />\\n        </a>\\n    </div>\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\n        </a>\\n    </div>\\n</div>\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography\\n- Mascots: Ferris the Crab x 3, Terres the Hermit Crab\\n- The Rustacean wordmark\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-09-24-sea-orm-2.0","metadata":{"permalink":"/preview/pr-154/blog/2025-09-24-sea-orm-2.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-09-24-sea-orm-2.0.md","source":"@site/blog/2025-09-24-sea-orm-2.0.md","title":"SeaORM 2.0: A closer look","description":"In the previous blog post, we highlighted some of the new features in SeaORM 2.0. In this post, we\'re going to take a closer look to some of the changes under the hood.","date":"2025-09-24T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":14.56,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-09-24-sea-orm-2.0","title":"SeaORM 2.0: A closer look","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Role Based Access Control in SeaORM 2.0","permalink":"/preview/pr-154/blog/2025-09-30-sea-orm-rbac"},"nextItem":{"title":"A Sneak Peek at SeaORM 2.0","permalink":"/preview/pr-154/blog/2025-09-16-sea-orm-2.0"}},"content":"<img alt=\\"SeaORM 2.0 Banner\\" src=\\"/blog/img/SeaORM%202.0%20Banner.png\\"/>\\n\\nIn the [previous blog post](https://www.sea-ql.org/blog/2025-09-16-sea-orm-2.0/), we highlighted some of the new features in SeaORM 2.0. In this post, we\'re going to take a closer look to some of the changes under the hood.\\n\\n### Overhauled `Entity::insert_many`\\n\\n[#2628](https://github.com/SeaQL/sea-orm/pull/2628) We\'ve received many issue reports around the `insert_many` API. Previously, `insert_many` shares the same helper struct with `insert_one`, which led to an awkard API:\\n\\n```rust\\nlet res = Bakery::insert_many(std::iter::empty())\\n    .on_empty_do_nothing() // <- you needed to add this,\\n                           // otherwise insert empty [] would lead to error\\n    .exec(db)\\n    .await;\\n\\nassert!(matches!(res, Ok(TryInsertResult::Empty)));\\n```\\n\\nAfter careful consideration, we made a number of changes in 2.0:\\n\\n1. removed APIs (e.g. `Insert::add`) that can panic\\n2. new helper struct `InsertMany`, `last_insert_id` is now `Option<Value>`\\n3. on empty iterator, `None` (for `last_insert_id`) or `vec![]` (when returning) is returned on execution\\n4. `TryInsert` API is unchanged\\n\\ni.e. now `last_insert_id` is `Option<Value>` for `InsertMany`:\\n\\n```rust\\nstruct InsertManyResult<A: ActiveModelTrait>\\n{\\n    pub last_insert_id: Option<<PrimaryKey<A> as PrimaryKeyTrait>::ValueType>,\\n}\\n```\\n\\nWhich means the awkardness is removed:\\n\\n```rust\\nlet res = Entity::insert_many::<ActiveModel, _>([]).exec(db).await;\\n\\nassert_eq!(res?.last_insert_id, None); // insert nothing return None\\n\\nlet res = Entity::insert_many([ActiveModel { id: Set(1) }, ActiveModel { id: Set(2) }])\\n    .exec(db)\\n    .await;\\n\\nassert_eq!(res?.last_insert_id, Some(2)); // insert something return Some\\n```\\n\\nExec with returning now returns a `Vec<Model>`, so it feels intuitive:\\n```rust\\nassert!(\\n    Entity::insert_many::<ActiveModel, _>([])\\n        .exec_with_returning(db)\\n        .await?\\n        .is_empty() // no footgun, nice\\n);\\n\\nassert_eq!(\\n    Entity::insert_many([\\n        ActiveModel {\\n            id: NotSet,\\n            value: Set(\\"two\\".into()),\\n        }\\n    ])\\n    .exec_with_returning(db)\\n    .await\\n    .unwrap(),\\n    [\\n        Model {\\n            id: 2,\\n            value: \\"two\\".into(),\\n        }\\n    ]\\n);\\n```\\n\\nSame on conflict API as before:\\n\\n```rust\\nlet res = Entity::insert_many([ActiveModel { id: Set(3) }, ActiveModel { id: Set(4) }])\\n    .on_conflict_do_nothing()\\n    .exec(db)\\n    .await;\\n\\nassert!(matches!(conflict_insert, Ok(TryInsertResult::Conflicted)));\\n```\\n\\n### Overhauled `ConnectionTrait` API\\n\\n[#2657](https://github.com/SeaQL/sea-orm/pull/2657)\\nWe overhauled the `ConnectionTrait` API. `execute`, `query_one`, `query_all`, `stream` now takes in SeaQuery statement instead of raw SQL statement.\\n\\nSo you don\'t have to access the backend to build the query yourself.\\n\\n```rust\\n// old\\nlet query: SelectStatement = Entity::find().filter(..).into_query();\\nlet backend = self.db.get_database_backend();\\nlet stmt = backend.build(&query);\\nlet rows = self.db.query_all(stmt).await?;\\n\\n// new\\nlet query: SelectStatement = Entity::find().filter(..).into_query();\\nlet rows = self.db.query_all(&query).await?;\\n```\\n\\nA new set of methods `execute_raw`, `query_one_raw`, `query_all_raw`, `stream_raw` is added, so you can still do the following:\\n\\n```rust\\nlet backend = self.db.get_database_backend();\\nlet stmt = backend.build(&query);\\n\\n// new\\nlet rows = self.db.query_all_raw(stmt).await?;\\n```\\n\\n### Better error handling in `UpdateOne` / `DeleteOne`\\n\\n[#2726](https://github.com/SeaQL/sea-orm/pull/2726) `UpdateOne` and `DeleteOne` no longer implement `QueryFilter` and `QueryTrait`\\ndirectly. Those implementations could expose an incomplete SQL query with an incomplete condition that touches too many records.\\n\\n```rust\\n// bad: the following is basically update all\\nlet query: UpdateStatement = Update::one(cake::ActiveModel::default()).into_query();\\n```\\n\\nTo generate the right condition, we must make sure that the primary key is set on the input `ActiveModel` by\\ncalling the `validate()` method:\\n```rust\\nUpdate::one(active_model)\\n  + .validate()? // checks the query; may yield PrimaryKeyNotSet error\\n    .build(DbBackend::Postgres)\\n```\\n\\n#### Potential compile errors\\n\\nIf you need to access the generated SQL query, convert into `ValidatedUpdateOne`/`ValidatedDeleteOne` first.\\n```rust\\nerror[E0599]: no method named `build` found for struct `query::update::UpdateOne` in the current scope\\n   --\x3e src/entity/column.rs:607:22\\n    |\\n  > | /                 Update::one(active_model)\\n  > | |                     .build(DbBackend::Postgres)\\n    | |                     -^^^^^ method not found in `UpdateOne<A>`\\n    | |_____________________|\\n    |\\n```\\n\\n### Added `has_many_via` for reverse has many relation\\n\\nConsider the following entities:\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"bakery\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub name: String,\\n    pub manager_id: i32,\\n    pub cashier_id: i32,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"super::worker::Entity\\",\\n        from = \\"Column::ManagerId\\",\\n        to = \\"super::worker::Column::Id\\"\\n    )]\\n    Manager,\\n    #[sea_orm(\\n        belongs_to = \\"super::worker::Entity\\",\\n        from = \\"Column::CashierId\\",\\n        to = \\"super::worker::Column::Id\\"\\n    )]\\n    Cashier,\\n}\\n```\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"worker\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub name: String,\\n}\\n```\\n\\nThere exist two relations between them:\\n\\n```sh\\nBakery -> Worker (Manager)\\n       -> Worker (Cashier)\\n```\\n\\nIt\'s now possible to define the inverse side of the relations in `Worker`:\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"worker\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub name: String,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(has_many = \\"super::bakery::Entity\\", via = \\"Relation::Manager\\")]\\n    BakeryManager,\\n    #[sea_orm(has_many = \\"super::bakery::Entity\\", via = \\"Relation::Cashier\\")]\\n    BakeryCashier,\\n}\\n```\\n\\nThese relations can then be used in queries:\\n\\n```rust\\nassert_eq!(\\n    worker::Entity::find().join(\\n        JoinType::LeftJoin,\\n        worker::Relation::BakeryManager.def(),\\n    )\\n    .build(DbBackend::Sqlite)\\n    .to_string(),\\n    r#\\"SELECT \\"worker\\".\\"id\\", \\"worker\\".\\"name\\" FROM \\"worker\\"\\n       LEFT JOIN \\"bakery\\" ON \\"worker\\".\\"id\\" = \\"bakery\\".\\"manager_id\\"\\"#\\n);\\n```\\n\\n### Use of transaction with generic connections\\n\\nYou can already use `TransactionTrait` as a generic parameter to define functions accepting any connection object that can initiate transactions.\\n\\nIn SeaORM 2.0, there are new database-connection-like objects: `RestrictedConnection` and `RestrictedTransaction`. They implement `ConnectionTrait` and `TransactionTrait`, and behaves just like normal `DatabaseConnection`s except that they performs additional checks on queries.\\n\\n| Connection type | Associated transaction type |\\n|-------|-------|\\n| `DatabaseConnection` | `DatabaseTransaction` |\\n| `RestrictedConnection` | `RestrictedTransaction` |\\n\\n```rust\\n// new connection type\\npub struct RestrictedConnection {\\n    conn: DatabaseConnection, // just a wrapper\\n    user_id: UserId,\\n}\\n\\nimpl TransactionTrait for RestrictedConnection {\\n    type Transaction = RestrictedTransaction; // added associated type\\n}\\n```\\n\\nMeaning the following would continue to work:\\n\\n```rust\\n// accepts any one of DatabaseConnection / DatabaseTransaction / RestrictedConnection / RestrictedTransaction.\\n// nested transactions will be spawned for transaction objects\\nasync fn perform_actions<C: TransactionTrait>(\\n    db: &C,\\n    actions: &[Action],\\n) -> Result<(), DbErr> {\\n    let txn = db.begin().await?;\\n\\n    for action in actions {\\n        txn.execute(perform(action)).await?;\\n    }\\n\\n    txn.commit().await\\n}\\n```\\n\\n### Removing panics from API\\n\\nSeaORM has a large API surface. We\'ve already removed a great number of `unwrap`s from the codebase in 1.0 release, but some panics due to \\"mis-use of API\\" can still happen.\\n\\nOnce again, we\'ve tried to remove the remaining panics.\\n\\n* [#2630](https://github.com/SeaQL/sea-orm/pull/2630) Added new error variant `BackendNotSupported`. Previously, it panics with e.g. \\"Database backend doesn\'t support RETURNING\\"\\n```rust\\nlet result = cake::Entity::insert_many([])\\n    .exec_with_returning_keys(db)\\n    .await;\\n\\nif db.support_returning() {\\n    // Postgres and SQLite\\n    assert_eq!(result.unwrap(), []);\\n} else {\\n    // MySQL\\n    assert!(matches!(result, Err(DbErr::BackendNotSupported { .. })));\\n}\\n```\\n* [#2627](https://github.com/SeaQL/sea-orm/pull/2627) Added new error variant `PrimaryKeyNotSet`. Previously, it panics with \\"PrimaryKey is not set\\"\\n```rust\\nassert!(matches!(\\n    Update::one(cake::ActiveModel {\\n        ..Default::default()\\n    })\\n    .exec(&db)\\n    .await,\\n    Err(DbErr::PrimaryKeyNotSet { .. })\\n));\\n```\\n* [#2634](https://github.com/SeaQL/sea-orm/pull/2634) Remove panics in `Schema::create_enum_from_active_enum`\\n```rust\\n// method can now return None\\nfn create_enum_from_active_enum<A>(&self) -> Option<TypeCreateStatement>\\n```\\n* [#2628](https://github.com/SeaQL/sea-orm/pull/2628) Remove panickable APIs from insert\\n```rust\\n    /// Add a Model to `Insert`\\n    ///\\n    /// # Panics\\n    ///\\n    /// Panics if the rows have different column sets from what\'ve previously\\n    /// been cached in the query statement\\n  - pub fn add<M>(mut self, m: M) -> Self\\n```\\n* [#2637](https://github.com/SeaQL/sea-orm/pull/2637) Remove panics in loader\\n\\n## Enhancements\\n\\nThese are small touch\u2011ups, but added up they can make a big difference.\\n\\n### Added shorthand for Postgres` = ANY`\\n\\nAdded `ColumnTrait::eq_any` as a shorthand for the ` = ANY` operator. Postgres only.\\n```rust\\n// old: have to import sea-query\\nuse sea_orm::sea_query::{Expr, extension::postgres::PgFunc};\\n\\ncake::Entity::find()\\n    .filter(\\n        // have to qualify column manually\\n        Expr::col((cake::Entity, cake::Column::Id)).eq(PgFunc::any(vec![4, 5]))\\n    );\\n\\n// new: just use sea-orm\\nassert_eq!(\\n    cake::Entity::find()\\n        .filter(cake::Column::Id.eq_any(vec![4, 5]))\\n        .build(DbBackend::Postgres)\\n        .to_string(),\\n    r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\"\\n       WHERE \\"cake\\".\\"id\\" = ANY(ARRAY [4,5])\\"#\\n);\\n```\\n\\n### Added `big_pk_auto`\\n\\n```rust\\n// old\\npub fn pk_auto<T: IntoIden>(name: T) -> ColumnDef {\\n    integer(name).auto_increment().primary_key().take()\\n}\\n\\n// new: same as above but use big integer\\npub fn big_pk_auto<T: IntoIden>(name: T) -> ColumnDef {\\n    big_integer(name).auto_increment().primary_key().take()\\n}\\n```\\n\\n### Added `chrono::Utc` to entity prelude\\n\\n```rust\\npub type ChronoUtc = chrono::Utc;\\n```\\n\\nWe can now rely on `sea-orm`\'s re-export:\\n\\n```rust\\n// old: chrono has to be added in Cargo.toml\\nlet ts: ChronoDateTimeUtc = chrono::Utc::now();\\n// new: use sea-orm\'s re-export\\nlet ts: ChronoDateTimeUtc = ChronoUtc::now();\\n```\\n\\n## Breaking changes\\n\\n### Use `&\'static str` in identifiers\\n\\n[#2667](https://github.com/SeaQL/sea-orm/pull/2667) Changed `IdenStatic` and `EntityName` definition. This change stemmed from the [revamp of the `Iden` type system](https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/#revamped-iden-type-system) in SeaQuery, in which `&\'static str` now has slightly less overhead.\\n\\n```rust\\ntrait IdenStatic {\\n    fn as_str(&self) -> &\'static str; // added static lifetime\\n}\\ntrait EntityName {\\n    fn table_name(&self) -> &\'static str; // added static lifetime\\n}\\n```\\n\\n### `QueryBuilder` is no longer object safe\\n\\nRemoved `DbBackend::get_query_builder()` because `QueryBuilder` is no longer object safe. This change improved query building performance by 5-10%.\\n\\n```rust\\nimpl DbBackend {\\n    // This is removed\\n  - fn get_query_builder(&self) -> Box<dyn QueryBuilder>;\\n}\\n```\\n\\nPreviously `dyn SqlWriter` is used everywhere.\\n\\n```rust\\nfn prepare_table_create_statement(\\n    &self,\\n    create: &TableCreateStatement,\\n    sql: &mut dyn SqlWriter,\\n);\\n```\\n\\nNow, it\'s a generic method:\\n\\n```rust\\nfn prepare_table_create_statement(\\n    &self,\\n    create: &TableCreateStatement,\\n    sql: &mut impl SqlWriter, // note the impl\\n);\\n```\\n\\nThis change shouldn\'t impact most users because we have the following API:\\n\\n```rust\\npub trait StatementBuilder {\\n    fn build(&self, db_backend: &DbBackend) -> Statement;\\n}\\n\\n// implemented for SelectStatement, InsertStatement, UpdateStatement, DeleteStatement, etc\\n```\\n\\n### Changed `Database Connection`\\n\\n[#2671](https://github.com/SeaQL/sea-orm/pull/2671) `DatabaseConnection` is changed from enum to struct. The original enum is moved into `DatabaseConnection::inner`. The new enum is named `DatabaseConnectionType`.\\n\\nThis allows `DatabaseConnection` to hold additional metadata.\\n\\n```rust\\n// old\\npub enum DatabaseConnection {\\n    SqlxMySqlPoolConnection(crate::SqlxMySqlPoolConnection),\\n    SqlxPostgresPoolConnection(crate::SqlxPostgresPoolConnection),\\n    SqlxSqlitePoolConnection(crate::SqlxSqlitePoolConnection),\\n    ..\\n}\\n\\n// new\\npub struct DatabaseConnection {\\n    pub inner: DatabaseConnectionType,\\n    ..\\n}\\n\\npub enum DatabaseConnectionType {\\n    SqlxMySqlPoolConnection(crate::SqlxMySqlPoolConnection),\\n    SqlxPostgresPoolConnection(crate::SqlxPostgresPoolConnection),\\n    SqlxSqlitePoolConnection(crate::SqlxSqlitePoolConnection),\\n    ..\\n}\\n```\\n\\n### Removed `Derive Custom Column`\\n\\n[#2667](https://github.com/SeaQL/sea-orm/pull/2667) Removed `DeriveCustomColumn` macro and `default_as_str` trait method. This was a legacy of the expanded entity format.\\n\\n```rust\\n// This is no longer supported:\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveCustomColumn)]\\npub enum Column {\\n    Id,\\n    Name,\\n}\\n\\nimpl IdenStatic for Column {\\n    fn as_str(&self) -> &str {\\n        match self {\\n            Self::Name => \\"my_name\\",\\n            _ => self.default_as_str(),\\n        }\\n    }\\n}\\n```\\n\\n```rust\\n// Do the following instead:\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]\\npub enum Column {\\n    Id,\\n    #[sea_orm(column_name = \\"my_name\\")]\\n    Name,\\n}\\n```\\n\\n## Upgrades\\n\\n* `tokio` is now used in place of `async-std` in sea-orm-cli and examples as async-std has been deprecated.\\n* Returning is now enabled for SQLite by default. SQLite introduced returning in `3.35` which was released in 2021, it should be the default by now.\\n* [#2596](https://github.com/SeaQL/sea-orm/pull/2596) Upgraded Rust Edition to 2024\\n* Upgraded `strum` to `0.27`\\n\\n## SQL Server Support\\n\\n[SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) offers the same SeaORM API for MSSQL. We ported all test cases and examples, complemented by MSSQL specific documentation. If you are building enterprise software, you can [request commercial access](https://forms.office.com/r/1MuRPJmYBR). It is currently based on SeaORM 1.0, but we will offer free upgrade to existing users when SeaORM 2.0 is finalized.\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: Professional Admin Panel\\n\\n<img src=\\"/blog/img/sea-orm-pro-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-dark.png#dark\\" />\\n\\n[SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/) is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!\\n\\nSeaORM Pro will be updated to support the latest features in SeaORM 2.0.\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Built-in GraphQL resolver\\n+ Customize the UI with TOML config\\n+ Custom GraphQL endpoints *(new in 2.0)*\\n+ Role Based Access Control *(new in 2.0)*\\n\\n## More to come\\n\\nSeaORM 2.0 is shaping up to be our most significant release yet - with a few breaking changes, plenty of enhancements, and a clear focus on developer experience. We\'ll dive into [Role Based Access Control](https://www.sea-ql.org/blog/2025-09-30-sea-orm-rbac/) in the next post, so keep an eye out for the next update!\\n\\nSeaORM 2.0 will launch alongside SeaQuery 1.0. If you make extensive use of SeaORM\'s underlying query builder, we recommend checking out our earlier blog post on [SeaQuery 1.0](https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/) to get familiar with the changes.\\n\\nSeaORM 2.0 has reached its release candidate phase. We\'d love for you to try it out and help shape the final release by [sharing your feedback](https://github.com/SeaQL/sea-orm/discussions/2548).\\n\\n## Sponsors\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\n### Gold Sponsor\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.\\n\\n### GitHub Sponsors\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--lg\\" href=\\"https://github.com/subscribepro\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8466133?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Subscribe Pro</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/holly-hacker\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/13605369?u=9566a44f2d869f337a4909836487bb4a29c23b72&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Variant9</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/ryanswrt\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Ryan Swart</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/OteroRafael\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/175388115?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">OteroRafael</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/higumachan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Yuta Hinokuma</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/wh7f\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/59872041?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">wh7f</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcson909\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16665353?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">MS</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/numeusxyz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/82152211?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Numeus</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/data-intuitive\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Data Intuitive</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/caido-community\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/168573261?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Caido Community</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Marcus Buffett</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">MasakiMiyazaki</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">KallyDev</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Manfred Lee</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Afonso Barracha</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Dean Sheather</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography\\n- Mascots: Ferris the Crab x 3, Terres the Hermit Crab\\n- The Rustacean wordmark\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-09-16-sea-orm-2.0","metadata":{"permalink":"/preview/pr-154/blog/2025-09-16-sea-orm-2.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-09-16-sea-orm-2.0.md","source":"@site/blog/2025-09-16-sea-orm-2.0.md","title":"A Sneak Peek at SeaORM 2.0","description":"SeaORM 1.0 debuted on 2024-08-04. Over the past year, we\'ve shipped 16 minor releases - staying true to our promise of delivering new features without compromising stability.","date":"2025-09-16T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":12.93,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-09-16-sea-orm-2.0","title":"A Sneak Peek at SeaORM 2.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaORM 2.0: A closer look","permalink":"/preview/pr-154/blog/2025-09-24-sea-orm-2.0"},"nextItem":{"title":"The road to SeaQuery 1.0","permalink":"/preview/pr-154/blog/2025-08-30-sea-query-1.0"}},"content":"<img alt=\\"SeaORM 2.0 Banner\\" src=\\"/blog/img/SeaORM%202.0%20Banner.png\\"/>\\n\\nSeaORM 1.0 debuted on 2024-08-04. Over the past year, we\'ve shipped 16 minor releases - staying true to our promise of delivering new features without compromising stability.\\n\\nWhile building new features in 1.0, we often found ourselves bending over backwards to avoid breaking changes, which meant leaving in a few bits that aren\'t exactly elegant, intuitive, or frankly, \\"footgun\\".\\n\\nTo make SeaORM friendlier and more intuitive for newcomers (and a little kinder to seasoned users too), we\'ve decided it\'s time for a 2.0 release - one that embraces necessary breaking changes to clean things up and set a stronger foundation for the future.\\n\\n## 1.0 New Features\\n\\nIf you haven\'t been following every update, here\'s a quick tour of some quality-of-life improvements you can start using right now. Otherwise, you can skip to the [2.0 section](#20-new-features).\\n\\n### Nested Select\\n\\nThis is the most requested feature by far, and we\'ve implemented nested select in SeaORM. We\'ve added [nested `alias`](https://github.com/SeaQL/sea-orm/pull/2686) and [ActiveEnum support](https://github.com/SeaQL/sea-orm/pull/2720) too.\\n\\n```rust\\nuse sea_orm::DerivePartialModel;\\n\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"cake::Entity\\", from_query_result)]\\nstruct CakeWithFruit {\\n    id: i32,\\n    name: String,\\n    #[sea_orm(nested)]\\n    fruit: Option<Fruit>,\\n}\\n\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"fruit::Entity\\", from_query_result)]\\nstruct Fruit {\\n    id: i32,\\n    name: String,\\n}\\n\\nlet cakes: Vec<CakeWithFruit> = cake::Entity::find()\\n    .left_join(fruit::Entity)\\n    .into_partial_model()\\n    .all(db)\\n    .await?;\\n```\\n\\n### PartialModel -> ActiveModel\\n\\n`DerivePartialModel` got another extension to derive [`IntoActiveModel`](https://docs.rs/sea-orm/latest/sea_orm/entity/trait.IntoActiveModel.html) additionally. Absent attributes will be filled with `NotSet`. This allows you to use partial models to perform insert / updates as well.\\n\\n```rust\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"cake::Entity\\", into_active_model)]\\nstruct PartialCake {\\n    id: i32,\\n    name: String,\\n}\\n\\nlet partial_cake = PartialCake {\\n    id: 12,\\n    name: \\"Lemon Drizzle\\".to_owned(),\\n};\\n\\n// this is now possible:\\nassert_eq!(\\n    cake::ActiveModel {\\n        ..partial_cake.into_active_model()\\n    },\\n    cake::ActiveModel {\\n        id: Set(12),\\n        name: Set(\\"Lemon Drizzle\\".to_owned()),\\n        ..Default::default()\\n    }\\n);\\n```\\n\\n### Insert active models with non-uniform column sets\\n\\nInsert many now allows active models to have different column sets. Previously, it\'d panic when encountering this. Missing columns will be filled with `NULL`. This makes seeding data a seamless operation.\\n\\n```rust\\nlet apple = cake_filling::ActiveModel {\\n    cake_id: ActiveValue::set(2),\\n    filling_id: ActiveValue::NotSet,\\n};\\nlet orange = cake_filling::ActiveModel {\\n    cake_id: ActiveValue::NotSet,\\n    filling_id: ActiveValue::set(3),\\n};\\nassert_eq!(\\n    Insert::<cake_filling::ActiveModel>::new()\\n        .add_many([apple, orange])\\n        .build(DbBackend::Postgres)\\n        .to_string(),\\n    r#\\"INSERT INTO \\"cake_filling\\" (\\"cake_id\\", \\"filling_id\\") VALUES (2, NULL), (NULL, 3)\\"#,\\n);\\n```\\n\\n### Support Postgres PgVector & IpNetwork\\n\\nUnder feature flag `postgres-vector` / `with-ipnetwork`.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"demo_table\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub embedding: PgVector,\\n    pub ipaddress: IpNetwork,\\n}\\n```\\n\\n## 2.0 New Features\\n\\nThese are small touch\u2011ups, but added up they can make a big difference.\\n\\n### Nested Select on any Model\\n\\n[#2642](https://github.com/SeaQL/sea-orm/pull/2642) Wait... we\'ve seen this before? No, there is a small detail here: now every Model can be used in nested select! This requires a small breaking change to basically derive `PartialModelTrait` on regular `Model`s. And also notice the removed `from_query_result`.\\n\\n```rust\\nuse sea_orm::DerivePartialModel;\\n\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"cake::Entity\\")] // <- from_query_result not needed\\nstruct CakeWithFruit {\\n    id: i32,\\n    name: String,\\n    #[sea_orm(nested)]\\n    fruit: Option<fruit::Model>, // <- this is just a regular Model\\n}\\n\\nlet cakes: Vec<CakeWithFruit> = cake::Entity::find()\\n    .left_join(fruit::Entity)\\n    .into_partial_model()\\n    .all(db)\\n    .await?;\\n```\\n\\n### Wrapper type as primary key\\n\\n[#2643](https://github.com/SeaQL/sea-orm/pull/2643) Wrapper type derived with `DeriveValueType` can now be used as primary key. Now you can embrace Rust\'s type system to make your code more robust!\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"my_value_type\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: MyInteger,\\n}\\n\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\\npub struct MyInteger(pub i32);\\n// only for i8 | i16 | i32 | i64 | u8 | u16 | u32 | u64\\n```\\n\\n### Multi-part unique keys\\n\\n[#2651](https://github.com/SeaQL/sea-orm/pull/2651) You can now define unique keys that span multiple columns in Entity.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"lineitem\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    #[sea_orm(unique_key = \\"item\\")]\\n    pub order_id: i32,\\n    #[sea_orm(unique_key = \\"item\\")]\\n    pub cake_id: i32,\\n}\\n```\\n```rust\\nlet stmts = Schema::new(backend).create_index_from_entity(lineitem::Entity);\\n\\nassert_eq!(\\n    stmts[0],\\n    Index::create()\\n        .name(\\"idx-lineitem-item\\")\\n        .table(lineitem::Entity)\\n        .col(lineitem::Column::OrderId)\\n        .col(lineitem::Column::CakeId)\\n        .unique()\\n        .take()\\n);\\n\\nassert_eq!(\\n    backend.build(stmts[0]),\\n    r#\\"CREATE UNIQUE INDEX \\"idx-lineitem-item\\" ON \\"lineitem\\" (\\"order_id\\", \\"cake_id\\")\\"#\\n);\\n```\\n\\n### Allow missing fields when using `ActiveModel::from_json`\\n\\n[#2599](https://github.com/SeaQL/sea-orm/pull/2599) Improved utility of `ActiveModel::from_json` when dealing with inputs coming from REST APIs.\\n\\nConsider the following Entity:\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel, Serialize, Deserialize)]\\n#[sea_orm(table_name = \\"cake\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,      // <- not nullable\\n    pub name: String,\\n}\\n```\\nPreviously, the following would result in error `missing field \\"id\\"`. The usual solution is to add `#[serde(skip_deserializing)]` to the Model.\\n```rust\\nassert!(\\n    cake::ActiveModel::from_json(json!({\\n        \\"name\\": \\"Apple Pie\\",\\n    })).is_err();\\n);\\n```\\nNow, the above will just work. The ActiveModel will be partially filled:\\n```rust\\nassert_eq!(\\n    cake::ActiveModel::from_json(json!({\\n        \\"name\\": \\"Apple Pie\\",\\n    }))\\n    .unwrap(),\\n    cake::ActiveModel {\\n        id: NotSet,\\n        name: Set(\\"Apple Pie\\".to_owned()),\\n    }\\n);\\n```\\n\\nHow does it work under the hood? It\'s actually [quite interesting](http://localhost:3000/blog/2025-06-01-whats-new-in-sea-orm-1.1/#added-default_values-to-activemodeltrait). This requires a small breaking to the trait bound of the method.\\n\\n## 2.0 Exciting New Features\\n\\nWe\'ve planned some exciting new features for SeaORM too.\\n\\n### Ergonomic Raw SQL\\n\\nWhile already explained in detail in a [previous blog post](https://www.sea-ql.org/blog/2025-08-15-sea-query-raw-sql/), we\'ve integrated the `raw_sql!` macro nicely into SeaORM. It\'s like the `format!` macro but without the risk of SQL injection. It supports nested parameter interpolation, array and tuple expansion, and even repeating group!\\n\\nIt\'s not a ground-breaking new feature, as similar functions exist in other dynamic languages. But it does unlock exciting new ways to use SeaORM. After all, SeaORM isn\'t just an ORM; it\'s a flexible SQL toolkit you can tailour to your own programming style. Use it as a backend-agnostic SQLx wrapper, SeaQuery with built-in connection management, or a lightweight ORM with enchanted raw SQL. The choice is yours!\\n\\n#### Find Model by raw SQL\\n\\n```rust\\nlet item = Item { id: 1 };\\n\\nlet cake: Option<cake::Model> = cake::Entity::find()\\n    .from_raw_sql(raw_sql!(\\n        Postgres,\\n        r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" WHERE \\"id\\" = {item.id}\\"#\\n    ))\\n    .one(&db)\\n    .await?;\\n```\\n\\n#### Find custom Model by raw SQL\\n\\n```rust\\n#[derive(FromQueryResult)]\\nstruct Cake {\\n    name: String,\\n    #[sea_orm(nested)]\\n    bakery: Option<Bakery>,\\n}\\n\\n#[derive(FromQueryResult)]\\nstruct Bakery {\\n    #[sea_orm(alias = \\"bakery_name\\")]\\n    name: String,\\n}\\n\\nlet cake_ids = [2, 3, 4]; // expanded by the `..` operator\\n\\nlet cake: Option<Cake> = Cake::find_by_statement(raw_sql!(\\n    Sqlite,\\n    r#\\"SELECT \\"cake\\".\\"name\\", \\"bakery\\".\\"name\\" AS \\"bakery_name\\"\\n       FROM \\"cake\\"\\n       LEFT JOIN \\"bakery\\" ON \\"cake\\".\\"bakery_id\\" = \\"bakery\\".\\"id\\"\\n       WHERE \\"cake\\".\\"id\\" IN ({..cake_ids})\\"#\\n))\\n.one(db)\\n.await?;\\n```\\n\\n#### Paginate raw SQL query\\n\\nYou can paginate [`SelectorRaw`](https://docs.rs/sea-orm/*/sea_orm/struct.SelectorRaw.html) and fetch `Model` in batches.\\n\\n```rust\\nlet ids = vec![1, 2, 3, 4];\\n\\nlet mut cake_pages = cake::Entity::find()\\n    .from_raw_sql(raw_sql!(\\n        Postgres,\\n        r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" WHERE \\"id\\" IN ({..ids})\\"#\\n    ))\\n    .paginate(db, 10);\\n\\nwhile let Some(cakes) = cake_pages.fetch_and_next().await? {\\n    // Do something on cakes: Vec<cake::Model>\\n}\\n```\\n\\n### Role Based Access Control\\n\\n[#2683](https://github.com/SeaQL/sea-orm/pull/2683) We will cover this in detail in a future blog post, but here\'s a sneak peek.\\n\\n#### SeaORM RBAC\\n\\n1. A hierarchical RBAC engine that is table scoped\\n    + a user has 1 (and only 1) role\\n    + a role has a set of permissions on a set of resources\\n        + permissions here are CRUD operations and resources are tables\\n        + but the engine is generic so can be used for other things\\n    + roles have hierarchy, and can inherit permissions from multiple roles\\n    + there is a wildcard `*` (opt-in) to grant all permissions or resources\\n    + individual users can have rules override\\n2. A set of Entities to load / store the access control rules to / from database\\n3. A query auditor that dissect queries for necessary permissions (implemented in SeaQuery)\\n4. Integration of RBAC into SeaORM in form of `RestrictedConnection`.\\n    It implements `ConnectionTrait`, behaves like a normal connection, but will audit all queries and perform permission check before execution,\\n    and reject them accordingly. All Entity operations except raw SQL are supported.\\n    Complex nested joins, `INSERT INTO SELECT FROM`, and even CTE queries are supported.\\n\\n```rust\\n// set the rules\\nrbac.add_roles(&db_conn, &[\\"admin\\", \\"manager\\", \\"public\\"]).await?;\\nrbac.add_role_permissions(&db_conn, \\"admin\\", &[\\"create\\"], &[\\"bakery\\"]).await?;\\n\\n// load rules from database\\ndb_conn.load_rbac().await?;\\n\\n// admin can create bakery\\nlet db: RestrictedConnection = db_conn.restricted_for(admin)?;\\nlet seaside_bakery = bakery::ActiveModel {\\n    name: Set(\\"SeaSide Bakery\\".to_owned()),\\n    ..Default::default()\\n};\\nassert!(Bakery::insert(seaside_bakery).exec(&db).await.is_ok());\\n\\n// manager cannot create bakery\\nlet db: RestrictedConnection = db_conn.restricted_for(manager)?;\\nassert!(matches!(\\n    Bakery::insert(bakery::ActiveModel::default())\\n        .exec(&db)\\n        .await,\\n    Err(DbErr::AccessDenied { .. })\\n));\\n\\n// transaction works too\\nlet txn: RestrictedTransaction = db.begin().await?;\\n\\nbaker::Entity::insert(baker::ActiveModel {\\n    name: Set(\\"Master Baker\\".to_owned()),\\n    bakery_id: Set(Some(1)),\\n    ..Default::default()\\n})\\n.exec(&txn)\\n.await?;\\n\\ntxn.commit().await?;\\n```\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: Professional Admin Panel\\n\\n<img src=\\"/blog/img/sea-orm-pro-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-dark.png#dark\\" />\\n\\n[SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/) is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Built-in GraphQL resolver\\n+ Customize the UI with simple TOML\\n+ RBAC (coming soon with SeaORM 2.0)\\n\\n## More to come\\n\\nSeaORM 2.0 is shaping up to be our most significant release yet - with a few breaking changes, plenty of enhancements, and a clear focus on developer experience. We\'ll unpack everything in the posts to come, so keep an eye out for the next update!\\n\\nSeaORM 2.0 will launch alongside SeaQuery 1.0. If you make extensive use of SeaORM\'s underlying query builder, we recommend checking out our earlier blog post on [SeaQuery 1.0](https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/) to get familiar with the changes.\\n\\nIf you have suggestions on breaking changes, you are welcome to post them in the [discussions](https://github.com/SeaQL/sea-orm/discussions/2548).\\n\\n## Sponsors\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\n### Gold Sponsor\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.\\n\\n### GitHub Sponsors\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--lg\\" href=\\"https://github.com/subscribepro\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8466133?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Subscribe Pro</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/holly-hacker\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/13605369?u=9566a44f2d869f337a4909836487bb4a29c23b72&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Variant9</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/ryanswrt\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Ryan Swart</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/OteroRafael\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/175388115?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">OteroRafael</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/higumachan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Yuta Hinokuma</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/wh7f\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/59872041?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">wh7f</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcson909\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16665353?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">MS</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/numeusxyz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/82152211?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Numeus</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/data-intuitive\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Data Intuitive</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/caido-community\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/168573261?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Caido Community</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Marcus Buffett</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">MasakiMiyazaki</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">KallyDev</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Manfred Lee</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Afonso Barracha</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Dean Sheather</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography\\n- Mascots: Ferris the Crab x 3, Terres the Hermit Crab\\n- The Rustacean wordmark\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-08-30-sea-query-1.0","metadata":{"permalink":"/preview/pr-154/blog/2025-08-30-sea-query-1.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-08-30-sea-query-1.0.md","source":"@site/blog/2025-08-30-sea-query-1.0.md","title":"The road to SeaQuery 1.0","description":"SeaQuery 0.1.0 was first released on 2020-12-16 - it\'s been a few years! Since then, there have been 32 releases, each introducing a set of new features. As with many software projects, the organic evolution driven by a diverse community of open source contributors has led to occasional inconsistencies across the codebase. It\'s a good problem to have, and a testament to our vibrant community. But now, it\'s time to stabilize SeaQuery and address some of these issues.","date":"2025-08-30T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":19.27,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-08-30-sea-query-1.0","title":"The road to SeaQuery 1.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaQuery%201.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"A Sneak Peek at SeaORM 2.0","permalink":"/preview/pr-154/blog/2025-09-16-sea-orm-2.0"},"nextItem":{"title":"SeaQuery just made writing raw SQL more enjoyable","permalink":"/preview/pr-154/blog/2025-08-15-sea-query-raw-sql"}},"content":"<img alt=\\"SeaQuery 1.0 Banner\\" src=\\"/blog/img/SeaQuery%201.0%20Banner.png\\"/>\\n\\nSeaQuery 0.1.0 was first released on 2020-12-16 - it\'s been a few years! Since then, there have been 32 releases, each introducing a set of new features. As with many software projects, the organic evolution driven by a diverse community of open source contributors has led to occasional inconsistencies across the codebase. It\'s a good problem to have, and a testament to our vibrant community. But now, it\'s time to stabilize SeaQuery and address some of these issues.\\n\\nA very brief recap of important SeaQuery verisons:\\n\\n| version | date | notes |\\n|--------|-------|-------|\\n| [0.1.0](https://github.com/SeaQL/sea-query/releases/tag/0.1.0)  | 2020-12-16 | [initial release](https://www.reddit.com/r/rust/comments/kkle6j/seaquery_is_a_database_agnostic_runtime_query/) |\\n| [0.16.0](https://github.com/SeaQL/sea-query/releases/tag/0.16.0) | 2021-09-02 | [SeaORM 0.1](https://www.sea-ql.org/blog/2021-09-20-introducing-sea-orm/) |\\n| [0.30.0](https://github.com/SeaQL/sea-query/releases/tag/0.30.0) | 2023-07-20 | SeaORM 0.12 |\\n| [0.31.0](https://github.com/SeaQL/sea-query/releases/tag/0.31.0) | 2024-08-02 | [SeaORM 1.0](https://www.sea-ql.org/blog/2024-08-04-sea-orm-1.0/) |\\n| [0.32.0](https://github.com/SeaQL/sea-query/releases/tag/0.32.0) | 2024-10-17 | SeaORM 1.1 |\\n| [0.32.7](https://github.com/SeaQL/sea-query/releases/tag/0.32.7) | 2025-08-06 | latest version |\\n\\n## Architectural changes\\n\\nThere are a few architectural changes that can only be made by breaking the API, so let\'s go through them one by one:\\n\\n### Forbid unsafe code\\n\\n[#930](https://github.com/SeaQL/sea-query/pull/930)\\n`#![forbid(unsafe_code)]` has been added to all workspace crates, ensuring that SeaQuery no longer contains any unsafe code. While only one instance of unsafe was previously used, and has now been removed, this change reinforces our commitment to maintaining code quality.\\n\\n### Unified `Expr` and `SimpleExpr` as one type\\n\\n[#890](https://github.com/SeaQL/sea-query/pull/890) Previously, a lot of operator methods (e.g. `eq`) were duplicated across `Expr` and `SimpleExpr`, but the list of methods was slightly different for each. Also, it wasn\'t clear when to use each of the two types. The type conversions were sometimes non-obvious. It complicated the type system and made writing generic code difficult.\\n\\nIn 0.32.0, almost a year ago, we added `ExprTrait` ([#771](https://github.com/SeaQL/sea-query/pull/771)) to standardize and share the list of methods, and to allow calling them on other \\"lower-level\\" types like so: `1_i32.cast_as(\\"REAL\\")`. At that time, we decided to keep the original inherent methods for compatibility, at the cost of ~1300 lines of code bloat.\\n\\nLater, we looked into the `Expr` vs `SimpleExpr` distinction. It turned out that `Expr` was originally meant to be a \\"namespace\\" of static constructors for `SimpleExpr`, similar to [`Func`](https://docs.rs/sea-query/0.32.7/sea_query/func/struct.Func.html) vs [`FunctionCall`](https://docs.rs/sea-query/0.32.7/sea_query/func/struct.FunctionCall.html). Unlike `Func`, which is a unit struct, `Expr` has data fields, which led to `Expr`s being passed around, making it hard for functions to accept / return \\"expression fragments\\".\\n\\nIn 1.0, `SimpleExpr` is \\"merged into\\" `Expr`, meaning that `SimpleExpr` is now just a type alias of `Expr`. Both names can be used interchangeably. A lot of redundant type conversions (`.into()`) and generic code (`T: ExprTrait`) can now be removed.\\n\\nThe resulting \\"merged\\" type has all methods from the two original types, except for the methods defined by `ExprTrait`. Those inherent methods have been removed and have saved us 1300 lines of code.\\n\\n```rust\\nenum Expr { // the AST node enum\\n    Column(ColumnRef),\\n    Tuple(Vec<Expr>),\\n    ..\\n}\\n\\ntype SimpleExpr = Expr; // now: just an alias\\n\\nimpl Expr {\\n    pub fn equals<C>(self, col: C) -> Self; // removed\\n}\\n\\ntrait ExprTrait: Sized {\\n    fn equals<C>(self, col: C) -> Expr; // please use this\\n}\\n```\\n\\n#### Potential compile errors\\n\\nIf you implemented some trait for both of those types, two impls for one type will no longer compile and you\'ll need to delete one of the impls.\\n\\nIf you encounter the following error, please add `use sea_query::ExprTrait` in scope.\\n\\n```rust\\nerror[E0599]: no method named `like` found for enum `sea_query::Expr` in the current scope\\n    |\\n    |         Expr::col((self.entity_name(), *self)).like(s)\\n    |\\n    |     fn like<L>(self, like: L) -> Expr\\n    |        ---- the method is available for `sea_query::Expr` here\\n    |\\n    = help: items from traits can only be used if the trait is in scope\\nhelp: trait `ExprTrait` which provides `like` is implemented but not in scope; perhaps you want to import it\\n    |\\n -> + use sea_query::ExprTrait;\\n```\\n```rust\\nerror[E0308]: mismatched types\\n  --\x3e src/sqlite/discovery.rs:27:57\\n   |\\n   |             .and_where(Expr::col(Alias::new(\\"type\\")).eq(\\"table\\"))\\n   |                                                      -- ^^^^^^^ expected `&Expr`, found `&str`\\n   |                                                      |\\n   |                                                      arguments to this method are incorrect\\n   |\\n   = note: expected reference `&sea_query::Expr`\\n              found reference `&\'static str`\\n```\\n\\n### Revamped `Iden` type system.\\n\\n[#909](https://github.com/SeaQL/sea-query/pull/909)\\nPreviously, `DynIden` is lazily rendered, i.e. the identifier is only constructed while serializing the AST. Now, it\'s an eagerly rendered string `Cow<\'static, str>`, constructed while constructing the AST.\\n\\n```rust\\npub type DynIden = SeaRc<dyn Iden>;               // old\\npub struct DynIden(pub(crate) Cow<\'static, str>); // new\\n\\npub struct SeaRc<I>(pub(crate) RcOrArc<I>);       // old\\npub struct SeaRc;                                 // new\\n```\\n\\nThe implications of this new design are:\\n\\n1. Type info is erased from `Iden` early\\n2. `SeaRc` is no longer an alias to `Rc` / `Arc`. As such, `Send` / `Sync` is removed from the trait `Iden`\\n\\n```rust\\n  - SeaRc::clone(&from_tbl)      // old\\n  + from_tbl.clone()             // new\\n```\\n\\n#### Potential compile errors\\n\\nThe method signature of `Iden::unquoted` is changed. If you\'re implementing `Iden` manually, you can modify it like below:\\n```rust\\nerror[E0050]: method `unquoted` has 2 parameters but the declaration in trait `types::Iden::unquoted` has 1\\n  --\x3e src/tests_cfg.rs:31:17\\n   |\\n   |     fn unquoted(&self, s: &mut dyn std::fmt::Write) {\\n   |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected 1 parameter, found 2\\n   |\\n  ::: src/types.rs:63:17\\n   |\\n   |     fn unquoted(&self) -> &str;\\n   |                 ----- trait requires 1 parameter\\n```\\n```rust\\nimpl Iden for Glyph {\\n  - fn unquoted(&self, s: &mut dyn fmt::Write) {\\n  + fn unquoted(&self) -> &str {\\n  -     write!(\\n  -         s,\\n  -         \\"{}\\",\\n            match self {\\n                Self::Table => \\"glyph\\",\\n                Self::Id => \\"id\\",\\n                Self::Tokens => \\"tokens\\",\\n            }\\n  -     )\\n  -     .unwrap();\\n    }\\n}\\n```\\n\\n### `Alias::new` is no longer needed\\n\\n[#882](https://github.com/SeaQL/sea-query/pull/882)\\nSeaQuery encourages you to define all column / table identifiers in one place and use them throughout the project. But there are places where an alias is needed once off. Now `&\'static str` is an `Iden`, so it can be used in all places where `Alias` are needed. The `Alias` type remains for backwards compatibility, so existing code should still compile. This can reduce the verbosity of code, for example:\\n\\n```rust\\nlet query = Query::select()\\n    .from(Character::Table)\\n  - .expr_as(Func::count(Expr::col(Character::Id)), Alias::new(\\"count\\"))\\n  + .expr_as(Func::count(Expr::col(Character::Id)), \\"count\\")\\n    .to_owned();\\n```\\n\\n```rust\\n  - Alias::new(format!(\\"r{i}\\")).into_iden()\\n  + format!(\\"r{i}\\").into_iden()\\n```\\n\\n### Unboxed `Value` variants\\n\\n[#925](https://github.com/SeaQL/sea-query/pull/925)\\nMost `Value` variants are now unboxed (except `BigDecimal` and `Array`). Previously the size is 24 bytes, now it\'s 32.\\n```rust\\nassert_eq!(std::mem::size_of::<Value>(), 32);\\n```\\n\\nIf you were constructing / pattern matching `Value` variants manually, `Box::new` can now be removed and pattern matching is simpler.\\n\\nIt also improved performance because memory allocation and indirection is removed in most cases.\\n\\n#### Potential compile errors\\n\\nIf you encounter the following error, simply remove the `Box`\\n\\n```rust\\nerror[E0308]: mismatched types\\n    |\\n >  | Value::String(Some(Box::new(string_value.to_string()))));\\n    |               ---- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected `String`, found `Box<String>`\\n    |               |\\n    |               arguments to this enum variant are incorrect\\n```\\n\\n### `non_exhaustive` AST node enums\\n\\n[#891](https://github.com/SeaQL/sea-query/pull/891)\\n`#[non_exhaustive]` are added to all AST node enums. It allows us to add new features and extend the AST without breaking the API.\\n\\n```rust\\n+ #[non_exhaustive]\\nenum Mode {\\n    Creation,\\n    Alter,\\n    TableAlter,\\n}\\n```\\n\\n#### Potential compile errors\\n\\nIf you encounter the following error, please add a wildcard match `_ => {..}`\\n\\n```rust\\nerror[E0004]: non-exhaustive patterns: `&_` not covered\\n    |\\n    |     match table_ref {\\n    |           ^^^^^^^^^ pattern `&_` not covered\\n    |\\nnote: `TableRef` defined here\\n    |\\n    | pub enum TableRef {\\n    | ^^^^^^^^^^^^^^^^^\\n    = note: the matched value is of type `&TableRef`\\n    = note: `TableRef` is marked as non-exhaustive, so a wildcard `_` is necessary to match exhaustively\\nhelp: ensure that all possible cases are being handled by adding a match arm with a wildcard pattern or an explicit pattern as shown\\n    |\\n    | TableRef::FunctionCall(_, tbl) => SeaRc::clone(tbl),\\n -> | &_ => todo!(),\\n```\\n\\n### Reworked `TableRef` and `ColumnRef`\\n\\n[#927](https://github.com/SeaQL/sea-query/pull/927)\\nPreviously, the `TableRef` variants are a product of all valid combinations of `Option<Database>`, `Option<Schema>`, `Table` and `Option<Alias>`. It is excessive and makes pattern matching difficult.\\n\\nNow they\'re collapsed into one. It makes constructing and pattern-matching `TableRef` / `ColumnRef` much easier.\\n\\n```rust\\n// the following variants are collapsed into one:\\nenum TableRef {\\n    Table(DynIden),\\n    SchemaTable(DynIden, DynIden),\\n    DatabaseSchemaTable(DynIden, DynIden, DynIden),\\n    TableAlias(DynIden, DynIden),\\n    SchemaTableAlias(DynIden, DynIden, DynIden),\\n    DatabaseSchemaTableAlias(DynIden, DynIden, DynIden, DynIden),\\n    ..\\n}\\n// now it\'s just:\\nenum TableRef {\\n    Table(TableName, Option<DynIden>), // optional Alias\\n    ..\\n}\\n\\npub struct DatabaseName(pub DynIden);\\npub struct SchemaName(pub Option<DatabaseName>, pub DynIden);\\n/// A table name, potentially qualified as [database.][schema.]table\\npub struct TableName(pub Option<SchemaName>, pub DynIden);\\n```\\n\\nSimilarly for `ColumnRef`:\\n\\n```rust\\n// before\\nenum ColumnRef {\\n    Column(DynIden),\\n    TableColumn(DynIden, DynIden),\\n    SchemaTableColumn(DynIden, DynIden, DynIden),\\n    Asterisk,\\n    TableAsterisk(DynIden),\\n}\\n// now\\nenum ColumnRef {\\n    /// A column name, potentially qualified as [database.][schema.][table.]column\\n    Column(ColumnName),\\n    /// An `*` expression, potentially qualified as [database.][schema.][table.]*\\n    Asterisk(Option<TableName>),\\n}\\n\\npub struct ColumnName(pub Option<TableName>, pub DynIden);\\n```\\n\\n#### Potential compile errors\\n\\n`TableRef`\\n\\n```rust\\nerror[E0061]: this enum variant takes 2 arguments but 1 argument was supplied\\n   --\x3e src/entity/relation.rs:526:15\\n    |\\n >  |     from_tbl: TableRef::Table(\\"foo\\".into_iden()),\\n    |               ^^^^^^^^^^^^^^^-------------------\\n    |                              ||\\n    |                              |expected `TableName`, found `DynIden`\\n    |                              argument #2 of type `Option<DynIden>` is missing\\n```\\nIt\'s recommended to use the `IntoTableRef` trait to convert types instead of constructing AST manually.\\n```rust\\nuse sea_orm::sea_query::IntoTableRef;\\n\\nfrom_tbl: \\"foo\\".into_table_ref(),\\n```\\n\\n`ColumnRef`\\n\\n```rust\\nerror[E0277]: the trait bound `fn(std::option::Option<TableName>) -> sea_query::ColumnRef {sea_query::ColumnRef::Asterisk}: IntoColumnRef` is not satisfied\\n    --\x3e src/executor/query.rs:1599:21\\n    |\\n >  |             .column(ColumnRef::Asterisk)\\n    |              ------ ^^^^^^^^^^^^^^^^^^^ the trait `sea_query::Iden` is not implemented for fn item `fn(std::option::Option<TableName>) -> sea_query::ColumnRef {sea_query::ColumnRef::Asterisk}`\\n    |              |\\n    |              required by a bound introduced by this call\\n\\nerror[E0308]: mismatched types\\n    --\x3e src/executor/query.rs:1607:54\\n    |\\n >  |                 SimpleExpr::Column(ColumnRef::Column(\\"id\\".into_iden()))\\n    |                                    ----------------- ^^^^^^^^^^^^^^^^ expected `ColumnName`, found `DynIden`\\n    |                                    |\\n    |                                    arguments to this enum variant are incorrect\\n```\\nIn the former case `Asterisk` has an additional inner `Option<TableName>`, you can simply put `None`.\\n```rust\\n.column(ColumnRef::Asterisk(None))\\n```\\nIn the latter case, `&\'static str` can now be used in most methods that accepts `ColumnRef`.\\n```rust\\nExpr::column(\\"id\\")\\n```\\n\\n## New Features\\n\\n### Query Audit\\n\\n[#908](https://github.com/SeaQL/sea-query/pull/908)\\nIn order to support Role Based Access Control (RBAC) in SeaORM, a given SQL query has to be analyzed to determine what permissions are needed to act on which resources.\\n\\nIt supports all the query types: `SELECT`, `INSERT`, `UPDATE`, `DELETE` and CTE. This requires the `audit` feature flag.\\n\\n```rust\\nlet query = Query::select()\\n    .columns([Char::Character])\\n    .from(Char::Table)\\n    .left_join(\\n        Font::Table,\\n        Expr::col((Char::Table, Char::FontId)).equals((Font::Table, Font::Id)),\\n    )\\n    .inner_join(\\n        Glyph::Table,\\n        Expr::col((Char::Table, Char::Character)).equals((Glyph::Table, Glyph::Image)),\\n    )\\n    .take();\\n\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT \\"character\\"\\n    FROM \\"character\\"\\n    LEFT JOIN \\"font\\" ON \\"character\\".\\"font_id\\" = \\"font\\".\\"id\\"\\n    INNER JOIN \\"glyph\\" ON \\"character\\".\\"character\\" = \\"glyph\\".\\"image\\"\\"#\\n);\\n\\nassert_eq!(\\n    query.audit()?.selected_tables(),\\n    [\\n        Char::Table.into_iden(),\\n        Font::Table.into_iden(),\\n        Glyph::Table.into_iden(),\\n    ]\\n);\\n```\\n\\n### Ergonomic raw SQL\\n\\n[#952](https://github.com/SeaQL/sea-query/pull/952)\\nThis is already covered in a previous [blog post](https://www.sea-ql.org/blog/2025-08-15-sea-query-raw-sql/).\\nIn case you\'ve missed it, we\'ve created a new `raw_query!` macro with neat features to make writing raw SQL queries more ergononmic.\\n\\n```rust\\nlet a = 1;\\nstruct B { b: i32 }\\nlet b = B { b: 2 };\\nlet c = \\"A\\";\\nlet d = vec![3, 4, 5];\\n\\nlet query = sea_query::raw_query!(\\n    PostgresQueryBuilder,\\n    r#\\"SELECT (\\"size_w\\" + {a}) * {b.b} FROM \\"glyph\\"\\n       WHERE \\"image\\" LIKE {c} AND \\"id\\" IN ({..d})\\"#\\n);\\n\\nassert_eq!(\\n    query.sql,\\n    r#\\"SELECT (\\"size_w\\" + $1) * $2 FROM \\"glyph\\"\\n       WHERE \\"image\\" LIKE $3 AND \\"id\\" IN ($4, $5, $6)\\"#\\n);\\nassert_eq!(\\n    query.values,\\n    Values(vec![1.into(), 2.into(), \\"A\\".into(), 3.into(), 4.into(), 5.into()])\\n);\\n```\\n\\nThe snippet above demonstrated:\\n\\n1. named parameter: `{a}` injected\\n2. nested parameter access: `{b.b}` inner access\\n3. array expansion: `{..d}` expanded into three parameters\\n\\n## Breaking Changes\\n\\n### Replaced `SERIAL` with `GENERATED BY DEFAULT AS IDENTITY` (Postgres)\\n\\n[#918](https://github.com/SeaQL/sea-query/pull/918)\\n`SERIAL` is deprecated in Postgres because identity column (`GENERATED AS IDENTITY`) is more modern and, for example, can avoid sequence number quirks.\\n\\n```rust\\nlet table = Table::create()\\n    .table(Char::Table)\\n    .col(ColumnDef::new(Char::Id).integer().not_null().auto_increment().primary_key())\\n    .to_owned();\\n\\nassert_eq!(\\n    table.to_string(PostgresQueryBuilder),\\n    [\\n        r#\\"CREATE TABLE \\"character\\" (\\"#,\\n            r#\\"\\"id\\" integer GENERATED BY DEFAULT AS IDENTITY NOT NULL PRIMARY KEY,\\"#,\\n        r#\\")\\"#,\\n    ].join(\\" \\")\\n);\\n```\\n\\nIf you need to support legacy systems you can still do:\\n\\n```rust\\nlet table = Table::create()\\n    .table(Char::Table)\\n    .col(ColumnDef::new(Char::Id).custom(\\"serial\\").not_null().primary_key())\\n    .to_owned();\\n\\nassert_eq!(\\n    table.to_string(PostgresQueryBuilder),\\n    [\\n        r#\\"CREATE TABLE \\"character\\" (\\"#,\\n            r#\\"\\"id\\" serial NOT NULL PRIMARY KEY\\"#,\\n        r#\\")\\"#,\\n    ].join(\\" \\")\\n);\\n```\\n\\n### Changed `IntoXXX` traits into `Into<XXX>`\\n\\nChanged `IntoCondition` (etc) traits to be defined as `trait IntoCondition: Into<Condition>`.\\nA blanket impl is added.\\nNow `IntoCondition` and `Into<Condition>` are completely interchangable, but you can still use `.into_condition()` for readability.\\n\\n```rust\\n// before\\ntrait IntoCondition {\\n    fn into_condition(self) -> Condition;\\n}\\n\\n// now\\ntrait IntoCondition: Into<Condition> {\\n    fn into_condition(self) -> Condition {\\n        self.into()\\n    }\\n}\\n\\nimpl<T> IntoCondition for T where T: Into<Condition> {}\\n```\\n\\nIf you have manually implemented `Into*` traits, it may cause conflicts. You\\nshould rewrite your impls as as `impl From<..> for TableRef`.\\n\\nFull list of changed traits:\\n\\n* `IntoColumnDef` [#975](https://github.com/SeaQL/sea-query/pull/975)\\n* `IntoColumnRef` [#959](https://github.com/SeaQL/sea-query/pull/959)\\n* `IntoCondition` [#939](https://github.com/SeaQL/sea-query/pull/939)\\n* `IntoIden` [#973](https://github.com/SeaQL/sea-query/pull/973)\\n* `IntoIndexColumn` [#976](https://github.com/SeaQL/sea-query/pull/976)\\n* `IntoLikeExpr` [#974](https://github.com/SeaQL/sea-query/pull/974)\\n* `IntoTableRef` [#958](https://github.com/SeaQL/sea-query/pull/958)\\n* `IntoTypeRef` [#969](https://github.com/SeaQL/sea-query/pull/969)\\n* `IntoValueTuple` [#960](https://github.com/SeaQL/sea-query/pull/960)\\n\\n## Performance Improvements\\n\\nWe benchmarked the query-building process - and found out that the bulk of the overhead came from serializing queries into strings, not from the AST building. By optimizing the string handling part of the serialization process, we improved the query-building performance by up to 15%!\\n\\n### Replaced `write!` with `write_str`\\n\\n[#947](https://github.com/SeaQL/sea-query/pull/947)\\nThis simple but not-so-obvious change by far contributed the biggest gain.\\n\\nWe won\'t go into the details here, as there are two tracking issues in rust-lang:\\n\\n+ format_args! is slow [rust/#76490](https://github.com/rust-lang/rust/issues/76490)\\n+ Tracking issue for improving std::fmt::Arguments and format_args!() [rust/#99012](https://github.com/rust-lang/rust/issues/99012)\\n\\n```rust\\n// before\\nwrite!(\\n    sql,\\n    \\"CONSTRAINT {}{}{} \\",\\n    self.quote().left(),\\n    name,\\n    self.quote().right()\\n);\\n\\n// now\\nsql.write_str(\\"CONSTRAINT \\");\\nsql.write_char(self.quote().left());\\nsql.write_str(name);\\nsql.write_char(self.quote().right());\\nsql.write_str(\\" \\");\\n```\\n\\n### Refactored Writer to avoid string allocation\\n\\n[#945](https://github.com/SeaQL/sea-query/pull/945)\\nLess strings is better!\\n\\n```rust\\n// before: an intermediate string is allocated\\nlet value: String = self.value_to_string(value);\\nwrite!(sql, \\"{value}\\");\\n\\n// now: write to the buffer directly\\nself.write_value(sql, value);\\n\\nfn write_value(&self, sql: &mut dyn Write, value: &Value);\\n```\\n\\n### Refactored Tokenizer to avoid string allocation\\n\\n[#952](https://github.com/SeaQL/sea-query/pull/952) Note that the tokenizer is not part of the runtime query-building code path, but still worth mentioning.\\n\\n```rust\\n// before\\nenum Token {\\n    Quoted(String),\\n    Unquoted(String),\\n    Space(String),\\n    Punctuation(String),\\n}\\n\\n// now\\nenum Token<\'a> {\\n    Quoted(&\'a str),\\n    Unquoted(&\'a str),\\n    Space(&\'a str),\\n    Punctuation(&\'a str),\\n}\\n```\\n\\n## Release Plan\\n\\n[SeaQuery 1.0](https://github.com/SeaQL/sea-query/blob/master/CHANGELOG.md#100---pending) is currently an `rc` release, and we plan to finalize it soon - meaning no more major breaking changes. If you feel adventurous or want to use some of the latest features, you can upgrade today. Please let us know the problems you faced, this will help us and the community. If you have ideas / feedback please [join the discussion](https://github.com/SeaQL/sea-query/discussions/795) on GitHub!\\n\\nAs SeaORM is based on top of SeaQuery, the breaking changes above would impact SeaORM users as well. We tried to minimize the impact to SeaORM users that use SeaQuery lightly and most migrations can be done mechanically.\\n\\nAfter SeaQuery 1.0, it will be the most exciting release - SeaORM 2.0!\\n\\n## Our New Team\\n\\nSeaQuery 1.0 wouldn\'t have happened without two contributors who joined us recently - [Dmitrii Aleksandrov](https://github.com/Expurple) and [Huliiiiii](https://github.com/Huliiiiii). They\'ve made huge contributions that helped define this release, and we\'re super grateful for the effort and care they\'ve poured into the project.\\n\\n<br/>\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Chris Tsang</div>\\n                <small class=\\"avatar__subtitle\\">Maintainer</small>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/Expurple\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/56318093?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Dmitrii Aleksandrov</div>\\n                <small class=\\"avatar__subtitle\\">Maintainer</small>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/Huliiiiii\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/134658521?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Huliiiiii</div>\\n                <small class=\\"avatar__subtitle\\">Contributor</small>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Sponsors\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\n#### Gold Sponsor\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.\\n\\n#### GitHub Sponsors\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--lg\\" href=\\"https://github.com/subscribepro\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8466133?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Subscribe Pro</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/holly-hacker\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/13605369?u=9566a44f2d869f337a4909836487bb4a29c23b72&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Variant9</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/vealth42\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/184287790?u=d63fb7492a558799c21667a0ec1461b4d5e0f94c&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">vealth</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/AurLemon\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/67463076?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">AurLemon</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/ryanswrt\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Ryan Swart</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/OteroRafael\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/175388115?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">OteroRafael</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/higumachan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Yuta Hinokuma</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/wh7f\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/59872041?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">wh7f</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcson909\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16665353?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">MS</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/numeusxyz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/82152211?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Numeus</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/data-intuitive\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Data Intuitive</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/caido-community\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/168573261?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Caido Community</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--md\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Marcus Buffett</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br/>\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">MasakiMiyazaki</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">KallyDev</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Manfred Lee</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Afonso Barracha</div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">Dean Sheather</div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography\\n- Mascots: Ferris the Crab x 3, Terres the Hermit Crab\\n- The Rustacean wordmark\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-08-15-sea-query-raw-sql","metadata":{"permalink":"/preview/pr-154/blog/2025-08-15-sea-query-raw-sql","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-08-15-sea-query-raw-sql.md","source":"@site/blog/2025-08-15-sea-query-raw-sql.md","title":"SeaQuery just made writing raw SQL more enjoyable","description":"You enjoy writing raw SQL queries, SeaQuery just made it better!","date":"2025-08-15T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.74,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-08-15-sea-query-raw-sql","title":"SeaQuery just made writing raw SQL more enjoyable","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaQuery%201.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"The road to SeaQuery 1.0","permalink":"/preview/pr-154/blog/2025-08-30-sea-query-1.0"},"nextItem":{"title":"What\'s new in SeaORM 1.1.12","permalink":"/preview/pr-154/blog/2025-06-01-whats-new-in-sea-orm-1.1"}},"content":"<img alt=\\"SeaQuery 1.0 Banner\\" src=\\"/blog/img/SeaQuery%201.0%20Banner.png\\"/>\\n\\nYou enjoy writing raw SQL queries, SeaQuery just made it better!\\n\\nWe\'ve created a new `raw_query!` macro with neat features to make writing raw SQL queries more ergononmic.\\n\\nThe biggest headache when crafting complex queries is parameter binding, whether you use `?` or `$N` assigning parameters manually is laborious and error-prone.\\n\\nSeaQuery\'s new [`raw_query!`](https://docs.rs/sea-query/1.0.0-rc.9/sea_query/index.html#4-improved-raw-sql-ergonomics) macro is designed to solve this exact problem.\\n\\n## Gist\\n\\n```rust\\nlet a = 1;\\nstruct B { b: i32 }\\nlet b = B { b: 2 };\\nlet c = \\"A\\";\\nlet d = vec![3, 4, 5];\\n\\nlet query = sea_query::raw_query!(\\n    PostgresQueryBuilder,\\n    r#\\"SELECT (\\"size_w\\" + {a}) * {b.b} FROM \\"glyph\\"\\n       WHERE \\"image\\" LIKE {c} AND \\"id\\" IN ({..d})\\"#\\n);\\n\\nassert_eq!(\\n    query.sql,\\n    r#\\"SELECT (\\"size_w\\" + $1) * $2 FROM \\"glyph\\"\\n       WHERE \\"image\\" LIKE $3 AND \\"id\\" IN ($4, $5, $6)\\"#\\n);\\nassert_eq!(\\n    query.values,\\n    Values(vec![1.into(), 2.into(), \\"A\\".into(), 3.into(), 4.into(), 5.into()])\\n);\\n```\\n\\nThere are several features packed into the snippet above!\\n\\nLet\'s have a quick overview and we\'ll dive into the details:\\n\\n1. named parameter: `{a}` injected\\n2. nested parameter access: `{b.b}` inner access\\n3. array expansion: `{..d}` expanded into three parameters\\n\\nThere are two more features that will be showcased later:\\n\\n4. tuple expansion: `{values.0:2}`\\n5. repeating group: `{..(values.0),}`\\n\\n## Motivation\\n\\nWhile SeaQuery has long offered a way to build dynamic queries solving basically the same problem, not every one liked SeaQuery\'s code structure.\\n\\nI recently came across this [SQLx issue](https://github.com/launchbadge/sqlx/issues/875), and was enticed to solve it.\\n\\nI am heavily inspired by Rust\'s `format!` macro and other languages\' template literals for string interpolation, and figured it could probably be achieved in Rust as well!\\n\\n## Challenges\\n\\nFirst, the above cannot be implemented with standard `macro_rules` because of caller hygiene, such that expanded code cannot access the variables in the surrounding scope. But proc macros do not have this limitation.\\n\\nSecond, if we want to expand an array, the number of elements cannot be known until runtime. So a compile-time approach couldn\'t work.\\n\\nThird, we have to support all of Rust\'s primitive and container types as well as third party data types.\\n\\n## Dive in\\n\\nLet\'s take a look at what the above code expands into!\\n\\n```rust\\nlet a = 1;\\nstruct B {\\n    b: i32,\\n}\\nlet b = B { b: 2 };\\nlet c = \\"A\\";\\nlet d = <[_]>::into_vec(#[rustc_box] ::alloc::boxed::Box::new([3, 4, 5]));\\n\\nlet query = {\\n    use sea_query::raw_sql::*;\\n    let mut builder = RawSqlQueryBuilder::new(sea_query::PostgresQueryBuilder);\\n    builder\\n        .push_fragment(\\"SELECT (\\\\\\"size_w\\\\\\" + \\")\\n        .push_parameters(1)\\n        .push_fragment(\\") * \\")\\n        .push_parameters(1)\\n        .push_fragment(\\" FROM \\\\\\"glyph\\\\\\"\\\\n        WHERE \\\\\\"image\\\\\\" LIKE \\")\\n        .push_parameters(1)\\n        .push_fragment(\\" AND \\\\\\"id\\\\\\" IN (\\")\\n        .push_parameters((&d).len())\\n        .push_fragment(\\")\\");\\n    let sql = builder.finish();\\n    let mut query = seaql::query(&sql);\\n    query = query.bind(&a);\\n    query = query.bind(&b.b);\\n    query = query.bind(&c);\\n    for v in (&d).iter() {\\n        query = query.bind(v);\\n    }\\n    query\\n};\\n```\\n\\nI created `RawSqlQueryBuilder` that is somewhat similar to SeaQuery\'s query building backend. It serializes the query string in a single pass.\\n\\nThe derive macro first tokenize and parse the raw SQL to identify the splice points, and then call a special method `push_parameters` to push a variable number of parameters. This can be numbered, i.e. for Postgres.\\n\\nAfter finishing the SQL building part, it then proceeds to bind the parameters. This mechanism is designed around SQLx\'s query API.\\n\\nIf the variable has a spread `..` operator, we\'d loop over it and bind all items.\\n\\n### Other ideas\\n\\nOriginally I wanted to implement auto-expansion, meaning if the parameter is a container type, we\'d expand it automagically. But there are quite a few special cases - most importantly `Vec<u8>` is used as bytes and should be bound as a single parameter. Moreover, in Postgres you can use arrays directly, and so we can\'t decide whether to expand.\\n\\n## More goodies\\n\\n### Tuple expansion\\n\\nThere are two more features that\'ll make your life much easier.\\n\\n```rust\\nlet var = (1, \\"2\\".to_owned(), 3);\\n\\nlet query = sea_query::raw_query!(\\n    PostgresQueryBuilder,\\n    \\"SELECT {var.0}, {var.1}, {var.2}\\"\\n);\\n\\nlet new_query = sea_query::raw_query!(\\n    PostgresQueryBuilder,\\n    r#\\"SELECT {var.0:2}\\"#\\n);\\n\\nassert_eq!(query, new_query);\\n```\\n\\nWe can already support accessing tuple members, why not offer a range operator?\\n\\nThe `:` token is chosen because it somewhat resembles the Python operator. `[0:2]` is un-natural because tuple members in Rust can only be accessed by `.0`. Feel free to offer your thoughts!\\n\\nIt\'s not possible to automatically expand a tuple like an array because its arity (the number of elements) is not known at the time the macro is expanded. If the tuple consists of elements with a uniform type, it can be made iterable like a vector by implementing the appropriate traits. However, that approach doesn\'t apply in the case above, where the tuple\'s structure is not uniform.\\n\\nYou can do inserts with this:\\n\\n```rust\\nlet values = (1, \\"2\\", 3);\\n\\nlet query = sea_query::raw_query!(\\n    MysqlQueryBuilder,\\n    \\"INSERT INTO `glyph` (`aspect`, `image`, `font_size`) VALUES ({values.0:2})\\"\\n);\\nassert_eq!(\\n    query.sql,\\n    \\"INSERT INTO `glyph` (`aspect`, `image`, `font_size`) VALUES (?, ?, ?)\\"\\n);\\nassert_eq!(query.values, Values(vec![1.into(), \\"2\\".into(), 3.into()]));\\n```\\n\\nYou may ask, then how do we insert multiple elements? Which brings us to the next feature:\\n\\n## Repeating Group\\n\\n```rust\\nlet values = vec![(1, \\"2\\", 3), (4, \\"5\\", 6)];\\n\\nlet query = sea_query::raw_query!(\\n    PostgresQueryBuilder,\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\", \\"font_size\\")\\n       VALUES {..(values.0:2),}\\"#\\n);\\nassert_eq!(\\n    query.sql,\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\", \\"font_size\\")\\n       VALUES ($1, $2, $3), ($4, $5, $6)\\"#\\n);\\n```\\n\\nThis syntax almost looks like regex now. Please let me explain:\\n\\nIt\'s expanded upon the previous example, in which `values.0:2` means tuple expansion. We want to repeat this tuple as a group, surrounded by parenthesis, so we wrap it with `()`. Then we apply the same spread operator `..` to expand the vector of tuples. Finally, the trailing `,` means they should be connected with `,`.\\n\\nThis repeating group is not fully-generalized yet, but is quite flexible:\\n\\n```rust\\nstruct Item {\\n    a: i32,\\n    b: String,\\n    c: u16,\\n}\\n\\nlet values = vec![\\n    Item { a: 1, b: \\"2\\".to_owned(), c: 3 },\\n    Item { a: 4, b: \\"5\\".to_owned(), c: 6 },\\n];\\n\\nlet query = sea_query::raw_query!(\\n    PostgresQueryBuilder,\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\", \\"font_size\\")\\n       VALUES {..(values.a, values.b, values.c),}\\"#\\n);\\n```\\n\\nThis is equivalent to the previous example.\\n\\n## SQLx Integration\\n\\nSeaQuery offers tight SQLx integration. So in practice you can do (requires `sqlx-utils` feature flag):\\n\\n```rust\\nlet mut sql;\\nlet res = sea_query::sqlx::sqlite::query!(\\n    sql = r#\\"INSERT INTO \\"character\\"\\n             (\\"uuid\\", \\"font_size\\", \\"character\\")\\n             VALUES {..(values.0:2),}\\"#\\n).execute(pool).await?;\\n```\\n\\nNote the salient `sql` variable. SQLx\'s `Query` object can only borrow the SQL as `&str`, and so someone has to own the `String`. I couldn\'t think of a better API, suggestions welcome.\\n\\nIt calls the underlying [`Query`](https://docs.rs/sqlx/latest/sqlx/query/struct.Query.html)\'s bind method directly, so no extra copy is involved. This is the lowest possible overhead!\\n\\nOne final example:\\n\\n```rust\\nlet mut character = Character { id: 1, font_size: 0 };\\ncharacter.font_size = 18;\\n\\nlet res = sea_query::sqlx::sqlite::query!(\\n    sql = r#\\"UPDATE \\"character\\"\\n             SET \\"font_size\\" = {character.font_size}\\n             WHERE \\"id\\" = {character.id}\\"#\\n).execute(pool).await?;\\n```\\n\\nFull example can be found [here](https://github.com/SeaQL/sea-query/blob/master/examples/sqlx_sqlite/src/main.rs).\\n\\nIt almost feels like a mini ORM ... although [SeaORM \ud83d\udc1a](https://github.com/SeaQL/sea-orm) is still highly recommended by us!\\n\\n## SeaQuery 1.0\\n\\nThis is just one of many new features we\'ve added while preparing [SeaQuery 1.0](https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/). This is currently an `rc` release, but we plan to finalize it soon. If you have ideas please [join the discussion](https://github.com/SeaQL/sea-query/discussions/795).\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography\\n- Mascots: Ferris the Crab x 3, Terres the Hermit Crab\\n- The Rustacean wordmark\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-06-01-whats-new-in-sea-orm-1.1","metadata":{"permalink":"/preview/pr-154/blog/2025-06-01-whats-new-in-sea-orm-1.1","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-06-01-whats-new-in-sea-orm-1.1.md","source":"@site/blog/2025-06-01-whats-new-in-sea-orm-1.1.md","title":"What\'s new in SeaORM 1.1.12","description":"This blog post summarizes the new features and enhancements introduced in SeaORM 1.1:","date":"2025-06-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":11.46,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-06-01-whats-new-in-sea-orm-1.1","title":"What\'s new in SeaORM 1.1.12","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%201.0-rc%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaQuery just made writing raw SQL more enjoyable","permalink":"/preview/pr-154/blog/2025-08-15-sea-query-raw-sql"},"nextItem":{"title":"What\'s new in SeaORM 1.1.7","permalink":"/preview/pr-154/blog/2025-03-08-whats-new-in-sea-orm-1.1"}},"content":"<img alt=\\"SeaORM 1.0 Banner\\" src=\\"/blog/img/SeaORM%201.0%20Banner.png\\"/>\\n\\nThis blog post summarizes the new features and enhancements introduced in SeaORM `1.1`:\\n\\n+ 2025-03-30 [`1.1.8`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.8)\\n+ 2025-04-14 [`1.1.9`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.9)\\n+ 2025-04-14 [`1.1.10`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.10)\\n+ 2025-05-07 [`1.1.11`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.11)\\n+ 2025-05-27 [`1.1.12`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.12)\\n\\n## New Features\\n\\n### Implement `DeriveValueType` for enum strings\\n\\n`DeriveValueType` now supports `enum` types. It offers a simpler alternative to `DeriveActiveEnum` for client-side enums backed by string database types.\\n\\n```rust\\n#[derive(DeriveValueType)]\\n#[sea_orm(value_type = \\"String\\")]\\npub enum Tag {\\n    Hard,\\n    Soft,\\n}\\n\\n// `from_str` defaults to `std::str::FromStr::from_str`\\nimpl std::str::FromStr for Tag {\\n    type Err = sea_orm::sea_query::ValueTypeErr;\\n    fn from_str(s: &str) -> Result<Self, Self::Err> { .. }\\n}\\n\\n// `to_str` defaults to `std::string::ToString::to_string`.\\nimpl std::fmt::Display for Tag {\\n    fn fmt(&self, f: &mut std::fmt::Formatter<\'_>) -> std::fmt::Result { .. }\\n}\\n```\\n\\nThe following trait impl are generated, removing the boilerplate previously needed:\\n\\n<details>\\n    <summary>DeriveValueType expansion</summary>\\n\\n```rust\\n#[automatically_derived]\\nimpl std::convert::From<Tag> for sea_orm::Value {\\n    fn from(source: Tag) -> Self {\\n        std::string::ToString::to_string(&source).into()\\n    }\\n}\\n\\n#[automatically_derived]\\nimpl sea_orm::TryGetable for Tag {\\n    fn try_get_by<I: sea_orm::ColIdx>(res: &sea_orm::QueryResult, idx: I)\\n        -> std::result::Result<Self, sea_orm::TryGetError> {\\n        let string = String::try_get_by(res, idx)?;\\n        std::str::FromStr::from_str(&string).map_err(|err| sea_orm::TryGetError::DbErr(sea_orm::DbErr::Type(format!(\\"{err:?}\\"))))\\n    }\\n}\\n\\n#[automatically_derived]\\nimpl sea_orm::sea_query::ValueType for Tag {\\n    fn try_from(v: sea_orm::Value) -> std::result::Result<Self, sea_orm::sea_query::ValueTypeErr> {\\n        let string = <String as sea_orm::sea_query::ValueType>::try_from(v)?;\\n        std::str::FromStr::from_str(&string).map_err(|_| sea_orm::sea_query::ValueTypeErr)\\n    }\\n\\n    fn type_name() -> std::string::String {\\n        stringify!(Tag).to_owned()\\n    }\\n\\n    fn array_type() -> sea_orm::sea_query::ArrayType {\\n        sea_orm::sea_query::ArrayType::String\\n    }\\n\\n    fn column_type() -> sea_orm::sea_query::ColumnType {\\n        sea_orm::sea_query::ColumnType::String(sea_orm::sea_query::StringLen::None)\\n    }\\n}\\n\\n#[automatically_derived]\\nimpl sea_orm::sea_query::Nullable for Tag {\\n    fn null() -> sea_orm::Value {\\n        sea_orm::Value::String(None)\\n    }\\n}\\n```\\n</details>\\n\\nYou can override from_str and to_str with custom functions, which is especially useful if you\'re using [`strum::Display`](https://docs.rs/strum/latest/strum/derive.Display.html) and [`strum::EnumString`](https://docs.rs/strum/latest/strum/derive.EnumString.html), or manually implemented methods:\\n\\n```rust\\n#[derive(DeriveValueType)]\\n#[sea_orm(\\n    value_type = \\"String\\",\\n    from_str = \\"Tag::from_str\\",\\n    to_str = \\"Tag::to_str\\"\\n)]\\npub enum Tag {\\n    Color,\\n    Grey,\\n}\\n\\nimpl Tag {\\n    fn from_str(s: &str) -> Result<Self, ValueTypeErr> { .. }\\n\\n    fn to_str(&self) -> &\'static str { .. }\\n}\\n```\\n\\n### Support Postgres IpNetwork\\n\\n[#2395](https://github.com/SeaQL/sea-orm/pull/2395) (under feature flag `with-ipnetwork`)\\n\\n```rust\\n// Model\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"host_network\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub ipaddress: IpNetwork,\\n    #[sea_orm(column_type = \\"Cidr\\")]\\n    pub network: IpNetwork,\\n}\\n\\n// Schema\\nsea_query::Table::create()\\n    .table(host_network::Entity)\\n    .col(ColumnDef::new(host_network::Column::Id).integer().not_null().auto_increment().primary_key())\\n    .col(ColumnDef::new(host_network::Column::Ipaddress).inet().not_null())\\n    .col(ColumnDef::new(host_network::Column::Network).cidr().not_null())\\n    .to_owned();\\n\\n// CRUD\\nhost_network::ActiveModel {\\n    ipaddress: Set(IpNetwork::new(Ipv6Addr::new(..))),\\n    network: Set(IpNetwork::new(Ipv4Addr::new(..))),\\n    ..Default::default()\\n}\\n```\\n\\n### Added `default_values` to `ActiveModelTrait`\\n\\nThe `ActiveModel::default()` returns `ActiveModel { .. NotSet }` by default (it can also be overridden).\\n\\nWe\'ve added a new method `default_values()` which would set all fields to their actual `Default::default()` values.\\n\\nThis fills in a gap in the type system to help with serde. A real-world use case is to improve `ActiveModel::from_json`, an upcoming [new feature](https://github.com/SeaQL/sea-orm/pull/2599) (which is a breaking change, sadly).\\n\\n```rust\\n#[derive(DeriveEntityModel)]\\n#[sea_orm(table_name = \\"fruit\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub name: String,\\n    pub cake_id: Option<i32>,\\n    pub type_without_default: active_enums::Tea,\\n}\\n\\nassert_eq!(\\n    fruit::ActiveModel::default_values(),\\n    fruit::ActiveModel {\\n        id: Set(0), // integer\\n        name: Set(\\"\\".into()), // string\\n        cake_id: Set(None), // option\\n        type_without_default: NotSet, // not available\\n    },\\n);\\n```\\n\\nIf you are interested in how this works under the hood, a new method [`Value::dummy_value`](https://docs.rs/sea-query/latest/sea_query/value/enum.Value.html#method.dummy_value) is added in SeaQuery:\\n\\n```rust\\nuse sea_orm::sea_query::Value;\\nlet v = Value::Int(None);\\nlet n = v.dummy_value();\\nassert_eq!(n, Value::Int(Some(0)));\\n```\\n\\nThe real magic happens with a set of new traits, [`DefaultActiveValue`](https://docs.rs/sea-orm/latest/sea_orm/value/trait.DefaultActiveValue.html), [`DefaultActiveValueNone`](https://docs.rs/sea-orm/latest/sea_orm/value/trait.DefaultActiveValueNone.html) and [`DefaultActiveValueNotSet`](https://docs.rs/sea-orm/latest/sea_orm/value/trait.DefaultActiveValueNotSet.html), and taking advantage of Rust\'s autoref specialization mechanism used by [anyhow](https://github.com/dtolnay/case-studies/blob/master/autoref-specialization/README.md):\\n\\n```rust\\nuse sea_orm::value::{DefaultActiveValue, DefaultActiveValueNone, DefaultActiveValueNotSet};\\n\\nlet v = (&ActiveValue::<i32>::NotSet).default_value();\\nassert_eq!(v, ActiveValue::Set(0));\\n\\nlet v = (&ActiveValue::<Option<i32>>::NotSet).default_value();\\nassert_eq!(v, ActiveValue::Set(None));\\n\\nlet v = (&ActiveValue::<String>::NotSet).default_value();\\nassert_eq!(v, ActiveValue::Set(\\"\\".to_owned()));\\n\\nlet v = (&ActiveValue::<Option<String>>::NotSet).default_value();\\nassert_eq!(v, ActiveValue::Set(None));\\n\\nlet v = (&ActiveValue::<TimeDateTime>::NotSet).default_value();\\nassert!(matches!(v, ActiveValue::Set(_)));\\n```\\n\\nThis enables progressive enhancements based on the traits of the individual `ActiveValue` type.\\n\\n### Make sea-orm-cli & sea-orm-migration dependencies optional \\n\\n[#2367](https://github.com/SeaQL/sea-orm/pull/2367)\\n\\nSome engineering teams prefer vendoring `sea-orm-cli` into their own project as part of the cargo workspace, and so would like to have more control of the dependency graph. This change makes it possible to pick the exact features needed by your project.\\n\\n## Enhancements\\n\\n* Impl `IntoCondition` for `RelationDef` [#2587](https://github.com/SeaQL/sea-orm/pull/2587)<br />\\nThis allows using `RelationDef` directly where the query API expects an `IntoCondition`\\n```rust\\nlet query = Query::select()\\n    .from(fruit::Entity)\\n    .inner_join(cake::Entity, fruit::Relation::Cake.def())\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(MysqlQueryBuilder),\\n    r#\\"SELECT  FROM `fruit` INNER JOIN `cake` ON `fruit`.`cake_id` = `cake`.`id`\\"#\\n);\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT  FROM \\"fruit\\" INNER JOIN \\"cake\\" ON \\"fruit\\".\\"cake_id\\" = \\"cake\\".\\"id\\"\\"#\\n);\\nassert_eq!(\\n    query.to_string(SqliteQueryBuilder),\\n    r#\\"SELECT  FROM \\"fruit\\" INNER JOIN \\"cake\\" ON \\"fruit\\".\\"cake_id\\" = \\"cake\\".\\"id\\"\\"#\\n);\\n```\\n* Use fully-qualified syntax for ActiveEnum associated type [#2552](https://github.com/SeaQL/sea-orm/pull/2552)\\n* Added `try_getable_postgres_array!(Vec<u8>)` (to support `bytea[]`) [#2503](https://github.com/SeaQL/sea-orm/pull/2503)\\n* Accept `LikeExpr` in `like` and `not_like` [#2549](https://github.com/SeaQL/sea-orm/pull/2549)\\n* Loader: retain only unique key values in the query condition [#2569](https://github.com/SeaQL/sea-orm/pull/2569)\\n* Add proxy transaction impl [#2573](https://github.com/SeaQL/sea-orm/pull/2573)\\n* Relax `TransactionError`\'s trait bound for errors to allow `anyhow::Error` [#2602](https://github.com/SeaQL/sea-orm/pull/2602)\\n* [sea-orm-cli] Fix `PgVector` codegen [#2589](https://github.com/SeaQL/sea-orm/pull/2589)\\n* [sea-orm-cli] Support postgres array in expanded format [#2545](https://github.com/SeaQL/sea-orm/pull/2545)\\n\\n## Bug fixes\\n\\n* Quote type properly in `AsEnum` casting [#2570](https://github.com/SeaQL/sea-orm/pull/2570)\\n```rust\\nassert_eq!(\\n    lunch_set::Entity::find()\\n        .select_only()\\n        .column(lunch_set::Column::Tea)\\n        .build(DbBackend::Postgres)\\n        .to_string(),\\n    r#\\"SELECT CAST(\\"lunch_set\\".\\"tea\\" AS \\"text\\") FROM \\"lunch_set\\"\\"#\\n    // \\"text\\" is now quoted; will work for \\"text\\"[] as well\\n);\\n```\\n* Include custom `column_name` in DeriveColumn `Column::from_str` impl [#2603](https://github.com/SeaQL/sea-orm/pull/2603)\\n```rust\\n#[derive(DeriveEntityModel)]\\npub struct Model {\\n    #[sea_orm(column_name = \\"lAsTnAmE\\")]\\n    last_name: String,\\n}\\n\\nassert!(matches!(Column::from_str(\\"lAsTnAmE\\").unwrap(), Column::LastName));\\n```\\n* Check if url is well-formed before parsing (avoid panic) [#2558](https://github.com/SeaQL/sea-orm/pull/2558)\\n```rust\\nlet db = Database::connect(\\"postgre://sea:sea@localhost/bakery\\").await?;\\n// note the missing `s`; results in `DbErr::Conn`\\n```\\n* `QuerySelect::column_as` method cast ActiveEnum column [#2551](https://github.com/SeaQL/sea-orm/pull/2551)\\n```rust\\n#[derive(Debug, FromQueryResult, PartialEq)]\\nstruct SelectResult {\\n    tea_alias: Option<Tea>,\\n}\\n\\nassert_eq!(\\n    SelectResult {\\n        tea_alias: Some(Tea::EverydayTea),\\n    },\\n    Entity::find()\\n        .select_only()\\n        .column_as(Column::Tea, \\"tea_alias\\")\\n        .into_model()\\n        .one(db)\\n        .await?\\n        .unwrap()\\n);\\n```\\n* Fix unicode string enum [#2218](https://github.com/SeaQL/sea-orm/pull/2218)\\n```rust\\n#[derive(Debug, Clone, PartialEq, Eq, EnumIter, DeriveActiveEnum)]\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"String(StringLen::None)\\")]\\npub enum SeaORM {\\n    #[sea_orm(string_value = \\"\uc528\uc624\uc54c\uc5e0\\")]\\n    \uc528\uc624\uc54c\uc5e0,\\n}\\n```\\n\\n## Upgrades\\n\\n* Upgrade sqlx to 0.8.4 [#2562](https://github.com/SeaQL/sea-orm/pull/2562)\\n* Upgrade `sea-query` to `0.32.5`\\n* Upgrade `sea-schema` to `0.16.2`\\n* Upgrade `heck` to `0.5` [#2218](https://github.com/SeaQL/sea-orm/pull/2218)\\n\\n## House Keeping\\n\\n* Replace `once_cell` crate with `std` equivalent [#2524](https://github.com/SeaQL/sea-orm/pull/2524)\\n(available since rust 1.80)\\n\\n## Release Planning\\n\\n[SeaORM 1.0](https://www.sea-ql.org/blog/2024-08-04-sea-orm-1.0/) is a stable release. As demonstrated, we are able to ship many new features without breaking the API. The 1.1 version will be maintained until October 2025, and we\'ll likely release a 1.2 version with some breaking changes afterwards.\\n\\nThe underlying library SeaQuery will undergo an overhaul and be promoted to 1.0.\\n\\nIf you have suggestions on breaking changes, you are welcome to post them in the discussions:\\n* [Wanted breaking changes in SeaORM](https://github.com/SeaQL/sea-orm/discussions/2548)\\n* [Wanted breaking changes in SeaQuery](https://github.com/SeaQL/sea-query/discussions/795)\\n\\n## SQL Server Support\\n\\nWe\'ve been beta-testing [SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) for a while. SeaORM X offers the same SeaORM API for MSSQL. We ported all test cases and most examples, complemented by MSSQL specific documentation. If you are building enterprise software for your company, you can [request commercial access](https://forms.office.com/r/1MuRPJmYBR).\\n\\nFeatures:\\n\\n+ SeaQuery + SeaSchema\\n+ Entity generation with sea-orm-cli\\n+ GraphQL with Seaography\\n+ Nested transaction, connection pooling and multi-async runtime\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: Professional Admin Panel\\n\\n<img src=\\"/blog/img/sea-orm-pro-light.png#light\\" />\\n<img src=\\"/blog/img/sea-orm-pro-dark.png#dark\\" />\\n\\n[SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/) is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Built-in GraphQL resolver\\n+ Customize the UI with simple TOML\\n\\n### Getting Started\\n\\n+ [Example Repo](https://github.com/SeaQL/sea-orm-pro)\\n+ [Getting Started with Loco](https://www.sea-ql.org/sea-orm-pro/docs/install-and-config/getting-started-loco/)\\n+ [Getting Started with Axum](https://www.sea-ql.org/sea-orm-pro/docs/install-and-config/getting-started-axum/)\\n\\n### Latest features\\n\\nThe [latest release](https://github.com/SeaQL/sea-orm-pro/releases/tag/0.2.0) of SeaORM Pro has a new feature, [Model Editor](https://www.sea-ql.org/sea-orm-pro/docs/raw-table-config/editor/). Instead of updating data in a pop-up dialog, editor offers a dedicated page with deep link to view and update data. It also offers more control to the UI layout.\\n\\n<img src=\\"/blog/img/raw-table-config-table-editor.png#light\\" />\\n<img src=\\"/blog/img/raw-table-config-table-editor-dark.png#dark\\" />\\n\\n## Sponsor\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n\\n#### Gold Sponsors\\n\\n<a href=\\"https://qdx.co/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/QDX.svg\\" width=\\"128\\" />\\n</a>\\n\\n[QDX](https://qdx.co/) pioneers quantum dynamics\u2013powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\\nWe\'re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.\\n\\n#### GitHub Sponsors\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/numeusxyz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/82152211?s=200&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Numeus\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/caido-community\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/168573261?s=200&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Caido\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/data-intuitive\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?s=200&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Data Intuitive\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/marcson909\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16665353?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    MS\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/wh7f\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/59872041?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    wh7f\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br />\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    KallyDev\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    MasakiMiyazaki\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>"},{"id":"2025-03-08-whats-new-in-sea-orm-1.1","metadata":{"permalink":"/preview/pr-154/blog/2025-03-08-whats-new-in-sea-orm-1.1","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-03-08-whats-new-in-sea-orm-1.1.md","source":"@site/blog/2025-03-08-whats-new-in-sea-orm-1.1.md","title":"What\'s new in SeaORM 1.1.7","description":"This blog post summarizes the new features and enhancements introduced in SeaORM 1.1:","date":"2025-03-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":13.27,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-03-08-whats-new-in-sea-orm-1.1","title":"What\'s new in SeaORM 1.1.7","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%201.0-rc%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 1.1.12","permalink":"/preview/pr-154/blog/2025-06-01-whats-new-in-sea-orm-1.1"},"nextItem":{"title":"Tutorial: Modeling Inheritance in SeaORM","permalink":"/preview/pr-154/blog/2025-01-08-sea-orm-inheritance"}},"content":"<img alt=\\"SeaORM 1.0 Banner\\" src=\\"/blog/img/SeaORM%201.0%20Banner.png\\"/>\\n\\nThis blog post summarizes the new features and enhancements introduced in SeaORM `1.1`:\\n\\n+ 2024-10-15 [`1.1.0`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.0)\\n+ 2024-11-04 [`1.1.1`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.1)\\n+ 2024-12-02 [`1.1.2`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.2)\\n+ 2024-12-24 [`1.1.3`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.3)\\n+ 2025-01-10 [`1.1.4`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.4)\\n+ 2025-02-14 [`1.1.5`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.5)\\n+ 2025-02-24 [`1.1.6`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.6)\\n+ 2025-03-02 [`1.1.7`](https://github.com/SeaQL/sea-orm/releases/tag/1.1.7)\\n\\n## New Features\\n\\n### Support Postgres Vector\\n\\n[#2500](https://github.com/SeaQL/sea-orm/pull/2500)\\nThe popular [pgvector](https://github.com/pgvector/pgvector) extension enables efficient storage and querying of high-dimensional vector data, supporting applications like similarity search, recommendation systems, and other AI tools.\\n\\nThanks to the contribution of [@28Smiles](https://github.com/28Smiles), `PgVector` is now integrated nicely into the SeaQL ecosystem (under feature flag `postgres-vector`).\\n\\n```rust\\n// Model\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"image_model\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub embedding: PgVector,\\n}\\n\\n// Schema\\nsea_query::Table::create()\\n    .table(image_model::Entity.table_ref())\\n    .col(ColumnDef::new(Column::Id).integer().not_null().auto_increment().primary_key())\\n    .col(ColumnDef::new(Column::Embedding).vector(None).not_null())\\n    ..\\n\\n// Insert\\nActiveModel {\\n    id: NotSet,\\n    embedding: Set(PgVector::from(vec![1., 2., 3.])),\\n}\\n.insert(db)\\n.await?\\n```\\n\\n### Nested Objects in Relational Queries\\n\\n[#2508](https://github.com/SeaQL/sea-orm/pull/2508) [#2179](https://github.com/SeaQL/sea-orm/pull/2179) [#1716](https://github.com/SeaQL/sea-orm/pull/1716)\\n\\nWe now have a good answer to [Why SeaORM does not nest objects for parent-child relation](https://www.sea-ql.org/blog/2022-05-14-faq-01/)!\\n\\nThe latest improvements to the `FromQueryResult` and `DerivePartialModel` macros allows you to nest objects easily, simplifying the construction of complex queries.\\n\\nTo illustrate, let\'s take a look at the [Bakery Schema](https://www.sea-ql.org/SeaORM/docs/relation/bakery-schema/) again.\\n\\n![Bakery ERD](https://raw.githubusercontent.com/SeaQL/sea-orm/refs/heads/master/tests/common/bakery_chain/bakery_chain_erd.png)\\n\\nAs a simple first example, we\'d like to select `Cake` with `Bakery`:\\n\\n```rust\\n#[derive(FromQueryResult)]\\nstruct Cake {\\n    id: i32,\\n    name: String,\\n    #[sea_orm(nested)]\\n    bakery: Option<Bakery>,\\n}\\n\\n#[derive(FromQueryResult)]\\nstruct Bakery {\\n    #[sea_orm(from_alias = \\"bakery_id\\")]\\n    id: i32,\\n    #[sea_orm(from_alias = \\"bakery_name\\")]\\n    brand: String,\\n}\\n\\nlet cake: Cake = cake::Entity::find()\\n    .select_only()\\n    .column(cake::Column::Id)\\n    .column(cake::Column::Name)\\n    .column_as(bakery::Column::Id, \\"bakery_id\\")\\n    .column_as(bakery::Column::Name, \\"bakery_name\\")\\n    .left_join(bakery::Entity)\\n    .order_by_asc(cake::Column::Id)\\n    .into_model()\\n    .one(db)\\n    .await?\\n    .unwrap();\\n\\nassert_eq!(\\n    cake,\\n    Cake {\\n        id: 1,\\n        name: \\"Basque cheesecake\\".to_string(),\\n        bakery: Some(Bakery {\\n            id: 20,\\n            brand: \\"Super Baker\\".to_string(),\\n        })\\n    }\\n);\\n```\\n\\nBecause the tables `cake` and `bakery` have some duplicate column names, we\'d have to do custom selects. `select_only` here clears the default select list, and we apply aliases with [`column_as`](https://docs.rs/sea-orm/latest/sea_orm/query/trait.QuerySelect.html#method.column_as). Then, in `FromQueryResult` we use `from_alias` to map the query result back to the nested struct.\\n\\nYou may wonder if there are ways to not do the alias and mapping? Yes! There\'s where [`DerivePartialModel`](https://docs.rs/sea-orm/latest/sea_orm/derive.DerivePartialModel.html) comes into play. The previous example can be written as:\\n```rust\\n#[derive(DerivePartialModel)] // FromQueryResult is no longer needed\\n#[sea_orm(entity = \\"cake::Entity\\", from_query_result)]\\nstruct Cake {\\n    id: i32,\\n    name: String,\\n    #[sea_orm(nested)]\\n    bakery: Option<Bakery>,\\n}\\n\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"bakery::Entity\\", from_query_result)]\\nstruct Bakery {\\n    id: i32,\\n    #[sea_orm(from_col = \\"Name\\")]\\n    brand: String,\\n}\\n\\n// same as previous example, but without the custom selects\\nlet cake: Cake = cake::Entity::find()\\n    .left_join(bakery::Entity)\\n    .order_by_asc(cake::Column::Id)\\n    .into_partial_model()\\n    .one(db)\\n    .await?\\n    .unwrap();\\n```\\n\\nUnder the hood, `bakery_` prefix will be added to the column alias in the SQL query.\\n\\n```sql\\nSELECT\\n    \\"cake\\".\\"id\\" AS \\"id\\",\\n    \\"cake\\".\\"name\\" AS \\"name\\",\\n    \\"bakery\\".\\"id\\" AS \\"bakery_id\\",\\n    \\"bakery\\".\\"name\\" AS \\"bakery_brand\\"\\nFROM \\"cake\\"\\nLEFT JOIN \\"bakery\\" ON \\"cake\\".\\"bakery_id\\" = \\"bakery\\".\\"id\\"\\nORDER BY \\"cake\\".\\"id\\" ASC LIMIT 1\\n```\\n\\nNow, let\'s look at one more advanced three-way join. Our join tree starts from Order:\\n\\n```rust\\nOrder -> Customer\\n      -> LineItem -> Cake\\n```\\n\\n```rust\\n#[derive(Debug, DerivePartialModel, PartialEq)]\\n#[sea_orm(entity = \\"order::Entity\\", from_query_result)]\\nstruct Order {\\n    id: i32,\\n    total: Decimal,\\n    #[sea_orm(nested)]\\n    customer: Customer,\\n    #[sea_orm(nested)]\\n    line: LineItem,\\n}\\n\\n#[derive(Debug, DerivePartialModel, PartialEq)]\\n#[sea_orm(entity = \\"customer::Entity\\", from_query_result)]\\nstruct Customer {\\n    name: String,\\n}\\n\\n#[derive(Debug, DerivePartialModel, PartialEq)]\\n#[sea_orm(entity = \\"lineitem::Entity\\", from_query_result)]\\nstruct LineItem {\\n    price: Decimal,\\n    quantity: i32,\\n    #[sea_orm(nested)]\\n    cake: Cake,\\n}\\n\\n#[derive(Debug, DerivePartialModel, PartialEq)]\\n#[sea_orm(entity = \\"cake::Entity\\", from_query_result)]\\nstruct Cake {\\n    name: String,\\n}\\n\\nlet items: Vec<Order> = order::Entity::find()\\n    .left_join(customer::Entity)\\n    .left_join(lineitem::Entity)\\n    .join(JoinType::LeftJoin, lineitem::Relation::Cake.def())\\n    .order_by_asc(order::Column::Id)\\n    .order_by_asc(lineitem::Column::Id)\\n    .into_partial_model()\\n    .all(db)\\n    .await?;\\n\\nassert_eq!(\\n    items,\\n    [\\n        Order {\\n            id: 101,\\n            total: Decimal::from(10),\\n            customer: Customer {\\n                name: \\"Bob\\".to_owned()\\n            },\\n            line: LineItem {\\n                cake: Cake {\\n                    name: \\"Cheesecake\\".to_owned()\\n                },\\n                price: Decimal::from(2),\\n                quantity: 2,\\n            }\\n        },\\n        ..\\n    ]\\n);\\n```\\n\\nThat\'s it! Hope you like these new features, and a huge thanks to [@Goodjooy](https://github.com/Goodjooy) for laying the foundation, [@jreppnow](https://github.com/jreppnow) for implementing the nested logic, and everyone who participated in the discussion.\\n\\n#### Bonus: PartialModel -> ActiveModel\\n\\n[#2517](https://github.com/SeaQL/sea-orm/pull/2517)\\n`DerivePartialModel` got another extension to derive [`IntoActiveModel`](https://docs.rs/sea-orm/latest/sea_orm/entity/trait.IntoActiveModel.html) as well. Absent attributes will be filled with `NotSet`. This allows you to have a cake and eat it!\\n\\n```rust\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"cake::Entity\\", into_active_model)]\\nstruct PartialCake {\\n    id: i32,\\n    name: String,\\n}\\n\\nlet partial_cake = PartialCake {\\n    id: 12,\\n    name: \\"Lemon Drizzle\\".to_owned(),\\n};\\n\\n// this is now possible:\\nassert_eq!(\\n    cake::ActiveModel {\\n        ..partial_cake.into_active_model()\\n    },\\n    cake::ActiveModel {\\n        id: Set(12),\\n        name: Set(\\"Lemon Drizzle\\".to_owned()),\\n        ..Default::default()\\n    }\\n);\\n```\\n\\n### Three way select\\n\\n[#2518](https://github.com/SeaQL/sea-orm/pull/2518)\\nWith PartialModel being so powerful, if you still need to do non-nested selects, there\'s [`SelectThree`](https://docs.rs/sea-orm/latest/sea_orm/query/struct.SelectThree.html), an extension to `SelectTwo`:\\n\\n```rust\\nOrder -> Lineitem -> Cake\\n```\\n\\n```rust\\nlet items: Vec<(order::Model, Option<lineitem::Model>, Option<cake::Model>)> =\\n    order::Entity::find()\\n        .find_also_related(lineitem::Entity)\\n        .and_also_related(cake::Entity)\\n        .order_by_asc(order::Column::Id)\\n        .order_by_asc(lineitem::Column::Id)\\n        .all(db)\\n        .await?;\\n```\\n\\n### Insert heterogeneous models\\n\\n[#2433](https://github.com/SeaQL/sea-orm/pull/2433)\\nInsert many now allows active models to have different column sets (it previously panics). Missing columns will be filled with `NULL`. This makes seeding data (e.g. [with Loco](https://loco.rs/docs/the-app/models/#seeding)) a seamless operation.\\n\\n```rust\\nlet apple = cake_filling::ActiveModel {\\n    cake_id: ActiveValue::set(2),\\n    filling_id: ActiveValue::NotSet,\\n};\\nlet orange = cake_filling::ActiveModel {\\n    cake_id: ActiveValue::NotSet,\\n    filling_id: ActiveValue::set(3),\\n};\\nassert_eq!(\\n    Insert::<cake_filling::ActiveModel>::new()\\n        .add_many([apple, orange])\\n        .build(DbBackend::Postgres)\\n        .to_string(),\\n    r#\\"INSERT INTO \\"cake_filling\\" (\\"cake_id\\", \\"filling_id\\") VALUES (2, NULL), (NULL, 3)\\"#,\\n);\\n```\\n\\n### Improved Seaography Integration\\n\\n[#2403](https://github.com/SeaQL/sea-orm/pull/2403)\\nWe\'ve simplified the code by allowing you to register entities into Seaography\'s GraphQL schema directly within the entity module.\\n\\n```rust\\npub mod prelude;\\n\\npub mod sea_orm_active_enums;\\n\\npub mod baker;\\npub mod bakery;\\npub mod cake;\\npub mod cakes_bakers;\\n\\nseaography::register_entity_modules!([\\n    baker,\\n    bakery,\\n    cake,\\n    cakes_bakers,\\n]);\\n\\nseaography::register_active_enums!([\\n    sea_orm_active_enums::Tea,\\n]);\\n```\\n\\n## Enhancements\\n\\n* Added [`Insert::exec_with_returning_keys`](https://docs.rs/sea-orm/latest/sea_orm/query/struct.Insert.html#method.exec_with_returning_keys) & [`Insert::exec_with_returning_many`](https://docs.rs/sea-orm/latest/sea_orm/query/struct.Insert.html#method.exec_with_returning_many) (Postgres only)\\n```rust\\nassert_eq!(\\n    Entity::insert_many([\\n        ActiveModel { id: NotSet, name: Set(\\"two\\".into()) },\\n        ActiveModel { id: NotSet, name: Set(\\"three\\".into()) },\\n    ])\\n    .exec_with_returning_many(db)\\n    .await\\n    .unwrap(),\\n    [\\n        Model { id: 2, name: \\"two\\".into() },\\n        Model { id: 3, name: \\"three\\".into() },\\n    ]\\n);\\n\\nassert_eq!(\\n    cakes_bakers::Entity::insert_many([\\n        cakes_bakers::ActiveModel {\\n            cake_id: Set(1),\\n            baker_id: Set(2),\\n        },\\n        cakes_bakers::ActiveModel {\\n            cake_id: Set(2),\\n            baker_id: Set(1),\\n        },\\n    ])\\n    .exec_with_returning_keys(db)\\n    .await\\n    .unwrap(),\\n    [(1, 2), (2, 1)]\\n);\\n```\\n* Added `DeleteOne::exec_with_returning` & `DeleteMany::exec_with_returning` [#2432](https://github.com/SeaQL/sea-orm/pull/2432)\\n* Support complex type path in `DeriveIntoActiveModel` [#2517](https://github.com/SeaQL/sea-orm/pull/2517)\\n```rust \\n#[derive(DeriveIntoActiveModel)]\\n#[sea_orm(active_model = \\"<fruit::Entity as EntityTrait>::ActiveModel\\")]\\nstruct Fruit {\\n    cake_id: Option<Option<i32>>,\\n}\\n```\\n* Added `DatabaseConnection::close_by_ref` [#2511](https://github.com/SeaQL/sea-orm/pull/2511)\\n```rust\\npub async fn close(self) -> Result<(), DbErr> { .. } // existing\\npub async fn close_by_ref(&self) -> Result<(), DbErr> { .. } // new\\n```\\n* Added `Schema::json_schema_from_entity` to construct schema metadata for Entities\\n```rust\\nassert_eq!(\\n    Schema::new(DbBackend::MySql).json_schema_from_entity(lunch_set::Entity),\\n    json! {\\n        \\"columns\\": [\\n            {\\n                \\"name\\": \\"id\\",\\n                \\"nullable\\": false,\\n                \\"type\\": \\"integer\\"\\n            },\\n            {\\n                \\"name\\": \\"name\\",\\n                \\"nullable\\": false,\\n                \\"type\\": \\"string\\"\\n            },\\n            {\\n                \\"name\\": \\"tea\\",\\n                \\"nullable\\": false,\\n                \\"type\\": {\\n                    \\"name\\": \\"tea\\",\\n                    \\"variants\\": [\\n                        \\"EverydayTea\\",\\n                        \\"BreakfastTea\\"\\n                    ]\\n                }\\n            }\\n        ],\\n        \\"primary_key\\": [\\n            \\"id\\"\\n        ]\\n    }\\n);\\n```\\n* Construct `DatabaseConnection` directly from `sqlx::PgPool`, `sqlx::SqlitePool` and `sqlx::MySqlPool` [#2348](https://github.com/SeaQL/sea-orm/pull/2348)\\n```rust\\n// these are implemented:\\nimpl From<MySqlPool> for SqlxMySqlPoolConnection { .. }\\nimpl From<MySqlPool> for DatabaseConnection { .. }\\n\\n// so this is now possible:\\nlet db: DatabaseConnection = mysql_pool.into();\\n```\\n* Expose underlying row types (e.g. `sqlx::postgres::PgRow`) [#2265](https://github.com/SeaQL/sea-orm/pull/2265)\\n* [sea-orm-migration] Allow modifying the connection in migrations [#2397](https://github.com/SeaQL/sea-orm/pull/2397)\\n```rust\\n#[async_std::main]\\nasync fn main() {\\n    cli::run_cli_with_connection(migration::Migrator, |connect_options| async {\\n        let db = Database::connect(connect_options).await?;\\n        if db.get_database_backend() == DatabaseBackend::Sqlite {\\n            register_sqlite_functions(&db).await;\\n        }\\n        Ok(db)\\n    }).await;\\n}\\n```\\n* [sea-orm-cli] Added `MIGRATION_DIR` environment variable [#2419](https://github.com/SeaQL/sea-orm/pull/2419)\\n* [sea-orm-cli] Added `acquire-timeout` option [#2461](https://github.com/SeaQL/sea-orm/pull/2461)\\n* [sea-orm-cli] Added `impl-active-model-behavior` option [#2487](https://github.com/SeaQL/sea-orm/pull/2487)\\n* [sea-orm-cli] Added `with-prelude` option [#2322](https://github.com/SeaQL/sea-orm/pull/2322)\\n    * `all`: the default value (current behaviour), will generate prelude.rs and add it to mod.rs / lib.rs\\n    * `all-allow-unused-imports`: will generate prelude.rs and add it to mod.rs, plus adding `#![allow(unused_imports)]` in the module\\n    * `none`: **will not** generate prelude.rs\\n\\n## Upgrades\\n\\n* Upgrade `sqlx` to `0.8` [#2305](https://github.com/SeaQL/sea-orm/pull/2305)  [#2371](https://github.com/SeaQL/sea-orm/pull/2371)\\n* Upgrade `bigdecimal` to `0.4` [#2305](https://github.com/SeaQL/sea-orm/pull/2305)\\n* Upgrade `sea-query` to `0.32.0` [#2305](https://github.com/SeaQL/sea-orm/pull/2305)\\n* Upgrade `sea-query-binder` to `0.7` [#2305](https://github.com/SeaQL/sea-orm/pull/2305)\\n* Upgrade `sea-schema` to `0.16` [#2305](https://github.com/SeaQL/sea-orm/pull/2305)\\n* Upgrade `ouroboros` to `0.18` [#2353](https://github.com/SeaQL/sea-orm/pull/2353)\\n\\n## House Keeping\\n\\n* Cleanup legacy `ActiveValue::Set` [#2515](https://github.com/SeaQL/sea-orm/pull/2515)\\n* Remove `futures` crate, replace with `futures-util` [#2466](https://github.com/SeaQL/sea-orm/pull/2466)\\n\\n## Release Planning\\n\\n[SeaORM 1.0](https://www.sea-ql.org/blog/2024-08-04-sea-orm-1.0/) is a stable release. As demonstrated, we are able to ship many new features without breaking the API. The 1.x version will be updated until at least October 2025, and we\'ll decide whether to release a 2.0 version or extend the 1.x life cycle.\\n\\n## SQL Server Support\\n\\nWe\'ve been beta-testing [SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) for a while. If you are building software for your company, please [request early access](https://forms.office.com/r/1MuRPJmYBR).\\n\\n## Sponsor\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [GitHub sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/numeusxyz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/82152211?s=200&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Numeus\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/caido-community\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/168573261?s=200&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Caido\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--m\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n<br />\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mjkoo\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30420?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Maxwell Koo\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/spencewenski\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/3319370?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Spencer Ferris\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Naoki Ikeguchi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/data-intuitive\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?s=200&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Data Intuitive\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marlon Mueller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    MasakiMiyazaki\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    KallyDev\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/gnuphie\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/50941?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    gnuphie\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n### Wait... there\'s one more thing\\n\\n\\"Are we web yet?\\" is a recurring question in the Rust community, the answer is *yes*, yes, YES!\\n\\nIf you are looking for a batteries-included full-stack web development framework that is strongly-typed, asynchronous, robust and high-performance, look no further than **Rust + Loco + SeaQL**. We highly recommend giving [Loco](https://loco.rs/) a try - \\"It\u2019s Like Ruby on Rails, but for Rust.\\"\\n\\nWith this final piece of software, my vision for a complete full-stack Rust environment is now realized. After years of development in SeaORM + Seaography, I am excited to introduce it to you:\\n\\n## \ud83d\udda5\ufe0f SeaORM Pro: Professional Admin Panel\\n\\n<img style={{borderRadius: \\"25px\\"}} src=\\"https://www.sea-ql.org/sea-orm-pro/img/01_banner.png#light\\" />\\n<img style={{borderRadius: \\"25px\\"}} src=\\"https://www.sea-ql.org/sea-orm-pro/img/01_banner_dark.png#dark\\" />\\n\\n[SeaORM Pro](https://www.sea-ql.org/sea-orm-pro/) is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!\\n\\nFeatures:\\n\\n+ Full CRUD\\n+ Built on React + GraphQL\\n+ Built-in GraphQL resolver\\n+ Customize the UI with simple TOML\\n\\nLearn More\\n\\n+ [Example Repo](https://github.com/SeaQL/sea-orm-pro)\\n+ [Getting Started with Loco](https://www.sea-ql.org/sea-orm-pro/docs/install-and-config/getting-started-loco/)\\n+ [Getting Started with Axum](https://www.sea-ql.org/sea-orm-pro/docs/install-and-config/getting-started-axum/)"},{"id":"2025-01-08-sea-orm-inheritance","metadata":{"permalink":"/preview/pr-154/blog/2025-01-08-sea-orm-inheritance","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-01-08-sea-orm-inheritance.md","source":"@site/blog/2025-01-08-sea-orm-inheritance.md","title":"Tutorial: Modeling Inheritance in SeaORM","description":"Introduction","date":"2025-01-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.47,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2025-01-08-sea-orm-inheritance","title":"Tutorial: Modeling Inheritance in SeaORM","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%201.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 1.1.7","permalink":"/preview/pr-154/blog/2025-03-08-whats-new-in-sea-orm-1.1"},"nextItem":{"title":"SeaQL Community Survey 2024 Results","permalink":"/preview/pr-154/blog/2025-01-02-community-survey-2024"}},"content":"## Introduction\\n\\nThis tutorial walks you through the design and implementation of a REST API endpoint that involves some complex relational queries.\\n\\nThe API looks like this:\\n\\n`POST` `/api/v1/complex-products`\\n\\nParameters (JSON body):\\n\\n| Field | Type | Description |\\n|-----|-----|-----|\\n| `id` | `int[]` | Get products with these ids |\\n| `name` | `string` | Search products with name matching this |\\n| `type` | `enum` of `ProductType` | Limit products to this type |\\n\\nReturn example:\\n\\n```json\\n{\\n    \\"id\\": 1,\\n    \\"name\\": \\"Mountain Bike V2\\",\\n    \\"type\\": \\"Bike\\",\\n    \\"price\\": \\"2500.0\\",\\n    \\"lot_size\\": \\"1.0\\",\\n    \\"date_added\\": \\"2020-01-01T00:00:00\\",\\n    \\"last_modified\\": \\"2025-01-02T12:18:54\\",\\n    \\"history\\": [\\n        {\\n            \\"from\\": \\"2020-01-01T00:00:00\\",\\n            \\"until\\": \\"2022-01-01T00:00:00\\",\\n            \\"name\\": \\"Mountain Bike V1\\"\\n        }\\n    ]\\n}\\n```\\n\\n## Schema\\n\\nImagine we run a store with many types of products. Each product type has its own attributes and we want to factor out the common product attributes to a base class.\\n\\nIn OOP terms:\\n\\n```rust\\nstruct BaseProduct {\\n    r#type: ProductType,\\n    ..\\n}\\n\\n// made up syntax, but it means inheritance\\nstruct ComplexProduct: BaseProduct { .. }\\n\\nenum ProductType { .. }\\n```\\n\\nIn SQL terms, we have 3 entities and 2 relations among them:\\n\\n+ `BaseProduct` -> `ComplexProduct`\\n+ `BaseProduct` -> `ProductType`\\n\\nBelow are the SeaORM Entities:\\n\\n#### `BaseProduct`\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\\n#[sea_orm(table_name = \\"base_product\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i64,\\n    #[sea_orm(unique)]\\n    pub name: String,\\n    pub type_id: i32, // linking to product_type\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(has_one = \\"super::complex_product::Entity\\")]\\n    ComplexProduct,\\n    #[sea_orm(has_many = \\"super::product_history::Entity\\")]\\n    ProductHistory,\\n    #[sea_orm(\\n        belongs_to = \\"super::product_type::Entity\\",\\n        from = \\"Column::TypeId\\",\\n        to = \\"super::product_type::Column::Id\\",\\n        on_update = \\"NoAction\\",\\n        on_delete = \\"NoAction\\"\\n    )]\\n    ProductType,\\n}\\n```\\n\\n#### `ComplexProduct`\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\\n#[sea_orm(table_name = \\"complex_product\\")]\\npub struct Model {\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub product_id: i64, // linking to base_product\\n    #[sea_orm(column_type = \\"Decimal(Some((30, 15)))\\", nullable)]\\n    pub price: Option<Decimal>,\\n    #[sea_orm(column_type = \\"Decimal(Some((30, 15)))\\", nullable)]\\n    pub lot_size: Option<Decimal>,\\n    pub date_added: DateTime,\\n    pub last_modified: DateTime,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"super::base_product::Entity\\",\\n        from = \\"Column::ProductId\\",\\n        to = \\"super::base_product::Column::Id\\",\\n        on_update = \\"NoAction\\",\\n        on_delete = \\"Cascade\\"\\n    )]\\n    BaseProduct,\\n}\\n```\\n\\n#### `ProductType`\\n\\nBasically an \'enum table\'.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\\n#[sea_orm(table_name = \\"product_type\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    #[sea_orm(unique)]\\n    pub name: String,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(has_many = \\"super::base_product::Entity\\")]\\n    BaseProduct,\\n}\\n```\\n\\n## 1. Define result data structure\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, FromQueryResult, Serialize)]\\npub struct ComplexProduct {\\n    pub id: i64,\\n    pub name: String,\\n    pub r#type: String,\\n    pub price: Decimal,\\n    pub lot_size: Decimal,\\n    pub date_added: DateTime,\\n    pub last_modified: DateTime,\\n    #[sea_orm(skip)]\\n    pub history: Vec<product_history::Model>,\\n}\\n```\\n\\nWith `Serialize`, you can transform the select result into JSON directly.\\n\\n## 2. Define helper aliases\\n\\n```rust\\n#[derive(DeriveIden, Clone, Copy)]\\npub struct Id;\\n\\n#[derive(DeriveIden, Clone, Copy)]\\npub struct Name;\\n\\n#[derive(DeriveIden, Clone, Copy)]\\npub struct Base;\\n\\nuse complex_product::Entity as Prod;\\npub type ProdCol = <Prod as EntityTrait>::Column;\\ntype ProdRel = <Prod as EntityTrait>::Relation;\\n```\\n\\nThis would make our code much more concise and readable.\\n\\nAvoid using `Alias::new` because it\'s error-prone and slightly more expensive.\\n\\n## 3. Custom selects\\n\\n```rust\\nfn query() -> Select<complex_product::Entity> {\\n    complex_product::Entity::find()\\n        .select_only()\\n        .tbl_col_as((Base, Id), \\"id\\")\\n        .tbl_col_as((Base, Name), \\"name\\")\\n        .column_as(product_type::Column::Name, \\"type\\")\\n        .column_as(ProdCol::Price, \\"price\\")\\n        .column_as(ProdCol::LotSize, \\"lot_size\\")\\n        .column_as(ProdCol::DateAdded, \\"date_added\\")\\n        .column_as(ProdCol::LastModified, \\"last_modified\\")\\n        .join_as(JoinType::InnerJoin, ProdRel::BaseProduct.def(), Base)\\n        .join(JoinType::InnerJoin, base_product::Relation::ProductType.def().from_alias(Base))\\n        .order_by_asc(Expr::col((Base, Id)))\\n}\\n```\\n\\nOur query starts from `ComplexProduct`. We join back to `BaseProduct`, alias it as `Base`. We then join to `ProductType` via `Base`:\\n\\n```\\nComplexProduct -> BaseProduct as Base -> ProductType\\n```\\n\\n[`column_as`](https://docs.rs/sea-orm/latest/sea_orm/query/trait.QuerySelect.html#method.column_as) automatically prefix the column with the table name.\\n[`from_alias`](https://docs.rs/sea-orm/latest/sea_orm/entity/struct.RelationDef.html#method.from_alias) is doing the magic here, allowing us to reuse the existing Relation by overwriting the left hand side of the on condition.\\n\\nYou can use the [`join`](https://docs.rs/sea-orm/latest/sea_orm/query/trait.QuerySelect.html#method.join) method to construct complex joins in select queries. It takes any [`RelationDef`](https://docs.rs/sea-orm/latest/sea_orm/entity/struct.RelationDef.html), and you can further customize the join conditions. You can find more examples [here](https://www.sea-ql.org/SeaORM/docs/advanced-query/advanced-joins/#custom-join-conditions).\\n\\n## 4. Filter Conditions\\n\\nLet\'s define struct for query parameters. Again, using serde here so it can be deserialized from JSON.\\n\\n```rust\\n#[derive(Default, Deserialize)]\\npub struct Query {\\n    #[serde(default)]\\n    pub id: Vec<i64>, // if unspecified, will be an empty vec\\n    pub name: Option<String>,\\n    pub r#type: Option<String>,\\n}\\n```\\n\\nThen, we transform the parameters into SQL where conditions:\\n\\n```rust\\nfn condition(query: Query) -> Condition {\\n    Condition::all()\\n        .add_option(if !query.id.is_empty() {\\n            Some(Expr::col((Base, Id)).is_in(query.id))\\n        } else { None })\\n        .add_option(if let Some(name) = &query.name {\\n            Some(Expr::col((Base, Name)).like(name))\\n        } else { None })\\n        .add_option(if let Some(r#type) = &query.r#type {\\n            Some(product_type::Column::Name.eq(r#type))\\n        } else { None })\\n}\\n```\\n\\nBonus tip: if you\'re only using Postgres you can replace `is_in` with `any`:\\n\\n```rust\\nuse sea_orm::sea_query::extension::postgres::PgFunc;\\n\\nExpr::col((Base, Id)).eq(PgFunc::any(query.id)) // WHERE base.id = ANY($N)\\n```\\n\\nCombining the above functions, here is how we implement the API endpoint:\\n\\n```rust\\npub async fn query_products(db: DbConn, q: Query)\\n    -> Result<Vec<ComplexProduct>, DbErr>\\n{\\n    query()\\n        .filter(condition(q))\\n        .into_model::<ComplexProduct>()\\n        .all(&db)\\n        .await\\n}\\n```\\n\\n## 5. Associated models\\n\\nSuppose we have a data structure associated with each `BaseProduct` recording its history.\\n\\n#### `ProductHistory`\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize)]\\n#[sea_orm(table_name = \\"product_history\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    #[serde(skip)]\\n    pub id: i32,\\n    #[serde(skip)]\\n    pub product_id: i64,\\n    pub from: DateTime,\\n    pub until: DateTime,\\n    pub name: Option<String>,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"super::base_product::Entity\\",\\n        from = \\"Column::ProductId\\",\\n        to = \\"super::base_product::Column::Id\\",\\n        on_update = \\"NoAction\\",\\n        on_delete = \\"Cascade\\"\\n    )]\\n    BaseProduct,\\n}\\n```\\n\\nLet\'s make a helper function to query the histories associated to a set of products:\\n\\n```rust\\nfn history_of(ids: Vec<i64>) -> Select<product_history::Entity> {\\n    product_history::Entity::find()\\n        .filter(Expr::col(product_history::Column::ProductId).is_in(ids))\\n        .order_by_asc(product_history::Column::Id)\\n}\\n\\nlet histories = history_of(products.iter().map(|s| s.id).collect::<Vec<_>>())\\n    .all(&db)\\n    .await?;\\n```\\n\\nThe final step is to associate `product_history::Model` to `ComplexProduct`:\\n\\n```rust\\n// parent should be unique and already ordered by id.\\nfn associate(\\n    mut parent: Vec<ComplexProduct>,\\n    children: Vec<product_history::Model>,\\n) -> Vec<ComplexProduct> {\\n    let len = parent.len();\\n    parent.dedup_by_key(|s| s.id);\\n    if len != parent.len() {\\n        warn!(\\"parent is not unique.\\");\\n    }\\n\\n    let parent_id_map: HashMap<i64, usize> = parent\\n        .iter()\\n        .enumerate()\\n        .map(|(i, s)| (s.id, i))\\n        .collect();\\n\\n    // put children into associated parent\\n    for item in children {\\n        if let Some(index) = parent_id_map.get(&item.product_id) {\\n            parent[*index].history.push(item);\\n        }\\n    }\\n\\n    parent\\n}\\n\\nlet products = associate(products, histories);\\n```\\n\\nThis is sometimes called \\"data loader\\" pattern, and can be generalized with generics to work with any models.\\n\\n## Conclusion\\n\\nSeaORM\'s type system encourages you to write modular and reusable code, embracing the \\"Don\'t repeat yourself\\" principle.\\n\\nYou define the Entities and Relations once.\\n\\nYou define the aliases and query helpers once.\\n\\nYou can pass the [`Select<T>`](https://docs.rs/sea-orm/latest/sea_orm/query/struct.Select.html) and [`Condition`](https://docs.rs/sea-orm/latest/sea_orm/query/struct.Condition.html) around.\\n\\nYou then assemble these pieces together to implement any complex API!\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2025-01-02-community-survey-2024","metadata":{"permalink":"/preview/pr-154/blog/2025-01-02-community-survey-2024","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-01-02-community-survey-2024.mdx","source":"@site/blog/2025-01-02-community-survey-2024.mdx","title":"SeaQL Community Survey 2024 Results","description":"695 members of the SeaQL community from 47 countries kindly contributed their thoughts on using SeaQL libraries, learning Rust and employing Rust in their day to day development lives. From these responses we hope to get an understanding of where the SeaQL and Rust community stands in 2024.","date":"2025-01-02T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.33,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL Team","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4","key":null,"page":null}],"frontMatter":{"slug":"2025-01-02-community-survey-2024","title":"SeaQL Community Survey 2024 Results","author":"Billy Chan","author_title":"SeaQL Team","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","tags":["news"],"toc_max_heading_level":2},"unlisted":false,"prevItem":{"title":"Tutorial: Modeling Inheritance in SeaORM","permalink":"/preview/pr-154/blog/2025-01-08-sea-orm-inheritance"},"nextItem":{"title":"What\'s new in SeaQuery 0.32.x","permalink":"/preview/pr-154/blog/2024-12-03-whats-new-in-seaquery-0.32.x"}},"content":"import * as Chart from \'../src/chart-2024.js\';\\n\\n695 members of the SeaQL community from 47 countries kindly contributed their thoughts on using SeaQL libraries, learning Rust and employing Rust in their day to day development lives. From these responses we hope to get an understanding of where the SeaQL and Rust community stands in 2024.\\n\\nThis is our first community survey, we will conduct the survey annually to keep track of how the community evolves over time.\\n\\n## Developer Profile\\n\\n### Q. Where are you located in?\\n\\nParticipants are from 47 countries across the world!\\n\\n<Chart.country>\\n    Other: <Chart.badges items={[\\n        \\"Armenia\\",\\n        \\"Azerbaijan\\",\\n        \\"Bangladesh\\",\\n        \\"Cambodia\\",\\n        \\"Colombia \\",\\n        \\"Croatia\\",\\n        \\"Czech Republic\\",\\n        \\"Denmark\\",\\n        \\"Egypt\\",\\n        \\"Finland\\",\\n        \\"Guatemala\\",\\n        \\"Israel\\",\\n        \\"Italy\\",\\n        \\"Kazakhstan\\",\\n        \\"Kenya\\",\\n        \\"Nepal\\",\\n        \\"Romania\\",\\n        \\"Saudi Arabia\\",\\n        \\"Slovakia\\",\\n        \\"Slovenia\\",\\n        \\"South Africa\\",\\n        \\"Spain\\",\\n        \\"Sweden\\",\\n        \\"Syria\\",\\n        \\"Turkey\\",\\n    ]} />\\n</Chart.country>\\n\\n### Q. Including any education, how many years have you been coding in total?\\n\\n<Chart.codingYears />\\n\\n### Q. Which of the following describes your current job, the one you do most of the time?\\n\\n<Chart.jobTitle>\\n    Other: <Chart.badges items={[\\n        \\"Academic researcher\\",\\n        \\"Marketing or sales professional\\",\\n        \\"Engineer, data\\",\\n        \\"Data or business analyst\\",\\n        \\"Solution Architect\\",\\n        \\"Developer, QA or test\\",\\n        \\"Designer\\",\\n        \\"Developer, game or graphics\\",\\n        \\"Hobbyist Developer\\",\\n        \\"Educator\\",\\n    ]} />\\n</Chart.jobTitle>\\n\\n## Using SeaQL Libraries in Building a Project\\n\\n### Q. Roughly how long have you been using SeaQL libraries?\\n\\n<Chart.seaqlYears />\\n\\n### Q. Which SeaQL libraries are you using?\\n\\n<Chart.seaqlLibs />\\n\\n### Q. Are you using SeaQL libraries in a personal, academic or professional context?\\n\\n<Chart.seaqlLibContext />\\n\\n### Q. How many team members (including you) are working on the project?\\n\\n<Chart.numTeamMembers />\\n\\n### Q. Can you categorize the nature of the project?\\n\\n<Chart.projNature>\\n    Other: <Chart.badges items={[\\n        \\"Backend for a Web 3.0 Application\\",\\n        \\"IoT Application\\",\\n        \\"Backend System\\",\\n        \\"A Document Generator\\",\\n        \\"Mobile Project\\",\\n        \\"SaaS\\",\\n        \\"Database for a Cybersecurity Software\\",\\n        \\"API\\",\\n        \\"\u5b66\u4e60\u9879\u76ee\\",\\n        \\"Backend for a Multiplatform Application (Using Tauri)\\",\\n        \\"Frontend + Backend Work\\",\\n    ]} />\\n</Chart.projNature>\\n\\n### Q. What is your development environment?\\n\\n<Chart.devEnv />\\n\\n### Linux Breakdown\\n\\n<Chart.devEnvLinux />\\n\\n### Windows Breakdown\\n\\n<Chart.devEnvWindows />\\n\\n### macOS Breakdown\\n\\n<Chart.devEnvMac />\\n\\n### Q. Which database(s) do you use?\\n\\n<Chart.databases>\\n    Other: <Chart.badges items={[\\n        \\"SurrealDB\\",\\n        \\"EdgeDB\\",\\n        \\"MariaDB\\",\\n        \\"MariaDB Galera Cluster\\",\\n        \\"MongoDB\\",\\n        \\"libSQL\\",\\n        \\"MSSQL\\",\\n        \\"TImescale\\",\\n        \\"Yugabyte\\",\\n        \\"Oracle Database\\",\\n    ]} />\\n</Chart.databases>\\n\\n### Q. Which web framework are you using?\\n\\n<Chart.webFrameworks>\\n    Other: <Chart.badges items={[\\n        \\"SolidJS\\",\\n        \\"Tauri\\",\\n        \\"Tonic\\",\\n        \\"trillium\\",\\n        \\"Vue\\",\\n        \\"Warp\\",\\n    ]} />\\n</Chart.webFrameworks>\\n\\n### Q. What is the deployment environment?\\n\\n<Chart.deploymentEnv>\\n    Other: <Chart.badges items={[\\n        \\"DigitalOcean App Platform\\",\\n        \\"DogYun\\",\\n        \\"Fly.io\\",\\n        \\"Oracle Cloud\\",\\n    ]} />\\n</Chart.deploymentEnv>\\n\\n## Using Rust at Work\\n\\n### Q. Are you using Rust at work?\\n\\n<Chart.usingRustForWork />\\n\\n### Q. Which industry your company is in?\\n\\n<Chart.industry>\\n    Other: <Chart.badges items={[\\n        \\"Space Situational Awareness\\",\\n        \\"Security\\",\\n        \\"Ads\\",\\n        \\"Betting\\",\\n        \\"Construction\\",\\n        \\"Automotive\\",\\n        \\"Last Mile Logistics\\",\\n        \\"IoT\\",\\n    ]} />\\n</Chart.industry>\\n\\n### Q. How many engineers in your company are dedicated to writing Rust?\\n\\n<Chart.numEngineers />\\n\\n### Q. What is the size of your company?\\n\\n<Chart.companySize />\\n\\n### Q. Which layer(s) of the technology stack are using Rust?\\n\\n<Chart.techStack>\\n    Other: <Chart.badges items={[\\n        \\"Embedded\\",\\n        \\"Hardware Drivers\\",\\n    ]} />\\n</Chart.techStack>\\n\\n### Q. Would your company be interested in using SeaQL libraries with other databases?\\n\\n<Chart.otherDatabases />\\n\\n## Learning Rust\\n\\n### Q. Are you learning / new to Rust?\\n\\n<Chart.learningRust />\\n\\n### Q. Which language(s) are you most familiar with?\\n\\n<Chart.familiarLang>\\n    Other: <Chart.badges items={[\\n        \\"Erlang\\",\\n        \\"Cobol\\",\\n        \\"Lua\\",\\n        \\"Perl\\",\\n        \\"RPG\\",\\n        \\"Assembly\\",\\n    ]} />\\n</Chart.familiarLang>\\n\\n### Q. Do you find Rust easy or hard to learn?\\n\\n<Chart.rustDifficulty />\\n\\n### Q. What motivates you to learn Rust?\\n\\n<Chart.rustMotivation>\\n    Other: <Chart.badges items={[\\n        \\"School makes me to learn\\",\\n        \\"Better option to learn than C/C++\\",\\n        \\"it\'s fantastic\\",\\n        \\"Stability of ecosystem, security, speed\\",\\n        \\"The ease of writing clean code\\",\\n    ]} />\\n</Chart.rustMotivation>\\n\\n### Q. What learning resources do you rely on?\\n\\n<Chart.learningResources />\\n\\n### Q. What is your first project built using Rust?\\n\\n<Chart.firstRustProj />\\n\\n### Q. Are you familiar with SQL?\\n\\n<Chart.familiarSql />\\n\\n## About SeaQL Libraries\\n\\n### Q. Why did you choose SeaQL libraries?\\n\\n<Chart.whySeaql>\\n    Other: <Chart.badges items={[\\n        \\"sea-orm-cli codegen\\",\\n        \\"Ergonomic API\\",\\n        \\"Word of mouth\\",\\n    ]} />\\n</Chart.whySeaql>\\n\\n### Q. Which aspects do you want to see advancement on SeaORM?\\n\\n<Chart.whatAdvancement>\\n    Other: <Chart.badges items={[\\n        \\"Better macros for less boilerplate code\\",\\n        \\"Automatic migration\\",\\n        \\"Schema diffing for migrations\\",\\n    ]} />\\n</Chart.whatAdvancement>\\n\\n### Q. What tools would you be interested in using, if developed first-party by SeaQL?\\n\\n<Chart.whatTool />\\n\\n## Share Your Thoughts\\n\\n### Q. Anything else you want to say?\\n\\nDidn\'t expect this section to turn into a testimonial, thank you for all the kind words :)\\n\\n> Love your toolchain, it\'s awesome to work with!\\n\\n> Wonderful library! To provide some additional feedback: I found myself missing documentation in certain parts of the API, leading to me having to guess what the method actually does for a given database backend (namely in relation to query builders).\\n\\n> Schema/migration management would be really nice. I have used Django in the past and loved the automatic migration file generation.\\n\\n> SeaORM is great - it just replaces existing asp.net entity framework projects at our company.\\n\\n## \ud83e\udd80 Rustacean Sticker Pack\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-12-03-whats-new-in-seaquery-0.32.x","metadata":{"permalink":"/preview/pr-154/blog/2024-12-03-whats-new-in-seaquery-0.32.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-12-03-whats-new-in-seaquery-0.32.x.md","source":"@site/blog/2024-12-03-whats-new-in-seaquery-0.32.x.md","title":"What\'s new in SeaQuery 0.32.x","description":"\ud83c\udf89 We are pleased to release SeaQuery 0.32.0 / 0.32.1! Here are some feature highlights \ud83c\udf1f:","date":"2024-12-03T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.6,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2024-12-03-whats-new-in-seaquery-0.32.x","title":"What\'s new in SeaQuery 0.32.x","author":"SeaQL Team","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaQL Community Survey 2024 Results","permalink":"/preview/pr-154/blog/2025-01-02-community-survey-2024"},"nextItem":{"title":"What\'s new in SeaStreamer 0.5","permalink":"/preview/pr-154/blog/2024-11-30-whats-new-in-sea-streamer-0.5"}},"content":"\ud83c\udf89 We are pleased to release SeaQuery [`0.32.0`](https://github.com/SeaQL/sea-query/releases/tag/0.32.0) / [`0.32.1`](https://github.com/SeaQL/sea-query/releases/tag/0.32.1)! Here are some feature highlights \ud83c\udf1f:\\n\\n## New Features\\n\\n### Unify `Expr` and `SimpleExpr` Methods with `ExprTrait` [#791](https://github.com/SeaQL/sea-query/pull/791)\\n\\nPreviously, \\"operator\\" methods (e.g. `add`, `eq`) are duplicated across `Expr` and `SimpleExpr`, but the list of methods is slightly different for each. And since `Expr` and `SimpleExpr` are distinct types, it makes writing generic code difficult.\\n\\nThe [`ExprTrait`](https://docs.rs/sea-query/0.32.1/sea_query/expr/trait.ExprTrait.html) looks like this:\\n\\n```rust\\npub trait ExprTrait: Sized {\\n    // Required methods\\n    fn as_enum<N>(self, type_name: N) -> SimpleExpr\\n        where N: IntoIden;\\n    fn binary<O, R>(self, op: O, right: R) -> SimpleExpr\\n        where O: Into<BinOper>,\\n    R: Into<SimpleExpr>;\\n    fn cast_as<N>(self, type_name: N) -> SimpleExpr\\n        where N: IntoIden;\\n    fn unary(self, o: UnOper) -> SimpleExpr;\\n\\n    // Provided methods\\n    fn add<R>(self, right: R) -> SimpleExpr where R: Into<SimpleExpr> { ... }\\n    fn and<R>(self, right: R) -> SimpleExpr where R: Into<SimpleExpr> { ... }\\n    fn between<A, B>(self, a: A, b: B) -> SimpleExpr\\n        where A: Into<SimpleExpr>,\\n              B: Into<SimpleExpr> { ... }\\n    fn div<R>(self, right: R) -> SimpleExpr where R: Into<SimpleExpr> { ... }\\n    fn eq<R>(self, right: R) -> SimpleExpr where R: Into<SimpleExpr> { ... }\\n    fn equals<C>(self, col: C) -> SimpleExpr where C: IntoColumnRef { ... }\\n\\n    // omitting the where clause below to make it more concise ..\\n\\n    fn gt<R>(self, right: R) -> SimpleExpr;\\n    fn gte<R>(self, right: R) -> SimpleExpr;\\n    fn in_subquery(self, sel: SelectStatement) -> SimpleExpr;\\n    fn in_tuples<V, I>(self, v: I) -> SimpleExpr;\\n    fn is<R>(self, right: R) -> SimpleExpr;\\n    fn is_in<V, I>(self, v: I) -> SimpleExpr;\\n    fn is_not<R>(self, right: R) -> SimpleExpr;\\n    fn is_not_in<V, I>(self, v: I) -> SimpleExpr;\\n    fn is_not_null(self) -> SimpleExpr;\\n    fn is_null(self) -> SimpleExpr;\\n    fn left_shift<R>(self, right: R) -> SimpleExpr;\\n    fn like<L>(self, like: L) -> SimpleExpr;\\n    fn lt<R>(self, right: R) -> SimpleExpr;\\n    fn lte<R>(self, right: R) -> SimpleExpr;\\n    fn modulo<R>(self, right: R) -> SimpleExpr;\\n    fn mul<R>(self, right: R) -> SimpleExpr;\\n    fn ne<R>(self, right: R) -> SimpleExpr;\\n    fn not(self) -> SimpleExpr;\\n    fn not_between<A, B>(self, a: A, b: B) -> SimpleExpr;\\n    fn not_equals<C>(self, col: C) -> SimpleExpr;\\n    fn not_in_subquery(self, sel: SelectStatement) -> SimpleExpr;\\n    fn not_like<L>(self, like: L) -> SimpleExpr;\\n    fn or<R>(self, right: R) -> SimpleExpr;\\n    fn right_shift<R>(self, right: R) -> SimpleExpr;\\n    fn sub<R>(self, right: R) -> SimpleExpr;\\n    fn bit_and<R>(self, right: R) -> SimpleExpr;\\n    fn bit_or<R>(self, right: R) -> SimpleExpr;\\n}\\n```\\n\\n* Added `ExprTrait` to unify `Expr` and `SimpleExpr` methods\\n* Added `impl<T> ExprTrait for T where T: Into<SimpleExpr>` to maintain backwards compatibility for all `Into<SimpleExpr>` types, such as `Value` and `FunctionCall`\\n* Added `trait PgExpr: ExprTrait`: database specific expression for Postgres and `impl PgExpr` for `FunctionCall`, `ColumnRef`, `Keyword`, `LikeExpr`, `Value`\\n* Added `trait SqliteExpr: ExprTrait`: database specific expression for SQLite and `impl SqliteExpr` for `FunctionCall`, `ColumnRef`, `Keyword`, `LikeExpr`, `Value`\\n\\n### Support of Postgres Vector [#774](https://github.com/SeaQL/sea-query/pull/774)\\n\\n* Construct Postgres query with vector extension\\n* Added `postgres-vector` feature flag\\n* Added [`Value::Vector`](https://docs.rs/sea-query/0.32.1/sea_query/value/enum.Value.html#variant.Vector), [`ColumnType::Vector`](https://docs.rs/sea-query/0.32.1/sea_query/table/enum.ColumnType.html#variant.Vector), [`ColumnDef::vector()`](https://docs.rs/sea-query/0.32.1/sea_query/table/struct.ColumnDef.html#method.vector), `PgBinOper::EuclideanDistance`, `PgBinOper::NegativeInnerProduct` and `PgBinOper::CosineDistance`\\n\\nExample:\\n\\n```rust\\nassert_eq!(\\n    Query::select()\\n        .columns([Char::Character])\\n        .from(Char::Table)\\n        .and_where(\\n            Expr::col(Char::Character).eq(Expr::val(pgvector::Vector::from(vec![1.0, 2.0])))\\n        )\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"SELECT \\"character\\" FROM \\"character\\" WHERE \\"character\\" = \'[1,2]\'\\"#\\n);\\n```\\n\\n### Support Partial Index [#478](https://github.com/SeaQL/sea-query/pull/478)\\n\\n* Support partial index `CREATE INDEX .. WHERE ..`\\n\\nExample (Postgres):\\n\\n```rust\\nassert_eq!(\\n    Index::create()\\n        .unique()\\n        .nulls_not_distinct()\\n        .name(\\"partial-index-glyph-image-not-null\\")\\n        .table(Glyph::Table)\\n        .col(Glyph::Image)\\n        .and_where(Expr::col(Glyph::Image).is_not_null())\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"CREATE UNIQUE INDEX \\"partial-index-glyph-image-not-null\\" ON \\"glyph\\" (\\"image\\") NULLS NOT DISTINCT WHERE \\"image\\" IS NOT NULL\\"#\\n);\\n```\\n\\nExample (Sqlite):\\n\\n```rust\\nassert_eq!(\\n    Index::create()\\n        .if_not_exists()\\n        .unique()\\n        .name(\\"partial-index-glyph-image-not-null\\")\\n        .table(Glyph::Table)\\n        .col(Glyph::Image)\\n        .and_where(Expr::col(Glyph::Image).is_not_null())\\n        .to_string(SqliteQueryBuilder),\\n    r#\\"CREATE UNIQUE INDEX IF NOT EXISTS \\"partial-index-glyph-image-not-null\\" ON \\"glyph\\" (\\"image\\") WHERE \\"image\\" IS NOT NULL\\"#\\n);\\n```\\n\\n### Get Null Value\\n\\nThis one may seem a little bummer, but it is type system problem. In order to support the Postgres protocol, SeaQuery\'s `Value` enum does not have a `Null` variant. This new [`Value::as_null`](https://docs.rs/sea-query/0.32.1/sea_query/value/enum.Value.html#method.as_null) method allows you to:\\n\\n1. construct a typed null value\\n2. nullify a value\\n3. define generic functions (`impl Into<Value>`)\\n\\n```rust\\nlet v = Value::Int(Some(2));\\nlet n = v.as_null();\\n\\nassert_eq!(n, Value::Int(None));\\n\\n// one liner:\\nassert_eq!(Into::<Value>::into(2.2).as_null(), Value::Double(None));\\n```\\n\\n### Bitwise AND/OR Operators [#841](https://github.com/SeaQL/sea-query/pull/841)\\n\\n* Added bitwise and/or operators ([`bit_and`](https://docs.rs/sea-query/0.32.1/sea_query/expr/trait.ExprTrait.html#method.bit_and), [`bit_or`](https://docs.rs/sea-query/0.32.1/sea_query/expr/trait.ExprTrait.html#method.bit_or))\\n\\nExamples:\\n\\n```rust\\nlet query = Query::select()\\n    .expr(1.bit_and(2).eq(3))\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT (1 & 2) = 3\\"#\\n);\\n```\\n\\n```rust\\nlet query = Query::select()\\n    .expr(1.bit_or(2).eq(3))\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT (1 | 2) = 3\\"#\\n);\\n```\\n\\n## Enhancements\\n\\n* [#817](https://github.com/SeaQL/sea-query/pull/817) Replaced `Educe` with manual implementations\\n    * This is an effort to cut down compilation time\\n* [#844](https://github.com/SeaQL/sea-query/pull/844) Added `GREATEST` & `LEAST` function\\n* [#836](https://github.com/SeaQL/sea-query/pull/836) Added `ValueType::enum_type_name()`\\n* [#835](https://github.com/SeaQL/sea-query/pull/835) Removed \\"one common table\\" restriction on recursive CTE\\n\\n### `sea-query-derive`\\n\\nWe\'ve finally done it! Removing the last bit of `syn` v1 from our dependency tree:\\n\\n```\\nsea-query % cargo tree |grep \'syn \'\\n\u2502   \u2514\u2500\u2500 syn v2.0.39\\n    \u2502   \u2502   \u2514\u2500\u2500 syn v2.0.39 (*)\\n    \u2502       \u2514\u2500\u2500 syn v2.0.39 (*)\\n    \u251c\u2500\u2500 syn v2.0.39 (*)\\n            \u2514\u2500\u2500 syn v2.0.39 (*)\\n\u2502   \u2502   \u2514\u2500\u2500 syn v2.0.39 (*)\\n```\\n\\n* Merged `#[enum_def]` into `sea-query-derive`\\n* [#769](https://github.com/SeaQL/sea-query/pull/769) `#[enum_def]` now impl additional `IdenStatic` and `AsRef<str>`\\n\\n### `sea-query-attr`\\n\\nWe\'ve merged this crate into `sea-query-derive`, and they will be maintained together from now on.\\n\\n* Updated `syn`, `heck` and `darling`\\n* `sea-query-attr` is now deprecated\\n\\n## Upgrades\\n\\n* [#798](https://github.com/SeaQL/sea-query/pull/798) Upgraded `sqlx` to `0.8`\\n* [#798](https://github.com/SeaQL/sea-query/pull/798) Upgraded `bigdecimal` to `0.4`\\n* [#802](https://github.com/SeaQL/sea-query/pull/802) Upgraded `rusqlite` to `0.32`\\n\\n## Integration Examples\\n\\nSeaQuery plays well with the other crates in the rust ecosystem. \\n\\n- [Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\n- [Rusqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\n- [SQLx MySql Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\n- [SQLx Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\n- [SQLx Sqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\n\\n## Community\\n\\nSeaQL.org is an independent open-source organization run by passionate \ufe0fdevelopers. If you like our projects, please star \u2b50 and share our repositories. If you feel generous, a small donation via [GitHub Sponsor](https://github.com/sponsors/SeaQL) will be greatly appreciated, and goes a long way towards sustaining the organization \ud83d\udea2.\\n\\nSeaQuery is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future \ud83e\udd80.\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-11-30-whats-new-in-sea-streamer-0.5","metadata":{"permalink":"/preview/pr-154/blog/2024-11-30-whats-new-in-sea-streamer-0.5","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-11-30-whats-new-in-sea-streamer-0.5.md","source":"@site/blog/2024-11-30-whats-new-in-sea-streamer-0.5.md","title":"What\'s new in SeaStreamer 0.5","description":"\ud83c\udf89 We are pleased to release SeaStreamer 0.5.x!","date":"2024-11-30T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.83,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-11-30-whats-new-in-sea-streamer-0.5","title":"What\'s new in SeaStreamer 0.5","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaQuery 0.32.x","permalink":"/preview/pr-154/blog/2024-12-03-whats-new-in-seaquery-0.32.x"},"nextItem":{"title":"GraphQL based Admin Dashboard with Loco and Seaography","permalink":"/preview/pr-154/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography"}},"content":"<a href=\\"https://www.sea-ql.org/SeaStreamer/\\"><img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" /></a>\\n\\n\ud83c\udf89 We are pleased to release SeaStreamer [`0.5.x`](https://github.com/SeaQL/sea-streamer/releases/tag/0.5.2)!\\n\\nHere is the summary of new features and enhancements:\\n\\n## `sea-streamer-types`\\n\\n* Added `From<Url>` and `FromIterator<Url>` for `StreamerUri` [#28](https://github.com/SeaQL/sea-streamer/pull/28)\\n* Impl `Default` for `Payload`\\n* Impl serde `Serialize` & `Deserialize` for `StreamKey` (enabled by the feature flag `serde`), so this is now possible:\\n```rust\\n#[derive(Serialize, Deserialize)]\\nstruct MyStruct {\\n    stream_key: StreamKey,\\n}\\n```\\n\\n## `sea-streamer-socket`\\n\\n* The Socket library can now be compiled without the `stdio` backend [#35](https://github.com/SeaQL/sea-streamer/pull/35)\\n\\n## `sea-streamer-redis`\\n\\n* Support nanosecond timestamp in Redis (under feature flag `nanosecond-timestamp`).\\n    Redis\'s default Stream ID resolution is millisecond, and it can be changed to nanosecond with [`RedisConnectOptions::set_timestamp_format`](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisConnectOptions.html#method.set_timestamp_format):\\n    ```rust\\n    let mut options = RedisConnectOptions::default();\\n    options.set_timestamp_format(TimestampFormat::UnixTimestampNanos);\\n    ```\\n* Added [`RedisConnectOptions::set_message_field`](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisConnectOptions.html#method.set_message_field) to set custom message field (the default used to be `msg`):\\n    ```rust\\n    let mut options = RedisConnectOptions::default();\\n    options.set_message_field(\\"event\\");\\n    ```\\n* Added [`RedisProducer::send_with_ts`](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisProducer.html#method.send_with_ts) to specify custom timestamp:\\n    ```rust\\n    producer.send_with_ts(&stream_key, timestamp, message)?;\\n    ```\\n* Added [`RedisProducer::flush_immut`](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisProducer.html#method.flush_immut). This method is same as [`RedisProducer::flush`](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisProducer.html#method.flush) but without `&mut self`\\n* Added [`RedisProducer::trim`](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisProducer.html#method.trim) to perform `XTRIM MAXLEN`:\\n    ```rust\\n    producer.trim(&stream_key, maxlen).await?;\\n    ```\\n* Fixed `capacity overflow` error in some cases\\n\\n## `sea-streamer-file`\\n\\n* Added a special `SEA_STREAMER_WILDCARD` stream key to subscribe to all streams in a file:\\n    ```rust\\n    let consumer: SeaConsumer = streamer\\n        .create_consumer(&[StreamKey::new(SEA_STREAMER_WILDCARD)?], options)\\n        .await?;\\n    ```\\n\\n## `sea-streamer-fuse`\\n\\nWe\'ve shipped the first component library for stream processing! It currently only has one class, [`StreamJoin`](https://docs.rs/sea-streamer-fuse/latest/sea_streamer_fuse/struct.StreamJoin.html).\\n\\nIt is designed to be used in stream replay. In live streaming, if you have multiple streams from different sources and you want to multiplex them together, you can use the awesome [`futures_concurrency`](https://docs.rs/futures-concurrency) crate\'s [`Merge`](https://docs.rs/futures-concurrency/latest/futures_concurrency/stream/trait.Merge.html), and it just works!\\n\\n```rust\\nuse futures_concurrency::{stream::Merge, vec::Merge as Merged};\\n\\nlet consumers: Vec<SeaConsumer> = vec![stream_a, stream_b];\\nlet streams: Vec<SeaMessageStream<\'a>> = consumers.iter_mut().map(|ss| ss.stream()).collect();\\nlet merged: Merged<SeaMessageStream<\'a>> = streams.merge();\\n```\\n\\n`stream_a` and `stream_b` can be heterogeneous, meaning they can be Kafka, Redis or even File.\\n\\nHow about in replay? In replay, different streams can flow at different pace, and thus if we try to naively merge them, the messages would come out-of-order.\\n\\nTo solve this problem, you can use [`StreamJoin::muxed`](https://docs.rs/sea-streamer-fuse/latest/sea_streamer_fuse/struct.StreamJoin.html#method.muxed):\\n\\n```rust\\ntype LiveStream<\'a> = Merged<SeaMessageStream<\'a>>;\\nlet joined: StreamJoin<LiveStream<\'a>, SeaMessage<\'a>, StreamErr<BackendErr>> = StreamJoin::muxed(merged);\\n```\\n\\n[`StreamJoin::align`](https://docs.rs/sea-streamer-fuse/latest/sea_streamer_fuse/struct.StreamJoin.html#method.align) must be called manually to specify which streams should be aligned. Otherwise, messages will be out of order until the first message of each key arrives. Imagine a severely delayed stream sending its first message one day later; it would invalidate everything that came before it. However, the issue lies with the delayed stream itself, not the others.\\n\\nIn the example below, messages from the fast stream will be buffered, until a message from the slow stream arrives.\\n\\n```\\nfast | (1) (2) (3) (4) (5)\\nslow |         (2)         (6)\\n```\\n\\nMessages `1`, `2` from fast will be buffered, until `2` from the slow stream arrives. Likewise, messages `3`, `4`, `5` will be buffered until 6 arrives.\\n\\nThe `StreamJoin` component is generic, and can actually be used outside of SeaStreamer, the only requirement is that the thing we want to align implements [`sea_streamer::Message`](https://docs.rs/sea-streamer-types/latest/sea_streamer_types/trait.Message.html):\\n\\n```rust\\nimpl Message for MyMessage {\\n    fn stream_key(&self) -> StreamKey { /* implement this */ }\\n\\n    fn timestamp(&self) -> Timestamp { /* implement this */ }\\n\\n    fn shard_id(&self) -> ShardId { /* doesn\'t matter */ }\\n\\n    fn sequence(&self) -> SeqNo { /* doesn\'t matter */ }\\n\\n    fn message(&self) -> Payload { /* doesn\'t matter */ }\\n}\\n```\\n\\n## Anecdote\\n\\nOver the past year, we\'ve been using SeaStreamer heavily in production and it served us well!\\n\\nSeaStreamer File is really handy, because it supports live streaming and also duals as an archive, in which it can be rotated and uploaded to the data lake every day. It has replaced our use of Redis in some same-host mpmc streaming scenario.\\n\\nRedis Streams is also super nice (fast and reliable) and especially easy with SeaStreamer. IMO it\'s been underrated, it became our default choice for cross-host streaming.\\n\\nBy the way, SeaStreamer File is used as the tracing file format in [FireDBG](https://firedbg.sea-ql.org/).\\n\\n## Community\\n\\nSeaQL.org is an independent open-source organization run by passionate \ufe0fdevelopers. If you like our projects, please star \u2b50 and share our repositories. If you feel generous, a small donation via [GitHub Sponsor](https://github.com/sponsors/SeaQL) will be greatly appreciated, and goes a long way towards sustaining the organization \ud83d\udea2.\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-08-08-graphql-admin-dashboard-with-loco-seaography","metadata":{"permalink":"/preview/pr-154/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography.md","source":"@site/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography.md","title":"GraphQL based Admin Dashboard with Loco and Seaography","description":"In this tutorial, we would develop a GraphQL based admin dashboard with Seaography and Loco.","date":"2024-08-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.56,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL Team","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-08-08-graphql-admin-dashboard-with-loco-seaography","title":"GraphQL based Admin Dashboard with Loco and Seaography","author":"Billy Chan","author_title":"SeaQL Team","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","image":"https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaStreamer 0.5","permalink":"/preview/pr-154/blog/2024-11-30-whats-new-in-sea-streamer-0.5"},"nextItem":{"title":"Announcing SeaORM 1.0 \ud83d\udc1a","permalink":"/preview/pr-154/blog/2024-08-04-sea-orm-1.0"}},"content":"<img src=\\"/blog/img/Loco%20x%20SeaORM.png\\" />\\n\\nIn this tutorial, we would develop a GraphQL based admin dashboard with [Seaography](https://github.com/SeaQL/seaography) and Loco.\\n\\nRead our first and second tutorial of the series, [Getting Started with Loco & SeaORM](https://www.sea-ql.org/blog/2024-05-28-getting-started-with-loco-seaorm/), [Adding GraphQL Support to Loco with Seaography](https://www.sea-ql.org/blog/2024-07-01-graphql-support-with-loco-seaography/), if you haven\'t.\\n\\nThe full source code can be found [here](https://github.com/SeaQL/sea-orm/tree/1.0.x/examples/react_admin).\\n\\n## What is Seaography\\n\\nSeaography is a GraphQL framework for building GraphQL resolvers using SeaORM entities. It ships with a CLI tool that can generate ready-to-compile Rust GraphQL servers from existing MySQL, Postgres and SQLite databases.\\n\\n## Setup React-Admin Frontend Boilerplate\\n\\nWe use [`React-Admin`](https://marmelab.com/react-admin/) as the frontend framework. It provides a convenient boilerplate to start with:\\n\\n```sh\\n$ npm init react-admin frontend\\n\\nSelect the data provider you want to use, and validate with Enter:\\n\u276f None\\n  I\'ll configure the data provider myself.\\n\\nSelect the auth provider you want to use, and validate with Enter:\\n\u276f Hard coded local username/password\\n\\nEnter the name of a resource you want to add, and validate with Enter (leave empty to finish):\\n\u276f (Leave empty and press Enter)\\n\\nHow do you want to install the dependencies?\\n\u276f Using npm\\n```\\n\\nRun the boilerplate then visit [http://localhost:5173/](http://localhost:5173/), you should see the welcome page:\\n\\n```sh\\n$ cd frontend\\n\\n$ npm install\\n\\n$ npm run dev\\n\\n> dev\\n> vite\\n\\n  VITE v4.5.3  ready in 440 ms\\n\\n  \u279c  Local:   http://localhost:5173/\\n```\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard Demo Welcome.png>)\\n\\nNow, we want to display the `React-Admin` data table template with mock data. First, we need to add `ra-data-json-server` dependency, it provides a ready-to-go mock data loader:\\n\\n```sh\\n$ npm install ra-data-json-server\\n```\\n\\nTo prepare the mock data loader, we create a new file:\\n\\n```ts title=\\"frontend/src/dataProvider.ts\\"\\nimport jsonServerProvider from \'ra-data-json-server\';\\n\\nexport const dataProvider = jsonServerProvider(\'https://jsonplaceholder.typicode.com\');\\n```\\n\\nThen, we change the UI file:\\n\\n```diff title=\\"frontend/src/index.tsx\\"\\n+ import { Admin, Resource, ListGuesser, ShowGuesser } from \'react-admin\';\\n+ import { dataProvider } from \'./dataProvider\';\\n\\nReactDOM.createRoot(document.getElementById(\'root\')!).render(\\n-   <React.StrictMode>\\n-       <App />\\n-   </React.StrictMode>\\n+   <Admin dataProvider={dataProvider}>\\n+       <Resource name=\\"users\\" list={ListGuesser} show={ShowGuesser} />\\n+   </Admin>\\n);\\n```\\n\\nRun the boilerplate now you should see the user listing page:\\n\\n```sh\\n$ npm run dev\\n```\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard Demo List.png>)\\n\\nClick on each row to view its detail page.\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard Demo View.png>)\\n\\n## Add NPM dependency\\n\\nNext, we start to integrate our Loco and Seaography backend with React-Admin frontend. We use `axios` for sending POST request to our GraphQL backend:\\n\\n```sh\\n$ npm install axios\\n```\\n\\n## GraphQL Data Provider\\n\\nThen, we can start implementing the GraphQL data provider by replacing the content of `dataProvider.ts`:\\n\\n```diff title=\\"frontend/src/dataProvider.ts\\"\\n- import jsonServerProvider from \'ra-data-json-server\';\\n- \\n- export const dataProvider = jsonServerProvider(\'https://jsonplaceholder.typicode.com\');\\n```\\n\\nIntegrating with our GraphQL endpoint at [http://localhost:3000/api/graphql](http://localhost:3000/api/graphql). We implemented two handler below, one fetch data for the post listing and the other to fetch data for a single post:\\n\\n```ts title=\\"frontend/src/dataProvider.ts\\"\\nimport { DataProvider } from \\"react-admin\\";\\nimport axios from \'axios\';\\n\\nconst apiUrl = \'http://localhost:3000/api/graphql\';\\n\\nexport const dataProvider: DataProvider = {\\n    // Fetch data for post listing\\n    getList: (resource, params) => {\\n        // Paginator status\\n        const { page, perPage } = params.pagination;\\n        // Sorter status\\n        const { field, order } = params.sort;\\n\\n        // POST request to GraphQL endpoint\\n        return axios.post(apiUrl, {\\n            query: `\\n            query {\\n              notes (\\n                orderBy: { ${field}: ${order} },\\n                pagination: { page: { limit: ${perPage}, page: ${page - 1} }}\\n              ) {\\n                nodes {\\n                  id\\n                  title\\n                  createdAt\\n                  updatedAt\\n                }\\n                paginationInfo {\\n                  pages\\n                  current\\n                  offset\\n                  total\\n                }\\n              }\\n            }\\n            `\\n        })\\n            .then((response) => {\\n                // Unwrap the response\\n                const { nodes, paginationInfo } = response.data.data.notes;\\n                // Return the data array and total number of pages\\n                return {\\n                    data: nodes,\\n                    total: paginationInfo.total,\\n                };\\n            });\\n    },\\n\\n    // Fetch data for a single post\\n    getOne: (resource, params) => {\\n        // POST request to GraphQL endpoint\\n        return axios.post(apiUrl, {\\n            query: `\\n            query {\\n              notes(filters: {id: {eq: ${params.id}}}) {\\n                nodes {\\n                  id\\n                  title\\n                  content\\n                  createdAt\\n                  updatedAt\\n                }\\n              }\\n            }\\n            `\\n        })\\n            .then((response) => {\\n                // Unwrap the response\\n                const { nodes } = response.data.data.notes;\\n                // Return the one and only data\\n                return {\\n                    data: nodes[0],\\n                };\\n            });\\n    },\\n\\n    getMany: (resource, params) => { },\\n\\n    getManyReference: (resource, params) => { },\\n\\n    update: (resource, params) => { },\\n\\n    updateMany: (resource, params) => { },\\n\\n    create: (resource, params) => { },\\n\\n    delete: (resource, params) => { },\\n\\n    deleteMany: (resource, params) => { },\\n};\\n```\\n\\n## Customize React-Admin Frontend\\n\\nReplace the React-Admin template frontend with our own custom UI to list all notes from the database.\\n\\n```diff title=\\"frontend/src/index.tsx\\"\\n- ReactDOM.createRoot(document.getElementById(\'root\')!).render(\\n-    <Admin dataProvider={dataProvider}>\\n-        <Resource name=\\"users\\" list={ListGuesser} show={ShowGuesser} />\\n-    </Admin>\\n- );\\n```\\n\\nImplement the list and details page with specific columns:\\n\\n```tsx title=\\"frontend/src/index.tsx\\"\\nimport ReactDOM from \'react-dom/client\';\\nimport { Admin, Resource, List, Datagrid, TextField, Show, SimpleShowLayout } from \'react-admin\';\\nimport { dataProvider } from \'./dataProvider\';\\n\\nconst PostList = () => (\\n    <List>\\n        <Datagrid bulkActionButtons={false}>\\n            <TextField source=\\"id\\" />\\n            <TextField source=\\"title\\" />\\n            <TextField source=\\"content\\" />\\n            <TextField source=\\"createdAt\\" />\\n            <TextField source=\\"updatedAt\\" />\\n        </Datagrid>\\n    </List>\\n);\\n\\nconst PostShow = () => (\\n    <Show>\\n        <SimpleShowLayout>\\n            <TextField source=\\"id\\" />\\n            <TextField source=\\"title\\" />\\n            <TextField source=\\"content\\" />\\n            <TextField source=\\"createdAt\\" />\\n            <TextField source=\\"updatedAt\\" />\\n        </SimpleShowLayout>\\n    </Show>\\n);\\n\\nReactDOM.createRoot(document.getElementById(\'root\')!).render(\\n    <Admin dataProvider={dataProvider}>\\n        <Resource name=\\"posts\\" list={PostList} show={PostShow} />\\n    </Admin>\\n);\\n```\\n\\n## Auth Free GraphQL Endpoint\\n\\nDisabled user authentication on GraphQL POST handler endpoint for convenient:\\n\\n```diff title=\\"backend/src/controllers/graphql.rs\\"\\nasync fn graphql_handler(\\n-   _auth: auth::JWT,\\n    State(ctx): State<AppContext>,\\n    req: Request<Body>,\\n) -> Result<Response> {\\n    const DEPTH: usize = 1_000;\\n    const COMPLEXITY: usize = 1_000;\\n    // Construct the the GraphQL query root\\n    let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();\\n    // GraphQL handler\\n    let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);\\n    // Execute GraphQL request and fetch the results\\n    let res = graphql_handler.call(req).await.unwrap();\\n\\n    Ok(res)\\n}\\n```\\n\\n## Put It into Action!\\n\\nRun the React-Admin frontend:\\n\\n```sh\\n$ cd frontend\\n$ npm run dev\\n```\\n\\nRun the Loco backend:\\n\\n```sh\\n$ cd backend\\n$ cargo run start\\n```\\n\\nVisit [http://localhost:5173/](http://localhost:5173/), you should see the post listing page:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard List.png>)\\n\\nWe are fetching data from the GraphQL backend:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard List API.png>)\\n\\nClick on column header to sort by the column in ascending or descending order:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard List Sorted.png>)\\n\\nClick on each row to view its detail page:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography Dashboard View.png>)\\n\\n## Conclusion\\n\\nAdding GraphQL support to Loco application is easy with the help of Seaography. It is an ergonomic library that perfectly integrate with any frontend framework. This tutorial only cover the basic integration of LOco and Seaography including only the querying of data via the GraphQL endpoint. GraphQL mutations are not demonstrated and we leave it for you to code it out!\\n\\n## SQL Server Support\\n\\n[SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) is now available as a closed beta. If you are interested`, please signup [here](https://forms.office.com/r/1MuRPJmYBR).\\n\\nMigrating from `sea-orm` to `sea-orm-x` is straightforward with two simple steps. First, update the existing `sea-orm` dependency to `sea-orm-x` and enable the `sqlz-mssql` feature. Note that you might need to patch SeaORM dependency for the upstream dependencies.\\n\\n```toml title=\\"Cargo.toml\\"\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\", features = [\\"runtime-async-std-rustls\\", \\"sqlz-mssql\\"] }\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\n\\n# Patch SeaORM dependency for the upstream dependencies\\n[patch.crates-io]\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\" }\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\n```\\n\\nSecond, update the connection string to connect to the MSSQL database.\\n\\n```sh\\n# If the schema is `dbo`, simply write:\\nmssql://username:password@host/database\\n\\n# Or, specify the schema name by providing an extra `currentSchema` query param.\\nmssql://username:password@host/database?currentSchema=my_schema\\n\\n# You can trust peer certificate by providing an extra trustCertificate query param.\\nmssql://username:password@host/database?trustCertificate=true\\n```\\n\\nSeaORM X has full Loco support and integrate seamlessly with many web frameworks:\\n\\n+ Actix\\n+ Axum\\n+ Async GraphQL\\n+ jsonrpsee\\n+ Loco\\n+ Poem\\n+ Salvo\\n+ Tonic\\n\\nHappy Coding!"},{"id":"2024-08-04-sea-orm-1.0","metadata":{"permalink":"/preview/pr-154/blog/2024-08-04-sea-orm-1.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-08-04-sea-orm-1.0.md","source":"@site/blog/2024-08-04-sea-orm-1.0.md","title":"Announcing SeaORM 1.0 \ud83d\udc1a","description":"\ud83c\udf89 We are pleased to release SeaORM 1.0 today! This is an special occasion for us, so this blog post will be a little more than a release notes.","date":"2024-08-04T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":11.83,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2024-08-04-sea-orm-1.0","title":"Announcing SeaORM 1.0 \ud83d\udc1a","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%201.0%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"GraphQL based Admin Dashboard with Loco and Seaography","permalink":"/preview/pr-154/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography"},"nextItem":{"title":"Adding GraphQL Support to Loco with Seaography","permalink":"/preview/pr-154/blog/2024-07-01-graphql-support-with-loco-seaography"}},"content":"<img alt=\\"SeaORM 1.0 Banner\\" src=\\"/blog/img/SeaORM%201.0%20Banner.png\\"/>\\n\\n\ud83c\udf89 We are pleased to release [SeaORM 1.0](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0) today! This is an special occasion for us, so this blog post will be a little more than a release notes.\\n\\n## Our Journey\\n\\nIt\'s nearly been three years since our [SeaORM 0.2](https://www.sea-ql.org/blog/2021-09-20-introducing-sea-orm/) release. At that time, we set out to build a SQL ORM for the async Rust ecosystem, bringing together the best crates to allow developers to build high-performance and robust web services. \\n\\nWe would like to thank all early-adoptors, contributors and sponsors of SeaORM. Thank you to all our users for your trust and for being a part of our journey.\\n\\nToday, many startups and companies are building applications in Rust, with SeaORM being an integral part of the stack. We are particularly pleased to see application frameworks, such as [Loco](https://loco.rs/), that provide tight integration with SeaORM, thereby offering a streamlined developer experience.\\n\\nI think we\'ve achieved our initial goal! We understand that maturity and stability are important considerations for teams when making technology choices. Therefore, we believe it\'s now time to stabilize SeaORM.\\n\\n## New Features\\n\\nHere are the highlights of some new features and enhancements introduced in SeaORM 1.0.\\n\\n### Refreshed migration schema definition\\n\\n[#2099](https://github.com/SeaQL/sea-orm/pull/2099) Thanks to the clever design made by Loco, we\'ve refreshed the schema definition syntax.\\n\\nAn old migration script looks like this:\\n\\n```rust\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .create_table(\\n                Table::create()\\n                    .table(Users::Table)\\n                    .if_not_exists()\\n                    .col(\\n                        ColumnDef::new(Users::Id)\\n                            .integer()\\n                            .not_null()\\n                            .auto_increment()\\n                            .primary_key(),\\n                    )\\n                    .col(ColumnDef::new(Users::Pid).uuid().not_null())\\n                    .col(ColumnDef::new(Users::Email).string().not_null().unique_key())\\n                    // ...\\n    }\\n}\\n```\\n\\nNow, using the new schema helpers, you can define the schema with a simplified syntax!\\n\\n```rust\\n// Remember to import `sea_orm_migration::schema::*`\\nuse sea_orm_migration::{prelude::*, schema::*};\\n\\n#[derive(DeriveMigrationName)]\\npub struct Migration;\\n\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .create_table(\\n                Table::create()\\n                    .table(Users::Table)\\n                    .if_not_exists()\\n                    .col(pk_auto(Users::Id)) // Primary key with auto-increment\\n                    .col(uuid(Users::Pid)) // UUID column\\n                    .col(string_uniq(Users::Email)) // String column with unique and not null constraint\\n                    .col(string(Users::Password)) // String column\\n                    .col(string(Users::ApiKey).unique_key())\\n                    .col(string(Users::Name))\\n                    .col(string_null(Users::ResetToken)) // Nullable string column\\n                    .col(timestamp_null(Users::ResetSentAt)) // Nullable timestamp column\\n                    .col(string_null(Users::EmailVerificationToken))\\n                    .col(timestamp_null(Users::EmailVerificationSentAt))\\n                    .col(timestamp_null(Users::EmailVerifiedAt))\\n                    .to_owned(),\\n            )\\n            .await\\n    }\\n\\n    // ...\\n}\\n```\\n\\nThere are three variants for each commonly used column type:\\n\\n- `<COLUMN_TYPE>()` helper function, e.g. `string()`, define a non-null string column\\n- `<COLUMN_TYPE>_null()` helper function, e.g. `string_null()`, define a nullable string column\\n- `<COLUMN_TYPE>_uniq()` helper function, e.g. `string_uniq()`, define a non-null and unique string column\\n\\nThe new schema helpers can be used by importing `sea_orm_migration::schema::*`. The migration library is fully backward compatible, so there is no rush to migrate old scripts. The new syntax is recommended for new scripts, and all examples in the SeaORM repository have been updated for demonstration. For advanced use cases, the old SeaQuery syntax can still be used.\\n\\n### Reworked SQLite Type Mappings\\n\\n[sea-orm#2077](https://github.com/SeaQL/sea-orm/pull/2077) [sea-query#735](https://github.com/SeaQL/sea-query/pull/735) [sea-schema#117](https://github.com/SeaQL/sea-schema/pull/117) We\'ve reworked the type mappings for SQLite across the SeaQL ecosystem, such that SeaQuery and SeaSchema are now reciprocal to each other. Migrations written with SeaQuery can be rediscovered by `sea-orm-cli` and generate compatible entities! In other words, the roundtrip is complete.\\n\\nData types will be mapped to SQLite types with a custom naming scheme following SQLite\'s affinity rule:\\n\\n* `INTEGER`: `integer`, `tiny_integer`, `small_integer`, `big_integer` and `boolean` are stored as `integer`\\n* `REAL`: `float`, `double`, `decimal` and `money` are stored as `real`\\n* `BLOB`: `blob` and `varbinary_blob` are stored as `blob`\\n* `TEXT`: all other data types are stored as `text`, including `string`, `char`, `text`, `json`, `uuid`, `date`, `time`, `datetime`, `timestamp`, etc.\\n\\nThe full type mapping table is [documented here](https://docs.rs/sea-query/0.31.0-rc.4/sea_query/table/enum.ColumnType.html). For more information, please refer to our [previous blog post](https://www.sea-ql.org/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x/).\\n\\n### Alternative casing support for `EntityModel` & `ActiveEnum`\\n\\n[#2170](https://github.com/SeaQL/sea-orm/pull/2170) Added `rename_all` attribute to `DeriveEntityModel` & `DeriveActiveEnum`\\n\\n```rust\\n#[derive(DeriveEntityModel)]\\n#[sea_orm(table_name = \\"user\\", rename_all = \\"camelCase\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    id: i32,\\n    first_name: String, // firstName\\n    #[sea_orm(column_name = \\"lAsTnAmE\\")]\\n    last_name: String, // lAsTnAmE\\n}\\n\\n#[derive(EnumIter, DeriveActiveEnum)]\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"String(StringLen::None)\\", rename_all = \\"camelCase\\")]\\npub enum TestEnum {\\n    DefaultVariant, // defaultVariant\\n    #[sea_orm(rename = \\"kebab-case\\")]\\n    VariantKebabCase, // variant-kebab-case\\n    #[sea_orm(rename = \\"snake_case\\")]\\n    VariantSnakeCase, // variant_snake_case\\n    #[sea_orm(string_value = \\"CuStOmStRiNgVaLuE\\")]\\n    CustomStringValue, // CuStOmStRiNgVaLuE\\n}\\n```\\n\\n### Other Enhancements\\n\\n* [#2185](https://github.com/SeaQL/sea-orm/pull/2185) `PrimaryKeyArity` trait with `ARITY` Constant\\n\\n```rust\\nfn get_arity_of<E: EntityTrait>() -> usize {\\n    E::PrimaryKey::iter().count() // before; runtime\\n    <<E::PrimaryKey as PrimaryKeyTrait>::ValueType as PrimaryKeyArity>::ARITY // now; compile-time\\n}\\n```\\n\\n* [#2137](https://github.com/SeaQL/sea-orm/pull/2137) `DerivePartialModel` macro attribute `entity` now supports `syn::Type`\\n```rust\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"<entity::Model as ModelTrait>::Entity\\")]\\nstruct EntityNameNotAIdent {\\n    #[sea_orm(from_col = \\"foo2\\")]\\n    _foo: i32,\\n    #[sea_orm(from_col = \\"bar2\\")]\\n    _bar: String,\\n}\\n```\\n\\n* [#2146](https://github.com/SeaQL/sea-orm/pull/2146) Added `RelationDef::from_alias()`\\n```rust\\n#[derive(DeriveIden)]\\npub struct Cf;\\n\\nassert_eq!(\\n    cake::Entity::find()\\n        .join_as(\\n            JoinType::LeftJoin,\\n            cake_filling::Relation::Cake.def().rev(),\\n            Cf\\n        )\\n        .join(\\n            JoinType::LeftJoin,\\n            cake_filling::Relation::Filling.def().from_alias(Cf)\\n        )\\n        .build(DbBackend::MySql)\\n        .to_string(),\\n    [\\n        \\"SELECT `cake`.`id`, `cake`.`name` FROM `cake`\\",\\n        \\"LEFT JOIN `cake_filling` AS `cf` ON `cake`.`id` = `cf`.`cake_id`\\",\\n        \\"LEFT JOIN `filling` ON `cf`.`filling_id` = `filling`.`id`\\",\\n    ]\\n    .join(\\" \\")\\n);\\n```\\n\\n* [#2256](https://github.com/SeaQL/sea-orm/pull/2256) Added non-TLS runtime\\n* [#2244](https://github.com/SeaQL/sea-orm/pull/2244) Added `Insert::on_conflict_do_nothing`\\n* [#2255](https://github.com/SeaQL/sea-orm/pull/2255) Migration schema nullable column set NULL explicitly\\n* [#2194](https://github.com/SeaQL/sea-orm/pull/2194) Added `ActiveValue::set_if_not_equals()`\\n* [#2197](https://github.com/SeaQL/sea-orm/pull/2197) Added `ActiveValue::try_as_ref()`\\n* [#2228](https://github.com/SeaQL/sea-orm/pull/2228) Added `QuerySelect::order_by_with_nulls`\\n* [#2233](https://github.com/SeaQL/sea-orm/pull/2233) Expose `get_xxx_connection_pool` by default\\n* [#2148](https://github.com/SeaQL/sea-orm/pull/2148) Added `QueryResult::column_names`\\n* [#2199](https://github.com/SeaQL/sea-orm/pull/2199) [sea-orm-macro] Add `@generated` in generated code\\n* [#1665](https://github.com/SeaQL/sea-orm/pull/1665) [sea-orm-macro] Qualify traits in `DeriveActiveModel` macro\\n* [#2064](https://github.com/SeaQL/sea-orm/pull/2064) [sea-orm-cli] Fix `migrate generate` on empty `mod.rs` files\\n\\n## Release Planning\\n\\n[SQLx 0.8](https://github.com/launchbadge/sqlx/blob/main/CHANGELOG.md#080---2024-07-22) is recently released! We want to upgrade from `0.7` as soon as possible. However, since `sea-orm` `1.0` has been in release candidate status for a while, and considering the breaking changes in `sqlx` `0.8`, we decided to keep `sea-orm` `1.0` on `sqlx` `0.7`.\\n\\nWe plan to release `sea-orm` `1.1` on `sqlx` `0.8` soon. To avoid unplanned build failures, we recommend all users to specify SeaORM dependency with `tilde` requirement:\\n\\n```toml\\nsea-orm = { version = \\"~1.0\\" }\\n```\\n\\nAccording to the [Cargo Book](https://doc.rust-lang.org/cargo/reference/resolver.html), this will prevent automatic upgrade to `1.1`, so you can perform the upgrade at a convenient time.\\n\\nIf you\'ve been depending on `sea-orm` `0.12`, you\'re recommended to upgrade to `1.0` today. As they\'re both using `sqlx` `0.7`, this upgrade focuses on SeaORM. And then upgrade to `1.1` down the line, which will then focus on SQLx, as we won\'t introduce any breaking changes. We recommend taking it one step at a time!\\n\\nSeaORM 1.x will be maintained for at least 1 year. By then, we\'ll decide whether we want to release 2.0 and/or extend the lifecycle of 1.x.\\n\\n## Our Future\\n\\nYou may ask, does this mean SeaORM is \\"done\\"? No, not at all! SeaORM 1.0 provides us and the community a solid foundation to build more ambitious features around SeaORM. Here are some facets of our vision:\\n\\n1. GraphQL support via Seaography. We want to further develop Seaography to allow developers to turn a set of SeaORM entities into a fully-fledged GraphQL server!\\n\\n2. Admin dashboard. We want to build a first-class frontend framework for SeaORM. It will be a breeze to develop admin / client portals with SeaORM!\\n\\n3. Data science / analytics. SeaORM\'s been focusing on OLTP for now, and we\'re aware that people also have been using SeaORM for OLAP workloads. We want to provide better integration with dataframe libraries and develop more features tailored for data science and engineering.\\n\\n4. Scale-out features. We want to develop features to help with scaling applications, e.g. sharding, caching and multi-tenancy.\\n\\n## SQL Server Support\\n\\nWe\'ve been planning [SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) for a while, and SQL Server is finally coming to SeaORM 1.0! It will first be offered as a closed beta to our partners. If you are interested, please join our [waiting list](https://forms.office.com/r/1MuRPJmYBR).\\n\\n## Sponsor\\n\\nA small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n### Gold Sponsors\\n\\n<a href=\\"https://osmos.io/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos.svg#light\\" width=\\"238\\" />\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark\\" width=\\"238\\" />\\n</a>\\n\\n[osmos](https://osmos.io/) offers a data ingestion platform to streamline data ingestion, transformation and workflow management, and they\'re using SeaQL libraries under the hood!\\n\\nContact us if you also want to become a company sponsor and be featured here.\\n\\n### GitHub Sponsors\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ktanaka101\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/10344925?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Kentaro Tanaka\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Naoki Ikeguchi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/milesgranger\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/13764397?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Miles Granger\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/data-intuitive\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15045722?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Data Intuitive\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marlon Mueller-Soppart\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/anshap1719\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/19164745?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Anshul Sanghi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    MasakiMiyazaki\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    KallyDev\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ellik159\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46644287?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    ellik159\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/caido\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/78991750?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Caido\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Coolpany-SE\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/96304487?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Coolpany SE\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-07-01-graphql-support-with-loco-seaography","metadata":{"permalink":"/preview/pr-154/blog/2024-07-01-graphql-support-with-loco-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-07-01-graphql-support-with-loco-seaography.md","source":"@site/blog/2024-07-01-graphql-support-with-loco-seaography.md","title":"Adding GraphQL Support to Loco with Seaography","description":"In this tutorial, we would add a GraphQL endpoint with Seaography based on our Loco starter application. Read our first tutorial of the series, Getting Started with Loco & SeaORM, if you haven\'t.","date":"2024-07-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":8.8,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL Team","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-07-01-graphql-support-with-loco-seaography","title":"Adding GraphQL Support to Loco with Seaography","author":"Billy Chan","author_title":"SeaQL Team","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","image":"https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Announcing SeaORM 1.0 \ud83d\udc1a","permalink":"/preview/pr-154/blog/2024-08-04-sea-orm-1.0"},"nextItem":{"title":"Getting Started with Loco & SeaORM","permalink":"/preview/pr-154/blog/2024-05-28-getting-started-with-loco-seaorm"}},"content":"<img src=\\"/blog/img/Loco%20x%20SeaORM.png\\" />\\n\\nIn this tutorial, we would add a GraphQL endpoint with [Seaography](https://github.com/SeaQL/seaography) based on our Loco starter application. Read our first tutorial of the series, [Getting Started with Loco & SeaORM](https://www.sea-ql.org/blog/2024-05-28-getting-started-with-loco-seaorm/), if you haven\'t.\\n\\nThe full source code can be found [here](https://github.com/SeaQL/sea-orm/tree/master/examples/loco_seaography).\\n\\n## What is Seaography\\n\\nSeaography is a GraphQL framework for building GraphQL resolvers using SeaORM entities. It ships with a CLI tool that can generate ready-to-compile Rust GraphQL servers from existing MySQL, Postgres and SQLite databases.\\n\\n## Adding Dependency\\n\\nModify `Cargo.toml` and add a few more dependencies: `seaography`, `async-graphql`, `async-graphql-axum` and `lazy_static`.\\n\\n```toml title=\\"loco_seaography/Cargo.toml\\"\\nseaography = { version = \\"1.0.0-rc.4\\", features = [\\"with-decimal\\", \\"with-chrono\\"] }\\nasync-graphql = { version = \\"7.0\\", features = [\\"decimal\\", \\"chrono\\", \\"dataloader\\", \\"dynamic-schema\\"] }\\nasync-graphql-axum = { version = \\"7.0\\" }\\nlazy_static = { version = \\"1.4\\" }\\ntower-service = { version = \\"0.3\\" }\\n```\\n\\n## Setting up SeaORM Entities for Seaography\\n\\nSeaography Entities are basically SeaORM Entities with some additions. They are fully compatible with SeaORM.\\n\\nYou can generate Seaography Entities by using `sea-orm-cli` with the extra `--seaography` flag.\\n\\n```sh\\nsea-orm-cli generate entity -o src/models/_entities -u postgres://loco:loco@localhost:5432/loco_seaography_development --seaography\\n```\\n\\n```rust title=\\"loco_seaography/src/models/_entities/notes.rs\\"\\nuse sea_orm::entity::prelude::*;\\nuse serde::{Serialize, Deserialize};\\n\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]\\n#[sea_orm(table_name = \\"notes\\")]\\npub struct Model {\\n    pub created_at: DateTime,\\n    pub updated_at: DateTime,\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub title: Option<String>,\\n    pub content: Option<String>,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(has_many = \\"super::files::Entity\\")]\\n    Files,\\n}\\n\\nimpl Related<super::files::Entity> for Entity {\\n    fn to() -> RelationDef {\\n        Relation::Files.def()\\n    }\\n}\\n\\n+ // Defining `RelatedEntity` to relate one entity with another\\n+ #[derive(Copy, Clone, Debug, EnumIter, DeriveRelatedEntity)]\\n+ pub enum RelatedEntity {\\n+     #[sea_orm(entity = \\"super::files::Entity\\")]\\n+     Files,\\n+ }\\n```\\n\\nWe can see that a new enum `RelatedEntity` is generated in the Entity files. This helps Seaography to locate the related Entities for making relational queries.\\n\\n## Implementing GraphQL Query Root\\n\\nWe have finished setting up SeaORM entity for Seaography. Now, we implement the query root of Seaography where we bridge SeaORM and Async GraphQL with the help of Seaography.\\n\\n```rust title=\\"loco_seaography/src/graphql/query_root.rs\\"\\nuse async_graphql::dynamic::*;\\nuse sea_orm::DatabaseConnection;\\nuse seaography::{Builder, BuilderContext};\\n\\nuse crate::models::_entities::*;\\n\\nlazy_static::lazy_static! { static ref CONTEXT: BuilderContext = BuilderContext::default(); }\\n\\npub fn schema(\\n    database: DatabaseConnection,\\n    depth: usize,\\n    complexity: usize,\\n) -> Result<Schema, SchemaError> {\\n    // Builder of Seaography query root\\n    let mut builder = Builder::new(&CONTEXT, database.clone());\\n    // Register SeaORM entities\\n    seaography::register_entities!(\\n        builder,\\n        // List all models we want to include in the GraphQL endpoint here\\n        [files, notes, users]\\n    );\\n    // Configure async GraphQL limits\\n    let schema = builder\\n        .schema_builder()\\n        // The depth is the number of nesting levels of the field\\n        .limit_depth(depth)\\n        // The complexity is the number of fields in the query\\n        .limit_complexity(complexity);\\n    // Finish up with including SeaORM database connection\\n    schema.data(database).finish()\\n}\\n```\\n\\n## Writing Loco Controller to Handle GraphQL Endpoint\\n\\nFor convenience we use the built-in GraphQL playground UI in `async-graphql` to test the GraphQL endpoint. And handle the GraphQL request with `async_graphql_axum` and Seaography.\\n\\n```rust title=\\"loco_seaography/src/controllers/graphql.rs\\"\\nuse async_graphql::http::{playground_source, GraphQLPlaygroundConfig};\\nuse axum::{body::Body, extract::Request};\\nuse loco_rs::prelude::*;\\nuse tower_service::Service;\\n\\nuse crate::graphql::query_root;\\n\\n// GraphQL playground UI\\nasync fn graphql_playground() -> Result<Response> {\\n    // The `GraphQLPlaygroundConfig` take one parameter\\n    // which is the URL of the GraphQL handler: `/api/graphql`\\n    let res = playground_source(GraphQLPlaygroundConfig::new(\\"/api/graphql\\"));\\n\\n    Ok(Response::new(res.into()))\\n}\\n\\nasync fn graphql_handler(\\n    State(ctx): State<AppContext>,\\n    req: Request<Body>,\\n) -> Result<Response> {\\n    const DEPTH: usize = 10;\\n    const COMPLEXITY: usize = 100;\\n    // Construct the the GraphQL query root\\n    let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();\\n    // GraphQL handler\\n    let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);\\n    // Execute GraphQL request and fetch the results\\n    let res = graphql_handler.call(req).await.unwrap();\\n\\n    Ok(res)\\n}\\n\\npub fn routes() -> Routes {\\n    // Define route\\n    Routes::new()\\n        // We put all GraphQL route behind `graphql` prefix\\n        .prefix(\\"graphql\\")\\n        // GraphQL playground page is a GET request\\n        .add(\\"/\\", get(graphql_playground))\\n        // GraphQL handler is a POST request\\n        .add(\\"/\\", post(graphql_handler))\\n}\\n```\\n\\n## Opening GraphQL Playground\\n\\nCompile and run the Loco application, then visit [http://localhost:3000/api/graphql](http://localhost:3000/api/graphql).\\n\\n```sh\\n$ cargo run start\\n\\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 0.60s\\n     Running `target/debug/loco_seaography-cli start`\\n2024-06-24T08:04:52.173924Z  INFO app: loco_rs::config: loading environment from selected_path=\\"config/development.yaml\\" environment=development\\n2024-06-24T08:04:52.180447Z  WARN app: loco_rs::boot: pretty backtraces are enabled (this is great for development but has a runtime cost for production. disable with `logger.pretty_backtrace` in your config yaml) environment=development\\n2024-06-24T08:04:52.272392Z  INFO app: loco_rs::db: auto migrating environment=development\\n2024-06-24T08:04:52.275198Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations environment=development\\n2024-06-24T08:04:52.280720Z  INFO app: sea_orm_migration::migrator: No pending migrations environment=development\\n2024-06-24T08:04:52.281280Z  INFO app: loco_rs::boot: initializers loaded initializers=\\"\\" environment=development\\n2024-06-24T08:04:52.308827Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_ping environment=development\\n2024-06-24T08:04:52.308936Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_health environment=development\\n2024-06-24T08:04:52.309021Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes environment=development\\n2024-06-24T08:04:52.309088Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes environment=development\\n2024-06-24T08:04:52.309158Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes/:id environment=development\\n2024-06-24T08:04:52.309234Z  INFO app: loco_rs::controller::app_routes: [DELETE] /api/notes/:id environment=development\\n2024-06-24T08:04:52.309286Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes/:id environment=development\\n2024-06-24T08:04:52.309334Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/register environment=development\\n2024-06-24T08:04:52.309401Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/verify environment=development\\n2024-06-24T08:04:52.309471Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/login environment=development\\n2024-06-24T08:04:52.309572Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/forgot environment=development\\n2024-06-24T08:04:52.309662Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/reset environment=development\\n2024-06-24T08:04:52.309752Z  INFO app: loco_rs::controller::app_routes: [GET] /api/user/current environment=development\\n2024-06-24T08:04:52.309827Z  INFO app: loco_rs::controller::app_routes: [POST] /api/files/upload/:notes_id environment=development\\n2024-06-24T08:04:52.309910Z  INFO app: loco_rs::controller::app_routes: [GET] /api/files/list/:notes_id environment=development\\n2024-06-24T08:04:52.309997Z  INFO app: loco_rs::controller::app_routes: [GET] /api/files/view/:files_id environment=development\\n2024-06-24T08:04:52.310088Z  INFO app: loco_rs::controller::app_routes: [GET] /api/graphql environment=development\\n2024-06-24T08:04:52.310172Z  INFO app: loco_rs::controller::app_routes: [POST] /api/graphql environment=development\\n2024-06-24T08:04:52.310469Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding limit payload data=\\"5mb\\" environment=development\\n2024-06-24T08:04:52.310615Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding log trace id environment=development\\n2024-06-24T08:04:52.310934Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding cors environment=development\\n2024-06-24T08:04:52.311008Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding etag layer environment=development\\n\\n                      \u2584     \u2580\\n                                 \u2580  \u2584\\n                  \u2584       \u2580     \u2584  \u2584 \u2584\u2580\\n                                    \u2584 \u2580\u2584\u2584\\n                        \u2584     \u2580    \u2580  \u2580\u2584\u2580\u2588\u2584\\n                                          \u2580\u2588\u2584\\n\u2584\u2584\u2584\u2584\u2584\u2584\u2584  \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584   \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2580\u2580\u2588\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2580\u2588\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2580\u2580\u2580 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2584\u2588\u2584\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588       \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2584\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2584\u2584\u2584 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588  \u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2580\\n   \u2580\u2580\u2580\u2588\u2588\u2584 \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580 \u2588\u2588\u2580\\n       \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\\n                https://loco.rs\\n\\nenvironment: development\\n   database: automigrate\\n     logger: debug\\ncompilation: debug\\n      modes: server\\n\\nlistening on [::]:3000\\n```\\n\\n## Creating Notes\\n\\nCreate a new notes with the GraphQL mutator.\\n\\n```graphql\\nmutation {\\n  notesCreateOne(\\n    data: {\\n      id: 1\\n      title: \\"Notes 001\\"\\n      content: \\"Content 001\\"\\n      createdAt: \\"2024-06-24 00:00:00\\"\\n      updatedAt: \\"2024-06-24 00:00:00\\"\\n    }\\n  ) {\\n    id\\n    title\\n    content\\n    createdAt\\n    updatedAt\\n  }\\n}\\n```\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography create.png>)\\n\\n## Querying Notes\\n\\nQuery notes with its related files.\\n\\n```graphql\\nquery {\\n  notes {\\n    nodes {\\n      id\\n      title\\n      content\\n      files {\\n        nodes {\\n          id\\n          filePath\\n        }\\n      }\\n    }\\n  }\\n}\\n```\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography query.png>)\\n\\n## Adding User Authentication to GraphQL Endpoint\\n\\nOur GraphQL handler can be accessed without user authentication. Next, we want to only allow logged in user to access the GraphQL handler.\\n\\nTo do so, we add `_auth: auth::JWT` to the `graphql_handler` function.\\n\\n```diff title=\\"loco_seaography/src/controllers/graphql.rs\\"\\nasync fn graphql_handler(\\n+   _auth: auth::JWT,\\n    State(ctx): State<AppContext>,\\n    req: Request<Body>,\\n) -> Result<Response> {\\n    const DEPTH: usize = 10;\\n    const COMPLEXITY: usize = 100;\\n    // Construct the the GraphQL query root\\n    let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();\\n    // GraphQL handler\\n    let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);\\n    // Execute GraphQL request and fetch the results\\n    let res = graphql_handler.call(req).await.unwrap();\\n\\n    Ok(res)\\n}\\n```\\n\\nThen, run the Loco application and visit the GraphQL playground again. You should see unauthorize error.\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography unauthorize.png>)\\n\\n## Adding Authentication header to GraphQL Playground\\n\\nFirst, we generate a valid authorization token by logging in the user account with the corresponding email and password:\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/auth/login\' \\\\\\n--data-raw \'{\\n    \\"email\\": \\"cwchan.billy@gmail.com\\",\\n    \\"password\\": \\"password\\"\\n}\'\\n\\n{\\n    \\"token\\": \\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIwN2NjMDk5Ni03YWYxLTQ5YmYtYmY2NC01OTg4ZjFhODM2OTkiLCJleHAiOjE3MTk4MjIzMzN9.CgKp_aE-DyAuBJIvFGJ6l68ooAlEiJGhjWeaetDtHrupaYDm0ldVxf24vj3fPgkCqZ_njv2129n2pSCzHOjaow\\",\\n    \\"pid\\": \\"07cc0996-7af1-49bf-bf64-5988f1a83699\\",\\n    \\"name\\": \\"Billy\\",\\n    \\"is_verified\\": true\\n}\\n```\\n\\nGo to the setting page of GraphQL playground. And add a new header under `request. globalHeaders`:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography authorization.png>)\\n\\nThen, we can access GraphQL handler as usual.\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x Seaography query.png>)\\n\\n## Conclusion\\n\\nAdding GraphQL support to Loco application is easy with the help of Seaography. It is an ergonomic library that turns SeaORM entities into GraphQL nodes and provides a set of utilities and combined with a code generator makes GraphQL API building a breeze.\\n\\n## SQL Server Support\\n\\n[SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) is now available as a closed beta. If you are interested`, please signup [here](https://forms.office.com/r/1MuRPJmYBR).\\n\\nMigrating from `sea-orm` to `sea-orm-x` is straightforward with two simple steps. First, update the existing `sea-orm` dependency to `sea-orm-x` and enable the `sqlz-mssql` feature. Note that you might need to patch SeaORM dependency for the upstream dependencies.\\n\\n```toml title=\\"Cargo.toml\\"\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\", features = [\\"runtime-async-std-rustls\\", \\"sqlz-mssql\\"] }\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\n\\n# Patch SeaORM dependency for the upstream dependencies\\n[patch.crates-io]\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\" }\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\n```\\n\\nSecond, update the connection string to connect to the MSSQL database.\\n\\n```sh\\n# If the schema is `dbo`, simply write:\\nmssql://username:password@host/database\\n\\n# Or, specify the schema name by providing an extra `currentSchema` query param.\\nmssql://username:password@host/database?currentSchema=my_schema\\n\\n# You can trust peer certificate by providing an extra trustCertificate query param.\\nmssql://username:password@host/database?trustCertificate=true\\n```\\n\\nSeaORM X has full Loco support and integrate seamlessly with many web frameworks:\\n\\n+ Actix\\n+ Axum\\n+ Async GraphQL\\n+ jsonrpsee\\n+ Loco\\n+ Poem\\n+ Salvo\\n+ Tonic\\n\\nHappy Coding!"},{"id":"2024-05-28-getting-started-with-loco-seaorm","metadata":{"permalink":"/preview/pr-154/blog/2024-05-28-getting-started-with-loco-seaorm","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-05-28-getting-started-with-loco-seaorm.md","source":"@site/blog/2024-05-28-getting-started-with-loco-seaorm.md","title":"Getting Started with Loco & SeaORM","description":"In this tutorial, we would create a REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads in Loco.","date":"2024-05-28T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":12.43,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL Team","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-05-28-getting-started-with-loco-seaorm","title":"Getting Started with Loco & SeaORM","author":"Billy Chan","author_title":"SeaQL Team","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","image":"https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Adding GraphQL Support to Loco with Seaography","permalink":"/preview/pr-154/blog/2024-07-01-graphql-support-with-loco-seaography"},"nextItem":{"title":"The rainbow bridge between sync and async Rust","permalink":"/preview/pr-154/blog/2024-05-20-async-rainbow-bridge"}},"content":"<img src=\\"/blog/img/Loco%20x%20SeaORM.png\\" />\\n\\nIn this tutorial, we would create a REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads in Loco.\\n\\nThe full source code can be found [here](https://github.com/SeaQL/sea-orm/tree/master/examples/loco_starter). The documentation of the REST API is available [here](https://documenter.getpostman.com/view/34752358/2sA3QmEF5q).\\n\\n## What is Loco?\\n\\n[Loco](https://loco.rs/) is a Rails inspired web framework for Rust. It includes many Rails feature with Rust ergonomics. Loco integrates seamlessly with SeaORM, offering a first-class development experience!\\n\\n- Controllers and routing via [axum](https://github.com/tokio-rs/axum)\\n- Models, migration, and ActiveRecord via [SeaORM](https://www.sea-ql.org/SeaORM/)\\n- Views via [serde](https://serde.rs/json.html)\\n- Seamless, Background jobs via [sidekiq-rs](https://github.com/film42/sidekiq-rs), multi modal: in process, out of process, async via Tokio\\n- [...and more](https://loco.rs/blog/hello-world/)\\n\\n## REST API Starter Template\\n\\nInstall `loco-cli`:\\n\\n```sh\\ncargo install loco-cli\\n```\\n\\nThe `loco-cli` provides three starter templates:\\n\\n- SaaS Starter\\n- Rest API Starter\\n- Lightweight Service Starter\\n\\nFor this tutorial, we want the \\"Rest API Starter\\" template:\\n\\n```sh\\n$ loco new\\n\\n\u2714  You are inside a git repository. Do you wish to continue? \xb7 Yes\\n\u2714  App name? \xb7 loco_starter\\n\u2714  What would you like to build? \xb7 Rest API (with DB and user auth)\\n\\n\ud83d\ude82 Loco app generated successfully in:\\n/sea-orm/examples/loco_starter\\n```\\n\\nNext, we need to setup our PostgreSQL database.\\n\\n```sh\\ndocker run -d -p 5432:5432 -e POSTGRES_USER=loco -e POSTGRES_DB=loco_starter_development -e POSTGRES_PASSWORD=\\"loco\\" postgres:15.3-alpine\\n```\\n\\nIf you want to use MySQL or SQLite as the database. Please update the `database.uri` configuration in `loco_starter/config/development.yaml`. And enable the corresponding database backend feature flag of SeaORM in `loco_starter/Cargo.toml`.\\n\\nNow, start our REST application:\\n\\n```sh\\n$ cargo loco start\\n\\n    Finished `dev` profile [unoptimized + debuginfo] target(s) in 1m 42s\\n     Running `target/debug/loco_starter-cli start`\\n2024-05-20T06:56:42.724350Z  INFO app: loco_rs::config: loading environment from selected_path=\\"config/development.yaml\\" environment=development\\n2024-05-20T06:56:42.740338Z  WARN app: loco_rs::boot: pretty backtraces are enabled (this is great for development but has a runtime cost for production. disable with `logger.pretty_backtrace` in your config yaml) environment=development\\n2024-05-20T06:56:42.833747Z  INFO app: loco_rs::db: auto migrating environment=development\\n2024-05-20T06:56:42.845983Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations environment=development\\n2024-05-20T06:56:42.850231Z  INFO app: sea_orm_migration::migrator: Applying migration \'m20220101_000001_users\' environment=development\\n2024-05-20T06:56:42.864095Z  INFO app: sea_orm_migration::migrator: Migration \'m20220101_000001_users\' has been applied environment=development\\n2024-05-20T06:56:42.865799Z  INFO app: sea_orm_migration::migrator: Applying migration \'m20231103_114510_notes\' environment=development\\n2024-05-20T06:56:42.873653Z  INFO app: sea_orm_migration::migrator: Migration \'m20231103_114510_notes\' has been applied environment=development\\n2024-05-20T06:56:42.875645Z  INFO app: loco_rs::boot: initializers loaded initializers=\\"\\" environment=development\\n2024-05-20T06:56:42.906072Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_ping environment=development\\n2024-05-20T06:56:42.906176Z  INFO app: loco_rs::controller::app_routes: [GET] /api/_health environment=development\\n2024-05-20T06:56:42.906264Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes environment=development\\n2024-05-20T06:56:42.906335Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes environment=development\\n2024-05-20T06:56:42.906414Z  INFO app: loco_rs::controller::app_routes: [GET] /api/notes/:id environment=development\\n2024-05-20T06:56:42.906501Z  INFO app: loco_rs::controller::app_routes: [DELETE] /api/notes/:id environment=development\\n2024-05-20T06:56:42.906558Z  INFO app: loco_rs::controller::app_routes: [POST] /api/notes/:id environment=development\\n2024-05-20T06:56:42.906609Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/register environment=development\\n2024-05-20T06:56:42.906680Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/verify environment=development\\n2024-05-20T06:56:42.906753Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/login environment=development\\n2024-05-20T06:56:42.906838Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/forgot environment=development\\n2024-05-20T06:56:42.906931Z  INFO app: loco_rs::controller::app_routes: [POST] /api/auth/reset environment=development\\n2024-05-20T06:56:42.907012Z  INFO app: loco_rs::controller::app_routes: [GET] /api/user/current environment=development\\n2024-05-20T06:56:42.907309Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding limit payload data=\\"5mb\\" environment=development\\n2024-05-20T06:56:42.907440Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding log trace id environment=development\\n2024-05-20T06:56:42.907714Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding cors environment=development\\n2024-05-20T06:56:42.907788Z  INFO app: loco_rs::controller::app_routes: [Middleware] Adding etag layer environment=development\\n\\n                      \u2584     \u2580\\n                                 \u2580  \u2584\\n                  \u2584       \u2580     \u2584  \u2584 \u2584\u2580\\n                                    \u2584 \u2580\u2584\u2584\\n                        \u2584     \u2580    \u2580  \u2580\u2584\u2580\u2588\u2584\\n                                          \u2580\u2588\u2584\\n\u2584\u2584\u2584\u2584\u2584\u2584\u2584  \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584   \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584\u2584 \u2580\u2580\u2588\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2580\u2588\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2580\u2580\u2580 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2584\u2588\u2584\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588       \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2584\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2584\u2584\u2584 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588\\n \u2588\u2588\u2588\u2588\u2588\u2588  \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588  \u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2588   \u2588\u2588\u2588 \u2588\u2588\u2588\u2588\u2580\\n   \u2580\u2580\u2580\u2588\u2588\u2584 \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580  \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580 \u2588\u2588\u2580\\n       \u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\u2580\\n                https://loco.rs\\n\\nenvironment: development\\n   database: automigrate\\n     logger: debug\\ncompilation: debug\\n      modes: server\\n\\nlistening on [::]:3000\\n```\\n\\nFrom the log messages printed above, we saw:\\n\\n- Database migrations have been applied\\n- All available REST API\\n\\nTo check if the application listen for requests:\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/_ping\'\\n\\n{\\"ok\\":true}\\n```\\n\\n## User Management\\n\\nThe starter template comes with a basic user management module.\\n\\n### Registration\\n\\nIt is a common practice to send a verification email to the provided email. However, that would requires a SMTP server and this is not the focus of this blog post. So, I will skip the email verification:\\n\\n```diff title=\\"loco_starter/src/controllers/auth.rs\\"\\n#[debug_handler]\\nasync fn register(\\n    State(ctx): State<AppContext>,\\n    Json(params): Json<RegisterParams>,\\n) -> Result<Response> {\\n    let res = users::Model::create_with_password(&ctx.db, &params).await;\\n\\n    let user = match res {\\n        Ok(user) => user,\\n        Err(err) => {\\n            tracing::info!(\\n                message = err.to_string(),\\n                user_email = &params.email,\\n                \\"could not register user\\",\\n            );\\n            return format::json(());\\n        }\\n    };\\n\\n+   // Skip email verification, all new registrations are considered verified\\n+   let _user = user\\n+       .into_active_model()\\n+       .verified(&ctx.db)\\n+       .await?;\\n\\n+   // Skip sending verification email as we don\'t have a mail server\\n+   /*\\n    let user = user\\n        .into_active_model()\\n        .set_email_verification_sent(&ctx.db)\\n        .await?;\\n\\n    AuthMailer::send_welcome(&ctx, &user).await?;\\n+   */\\n\\n    format::json(())\\n}\\n```\\n\\nCompile and run the application, then register a new user account:\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/auth/register\' \\\\\\n--data-raw \'{\\n    \\"name\\": \\"Billy\\",\\n    \\"email\\": \\"cwchan.billy@gmail.com\\",\\n    \\"password\\": \\"password\\"\\n}\'\\n\\nnull\\n```\\n\\n### Login\\n\\nYou should see there is a new row of `user` in the database.\\n\\nNext, we login the user account with the corresponding email and password:\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/auth/login\' \\\\\\n--data-raw \'{\\n    \\"email\\": \\"cwchan.billy@gmail.com\\",\\n    \\"password\\": \\"password\\"\\n}\'\\n\\n{\\n  \\"token\\": \\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\\",\\n  \\"pid\\": \\"11d01af3-6fe2-44f3-89f0-c02cec39741d\\",\\n  \\"name\\": \\"Billy\\",\\n  \\"is_verified\\": true\\n}\\n```\\n\\n### Authentication\\n\\nThe JWT token above will be used in user authentication. You must set the `Authorization` header to access any REST endpoint that requires user login.\\n\\nFor example, fetching the user info of the current user:\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/user/current\' \\\\\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\'\\n\\n{\\n    \\"pid\\":\\"11d01af3-6fe2-44f3-89f0-c02cec39741d\\",\\n    \\"name\\":\\"Billy\\",\\n    \\"email\\":\\"cwchan.billy@gmail.com\\"\\n}\\n```\\n\\n## Handling REST Requests\\n\\nThe starter application comes with a notes controller for the `notes` table.\\n\\n### Create Notes\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/notes\' \\\\\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\' \\\\\\n--data \'{\\n    \\"title\\": \\"Getting Started with Loco & SeaORM\\",\\n    \\"content\\": \\"In this tutorial, we would create an REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads.\\"\\n}\'\\n\\n{\\n  \\"created_at\\": \\"2024-05-20T08:43:45.408449\\",\\n  \\"updated_at\\": \\"2024-05-20T08:43:45.408449\\",\\n  \\"id\\": 1,\\n  \\"title\\": \\"Getting Started with Loco & SeaORM\\",\\n  \\"content\\": \\"In this tutorial, we would create an REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads.\\"\\n}\\n```\\n\\n### List Notes\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/notes\' \\\\\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\'\\n\\n[\\n  {\\n    \\"created_at\\": \\"2024-05-20T08:43:45.408449\\",\\n    \\"updated_at\\": \\"2024-05-20T08:43:45.408449\\",\\n    \\"id\\": 1,\\n    \\"title\\": \\"Getting Started with Loco & SeaORM\\",\\n    \\"content\\": \\"In this tutorial, we would create an REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads.\\"\\n  },\\n  {\\n    \\"created_at\\": \\"2024-05-20T08:45:38.973130\\",\\n    \\"updated_at\\": \\"2024-05-20T08:45:38.973130\\",\\n    \\"id\\": 2,\\n    \\"title\\": \\"Introducing SeaORM X\\",\\n    \\"content\\": \\"SeaORM X is built on top of SeaORM with support for SQL Server\\"\\n  }\\n]\\n```\\n\\n### Get Notes\\n\\n```sh\\n$ curl --location \'http://localhost:3000/api/notes/2\' \\\\\\n--header \'Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw\'\\n\\n{\\n  \\"created_at\\": \\"2024-05-20T08:45:38.973130\\",\\n  \\"updated_at\\": \\"2024-05-20T08:45:38.973130\\",\\n  \\"id\\": 2,\\n  \\"title\\": \\"Introducing SeaORM X\\",\\n  \\"content\\": \\"SeaORM X is built on top of SeaORM with support for SQL Server\\"\\n}\\n```\\n\\n## Handling File Uploads\\n\\nNext, we will add a file upload feature where user can upload files that is related to the notes.\\n\\n### File Table Migration\\n\\nCreate a migration file for the new `files` table. Each row of `files` reference a specific `notes` in the database.\\n\\n```rust title=\\"loco_starter/migration/src/m20240520_173001_files.rs\\"\\nuse sea_orm_migration::{prelude::*, schema::*};\\n\\nuse super::m20231103_114510_notes::Notes;\\n\\n#[derive(DeriveMigrationName)]\\npub struct Migration;\\n\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .create_table(\\n                table_auto(Files::Table)\\n                    .col(pk_auto(Files::Id))\\n                    .col(integer(Files::NotesId))\\n                    .col(string(Files::FilePath))\\n                    .foreign_key(\\n                        ForeignKey::create()\\n                            .name(\\"FK_files_notes_id\\")\\n                            .from(Files::Table, Files::NotesId)\\n                            .to(Notes::Table, Notes::Id),\\n                    )\\n                    .to_owned(),\\n            )\\n            .await\\n    }\\n\\n    async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .drop_table(Table::drop().table(Files::Table).to_owned())\\n            .await\\n    }\\n}\\n\\n#[derive(DeriveIden)]\\npub enum Files {\\n    Table,\\n    Id,\\n    NotesId,\\n    FilePath,\\n}\\n```\\n\\nThen, we need to enable the new migration.\\n\\n```diff title=\\"loco_starter/migration/src/lib.rs\\"\\n#![allow(elided_lifetimes_in_paths)]\\n#![allow(clippy::wildcard_imports)]\\npub use sea_orm_migration::prelude::*;\\n\\nmod m20220101_000001_users;\\nmod m20231103_114510_notes;\\n+ mod m20240520_173001_files;\\n\\npub struct Migrator;\\n\\n#[async_trait::async_trait]\\nimpl MigratorTrait for Migrator {\\n    fn migrations() -> Vec<Box<dyn MigrationTrait>> {\\n        vec![\\n            Box::new(m20220101_000001_users::Migration),\\n            Box::new(m20231103_114510_notes::Migration),\\n+           Box::new(m20240520_173001_files::Migration),\\n        ]\\n    }\\n}\\n\\n```\\n\\nCompile and start the application, it should run our new migration on startup.\\n\\n```sh\\n$ cargo loco start\\n\\n...\\n2024-05-20T09:39:59.607525Z  INFO app: loco_rs::db: auto migrating environment=development\\n2024-05-20T09:39:59.611997Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations environment=development\\n2024-05-20T09:39:59.621699Z  INFO app: sea_orm_migration::migrator: Applying migration \'m20240520_173001_files\' environment=development\\n2024-05-20T09:39:59.643886Z  INFO app: sea_orm_migration::migrator: Migration \'m20240520_173001_files\' has been applied environment=development\\n...\\n```\\n\\n### File Model Definition\\n\\nDefine `files` entity model.\\n\\n```rust title=\\"loco_starter/src/models/_entities/files.rs\\"\\nuse sea_orm::entity::prelude::*;\\nuse serde::{Deserialize, Serialize};\\n\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]\\n#[sea_orm(table_name = \\"files\\")]\\npub struct Model {\\n    pub created_at: DateTime,\\n    pub updated_at: DateTime,\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub notes_id: i32,\\n    pub file_path: String,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"super::notes::Entity\\",\\n        from = \\"Column::NotesId\\",\\n        to = \\"super::notes::Column::Id\\"\\n    )]\\n    Notes,\\n}\\n\\nimpl Related<super::notes::Entity> for Entity {\\n    fn to() -> RelationDef {\\n        Relation::Notes.def()\\n    }\\n}\\n```\\n\\nImplement the `ActiveModelBehavior` in the parent module.\\n\\n```rust title=\\"loco_starter/src/models/files.rs\\"\\nuse sea_orm::entity::prelude::*;\\n\\nuse super::_entities::files::ActiveModel;\\n\\nimpl ActiveModelBehavior for ActiveModel {\\n    // extend activemodel below (keep comment for generators)\\n}\\n```\\n\\n### File Controller\\n\\nController is where we handle the file uploading, listing and viewing.\\n\\n#### Upload File\\n\\nThe following upload handler allows multiple files to be uploaded in a single POST request.\\n\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\n#[debug_handler]\\npub async fn upload(\\n    _auth: auth::JWT,\\n    Path(notes_id): Path<i32>,\\n    State(ctx): State<AppContext>,\\n    mut multipart: Multipart,\\n) -> Result<Response> {\\n    // Collect all uploaded files\\n    let mut files = Vec::new();\\n\\n    // Iterate all files in the POST body\\n    while let Some(field) = multipart.next_field().await.map_err(|err| {\\n        tracing::error!(error = ?err,\\"could not readd multipart\\");\\n        Error::BadRequest(\\"could not readd multipart\\".into())\\n    })? {\\n        // Get the file name\\n        let file_name = match field.file_name() {\\n            Some(file_name) => file_name.to_string(),\\n            _ => return Err(Error::BadRequest(\\"file name not found\\".into())),\\n        };\\n\\n        // Get the file content as bytes\\n        let content = field.bytes().await.map_err(|err| {\\n            tracing::error!(error = ?err,\\"could not readd bytes\\");\\n            Error::BadRequest(\\"could not readd bytes\\".into())\\n        })?;\\n\\n        // Create a folder to store the uploaded file\\n        let now = chrono::offset::Local::now()\\n            .format(\\"%Y%m%d_%H%M%S\\")\\n            .to_string();\\n        let uuid = uuid::Uuid::new_v4().to_string();\\n        let folder = format!(\\"{now}_{uuid}\\");\\n        let upload_folder = PathBuf::from(UPLOAD_DIR).join(&folder);\\n        fs::create_dir_all(&upload_folder).await?;\\n\\n        // Write the file into the newly created folder\\n        let path = upload_folder.join(file_name);\\n        let mut f = fs::OpenOptions::new()\\n            .create_new(true)\\n            .write(true)\\n            .open(&path)\\n            .await?;\\n        f.write_all(&content).await?;\\n        f.flush().await?;\\n\\n        // Record the file upload in database\\n        let file = files::ActiveModel {\\n            notes_id: ActiveValue::Set(notes_id),\\n            file_path: ActiveValue::Set(\\n                path.strip_prefix(UPLOAD_DIR)\\n                    .unwrap()\\n                    .to_str()\\n                    .unwrap()\\n                    .to_string(),\\n            ),\\n            ..Default::default()\\n        }\\n        .insert(&ctx.db)\\n        .await?;\\n\\n        files.push(file);\\n    }\\n\\n    format::json(files)\\n}\\n```\\n\\nTry uploading multiple files in a single POST request:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM upload file.png>)\\n\\nAll uploaded files are saved into the `uploads` directory:\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM upload directory.png>)\\n\\n#### List File\\n\\nList all `files` that are related to a specific `notes_id`.\\n\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\n#[debug_handler]\\npub async fn list(\\n    _auth: auth::JWT,\\n    Path(notes_id): Path<i32>,\\n    State(ctx): State<AppContext>,\\n) -> Result<Response> {\\n    // Fetch all files uploaded for a specific notes\\n    let files = files::Entity::find()\\n        .filter(files::Column::NotesId.eq(notes_id))\\n        .order_by_asc(files::Column::Id)\\n        .all(&ctx.db)\\n        .await?;\\n\\n    format::json(files)\\n}\\n```\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM list file.png>)\\n\\n#### View File\\n\\nView a specific `files`.\\n\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\n#[debug_handler]\\npub async fn view(\\n    _auth: auth::JWT,\\n    Path(files_id): Path<i32>,\\n    State(ctx): State<AppContext>,\\n) -> Result<Response> {\\n    // Fetch the file info from database\\n    let file = files::Entity::find_by_id(files_id)\\n        .one(&ctx.db)\\n        .await?\\n        .expect(\\"File not found\\");\\n\\n    // Stream the file\\n    let file = fs::File::open(format!(\\"{UPLOAD_DIR}/{}\\", file.file_path)).await?;\\n    let stream = ReaderStream::new(file);\\n    let body = Body::from_stream(stream);\\n\\n    Ok(format::render().response().body(body)?)\\n}\\n```\\n\\n![](<https://www.sea-ql.org/blog/img/Loco x SeaORM view file.png>)\\n\\n#### File Controller Routes\\n\\nAdd our newly defined files handler to the application routes.\\n\\n```rust title=\\"loco_starter/src/controllers/files.rs\\"\\npub fn routes() -> Routes {\\n    // Bind the routes\\n    Routes::new()\\n        .prefix(\\"files\\")\\n        .add(\\"/upload/:notes_id\\", post(upload))\\n        .add(\\"/list/:notes_id\\", get(list))\\n        .add(\\"/view/:files_id\\", get(view))\\n}\\n```\\n\\n```diff title=\\"loco_starter/src/app.rs\\"\\npub struct App;\\n\\n#[async_trait]\\nimpl Hooks for App {\\n    // ...\\n\\n    fn routes(_ctx: &AppContext) -> AppRoutes {\\n        AppRoutes::with_default_routes()\\n            .prefix(\\"/api\\")\\n            .add_route(controllers::notes::routes())\\n            .add_route(controllers::auth::routes())\\n            .add_route(controllers::user::routes())\\n+           .add_route(controllers::files::routes())\\n    }\\n\\n    // ...\\n}\\n```\\n\\n#### Extra Rust Dependencies\\n\\nRemember to enable `multipart` in `axum` and add `tokio-util` dependency.\\n\\n```diff title=\\"loco_starter/Cargo.toml\\"\\n- axum = \\"0.7.1\\"\\n+ axum = { version = \\"0.7.1\\", features = [\\"multipart\\"] }\\n\\n+ tokio-util = \\"0.7.11\\"\\n```\\n\\n## SQL Server Support\\n\\n[SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) is now available as a closed beta. If you are interested, please signup [here](https://forms.office.com/r/1MuRPJmYBR).\\n\\nMigrating from `sea-orm` to `sea-orm-x` is straightforward with two simple steps. First, update the existing `sea-orm` dependency to `sea-orm-x` and enable the `sqlz-mssql` feature. Note that you might need to patch SeaORM dependency for the upstream dependencies.\\n\\n```toml title=\\"Cargo.toml\\"\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\", features = [\\"runtime-async-std-rustls\\", \\"sqlz-mssql\\"] }\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\n\\n# Patch SeaORM dependency for the upstream dependencies\\n[patch.crates-io]\\nsea-orm = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x\\" }\\nsea-orm-migration = { path = \\"<SEA_ORM_X_ROOT>/sea-orm-x/sea-orm-migration\\" }\\n```\\n\\nSecond, update the connection string to connect to the MSSQL database.\\n\\n```sh\\n# If the schema is `dbo`, simply write:\\nmssql://username:password@host/database\\n\\n# Or, specify the schema name by providing an extra `currentSchema` query param.\\nmssql://username:password@host/database?currentSchema=my_schema\\n\\n# You can trust peer certificate by providing an extra trustCertificate query param.\\nmssql://username:password@host/database?trustCertificate=true\\n```\\n\\nSeaORM X has full Loco support and integrate seamlessly with many web frameworks:\\n\\n+ Actix\\n+ Axum\\n+ Async GraphQL\\n+ jsonrpsee\\n+ Loco\\n+ Poem\\n+ Salvo\\n+ Tonic\\n\\nHappy Coding!"},{"id":"2024-05-20-async-rainbow-bridge","metadata":{"permalink":"/preview/pr-154/blog/2024-05-20-async-rainbow-bridge","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-05-20-async-rainbow-bridge.md","source":"@site/blog/2024-05-20-async-rainbow-bridge.md","title":"The rainbow bridge between sync and async Rust","description":"This story stems from the saying \\"What Color is Your Function?\\" as a criticism to the async implementation of common programming languages. Well, Rust also falls into the category of \\"colored functions\\". So in this blog post, let\'s see how we can design systems to effectively combine sync and async code.","date":"2024-05-20T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":8.11,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-05-20-async-rainbow-bridge","title":"The rainbow bridge between sync and async Rust","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/blog/img/async-rainbow-bridge.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Getting Started with Loco & SeaORM","permalink":"/preview/pr-154/blog/2024-05-28-getting-started-with-loco-seaorm"},"nextItem":{"title":"Building a Redis / Kafka Data Sink","permalink":"/preview/pr-154/blog/2024-05-05-redis-kafka-data-sink"}},"content":"<img src=\\"/blog/img/async-rainbow-bridge.png\\" />\\n\\nThis story stems from the saying \\"What Color is Your Function?\\" as a criticism to the async implementation of common programming languages. Well, Rust also falls into the category of \\"colored functions\\". So in this blog post, let\'s see how we can design systems to effectively combine sync and async code.\\n\\nRainbow bridge is a reference to the bridge in Thor that teleports you between different realms - a perfect analogy!\\n\\n## Background\\n\\nSync code can be blocking IO, or expensive computation. Async code is usually network IO where you\'d wait for results.\\n\\nIn both cases, we want to maximize concurrency, such that the program can make full use of the CPU instead of sitting there idle. A common approach is message passing, where we package tasks and send them to different workers for execution.\\n\\n## Sync -> Sync\\n\\nLet\'s start with the classic example, pure sync code. There exists [std::sync::mpsc](https://doc.rust-lang.org/std/sync/mpsc/index.html) in the standard library, so let\'s take a look.\\n\\n```rust\\nuse std::sync::mpsc::channel;\\n\\n// create an unbounded channel\\nlet (sender, receiver) = channel();\\n\\n// never blocks\\nsender.send(\\"Hello\\".to_string()).unwrap();\\n\\nlet handle = std::thread::spawn(move|| {\\n    // wait until there is a message\\n    let message = receiver.recv().unwrap();\\n    println!(\\"{message}\\");\\n});\\n\\nhandle.join().unwrap();\\nprintln!(\\"Bye\\");\\n```\\n\\nPrints ([Playground](https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=4eecb3216b6b10477849f5648bb026f4)):\\n\\n```log\\nHello\\nBye\\n```\\n\\nNow, we\'ll make a more elaborate example: a program that spawns a number of worker threads to perform some \'expensive\' computation. The main thread would dispatch the tasks to those threads and in turn collect the results via another channel.\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    tasks    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   result\\n\u2502             \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 1 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \\n\u2502 main thread \u2502             \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524             \u2560\u2550\u2550\u2550\u2550\u2561 main thread \u2502 \\n\u2502             \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 2 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518             \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \\n```\\n\\nFirst, setup the channels.\\n\\n```rust\\nlet (result, collector) = channel(); // result\\nlet mut senders = Vec::new();\\nfor _ in 0..THREADS {\\n    let (sender, receiver) = channel(); // tasks\\n    senders.push(sender);\\n    let result = result.clone();\\n    std::thread::spawn(move || worker(receiver, result));\\n}\\n```\\n\\nThe worker thread looks like:\\n\\n```rust\\nfn worker(receiver: Receiver<Task>, sender: Sender<Done>) {\\n    while let Ok(task) = receiver.recv() {\\n        let result = process(task);\\n        sender.send(result).unwrap();\\n    }\\n}\\n```\\n\\nThen, dispatch tasks.\\n\\n```rust\\nfor c in 0..TASKS {\\n    let task = some_random_task();\\n    senders[c % THREADS].send(task).unwrap();\\n}\\n```\\n\\nFinally, we can collect results.\\n\\n```rust\\nfor _ in 0..TASKS {\\n    let result = collector.recv().unwrap();\\n    println!(\\"{result:?}\\");\\n}\\n```\\n\\nFull source code can be found [here](https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/multi-thread-matrix).\\n\\n## Async -> Async\\n\\nNext, we\'ll migrate to async land. Using [tokio::sync::mpsc](https://docs.rs/tokio/latest/tokio/sync/mpsc/index.html), it\'s very similar to the above example, except every operation is `async` and thus imposes additional restrictions to lifetimes. (The trick is, just move / clone. Don\'t borrow)\\n\\n`tokio`\'s `unbounded_channel` is the equivalent to `std`\'s `channel`. Otherwise it\'s very similar. The `spawn` method takes in a `Future`; since the worker needs to take in the channels, we construct an async closure with `async move {}`.\\n\\n| std | tokio |\\n|-------|-------|\\n| (unbounded) [`channel`](https://doc.rust-lang.org/std/sync/mpsc/fn.channel.html) | [`unbounded_channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.unbounded_channel.html)\\n| [`sync_channel`](https://doc.rust-lang.org/std/sync/mpsc/fn.sync_channel.html) | (bounded) [`channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.channel.html) |\\n\\n```rust\\nlet (result, mut collector) = unbounded_channel();\\nlet mut senders = Vec::new();\\nfor _ in 0..WORKERS {\\n    let (sender, mut receiver) = unbounded_channel();\\n    senders.push(sender);\\n    let result = result.clone();\\n    tokio::task::spawn(async move {\\n        while let Some(task) = receiver.recv().await {\\n            result.send(process(task).await).unwrap();\\n        }\\n    });\\n}\\nstd::mem::drop(result); // <-- ?\\n```\\n\\nWhy do we need to drop the `result` sender? This is one of the foot gun: `tokio` would swallow panics originated within the task, and so if that happened, the program would never exit. By dropping the last copy of `result` in scope, the channel would automatically close *after* all tasks exit, which in turn would triggle up to our `collector`.\\n\\nThe rest is almost the same.\\n\\n```rust\\nfor (i, task) in tasks.iter().enumerate() {\\n    senders[i % WORKERS].send(task.clone()).unwrap();\\n}\\nstd::mem::drop(senders);\\n\\nfor _ in 0..tasks.len() {\\n    let result = collector.recv().await.unwrap();\\n    println!(\\"{result:?}\\");\\n}\\n```\\n\\nFull source code can be found [here](https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/tokio-mpsc).\\n\\n### Flume mpmc\\n\\n#### mpmc - multi producer, multi consumer\\n\\nThe previous examples have a flaw: we have to spawn multiple `mpsc` channels to send tasks, which is:\\n\\n1. clumsy. we need to keep a list of `senders`\\n2. not the most efficient. is round-robin the best way of distributing tasks? some of the workers may remain idle\\n\\nHere is the ideal setup:\\n\\n```\\n                      tasks   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   result\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 1 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2557   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \\n\u2502 main thread \u255e\u2550\u2550\u2550\u2563           \u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524            \u2560\u2550\u2550\u2550\u2561 main thread \u2502 \\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 worker thread 2 \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u255d   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \\n                              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \\n```\\n\\nLet\'s rewrite our example using [Flume](https://docs.rs/flume/latest/flume/). But first, know the mapping between `tokio` and `flume`:\\n\\n| Tokio | Flume |\\n|-------|-------|\\n| [`unbounded_channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.unbounded_channel.html) | [`unbounded`](https://docs.rs/flume/latest/flume/fn.unbounded.html) (channel) |\\n| (bounded) [`channel`](https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.channel.html) | [bounded](https://docs.rs/flume/latest/flume/fn.bounded.html) (channel) |\\n| `send` | `send` |\\n| `recv` | `recv_async` |\\n\\nIn `tokio`, the method is exclusive: `async fn recv(&mut self)`; in `flume`, the method is `fn recv_async(&self) -> RecvFut`. The type signature already told you the distinction between `mpsc` vs `mpmc`! It is wrong to use the blocking `recv` method in async context in `flume`, but sadly the compiler would not warn you about it.\\n\\nThe channel setup is now slightly simpler:\\n\\n```rust\\nlet (sender, receiver) = unbounded(); // task\\nlet (result, collector) = unbounded(); // result\\n\\nfor _ in 0..WORKERS {\\n    let receiver = receiver.clone();\\n    let result = result.clone();\\n    tokio::task::spawn(async move {\\n        while let Ok(task) = receiver.recv_async().await {\\n            result.send(process(task).await).unwrap();\\n        }\\n    });\\n}\\n```\\n\\nWe no longer have to dispatch tasks ourselves. All workers share the same task queue, and thus workers would fetch the next task as soon as the previous one is finished - effectively load balance among themselves!\\n\\n```rust\\nfor task in &tasks {\\n    sender.send(task.clone()).unwrap();\\n}\\n\\nfor _ in 0..tasks.len() {\\n    let result = collector.recv_async().await.unwrap();\\n    println!(\\"{result:?}\\");\\n}\\n```\\n\\nFull source code can be found [here](https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/flume-mpmc).\\n\\n## Sync -> Async\\n\\nIn the final example, let\'s consider a program that is mostly sync, but has a few async operations that we want to handle in a background thread. \\n\\nIn the example below, our blocking operation is \'reading from stdin\' from the main thread. And we send those lines to an async thread to handle.\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502 main thread \u255e\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2561 async thread \u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n```\\n\\nIt follows the usual 3 steps:\\n\\n1. create a flume channel\\n2. pass the receiver end to a worker thread\\n3. send tasks over the channel\\n\\n```rust\\nfn main() -> Result<()> {\\n    let (sender, receiver) = unbounded(); // flume channel\\n\\n    std::thread::spawn(move || {\\n        // this runtime is single-threaded\\n        let rt = tokio::runtime::Builder::new_current_thread().enable_all().build().unwrap();\\n        rt.block_on(handler(receiver))\\n    });\\n\\n    loop {\\n        let mut line = String::new();\\n        // this blocks the current thread until there is a new line\\n        match std::io::stdin().read_line(&mut line) {\\n            Ok(0) => break, // this means stdin is closed\\n            Ok(_) => (),\\n            Err(e) => panic!(\\"{e:?}\\"),\\n        }\\n        sender.send(line)?;\\n    }\\n\\n    Ok(())\\n}\\n```\\n\\nThis is the handler:\\n\\n```rust\\nasync fn handler(receiver: Receiver<String>) -> Result<()> {\\n    while let Ok(line) = receiver.recv_async().await {\\n        process(line).await?;\\n    }\\n    Ok(())\\n}\\n```\\n\\nIt doesn\'t look much different from the `async -> async` example, the only difference is one side is sync! Full source code can be found [here](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-file/src/bin/stdin-to-file.rs).\\n\\n### Graceful shutdown\\n\\nThe above code has a problem: we never know whether a line has been processed. If the program has an exit mechanism from handling `sigint`, there is a possibility of exiting before all the lines has been processed.\\n\\nLet\'s see how we can shutdown properly.\\n\\n```rust\\nlet handle = std::thread::spawn(..);\\n\\n// running is an AtomicBool\\nwhile running.load(Ordering::Acquire) {\\n    let line = read_line_from_stdin();\\n    sender.send(line)?;\\n}\\n\\nstd::mem::drop(sender);\\nhandle.join().unwrap().unwrap();\\n```\\n\\nThe shutdown sequence has 3 steps:\\n\\n0. we first obtain the `JoinHandle` to the thread\\n1. we drop all copies of `sender`, effectively closing the channel\\n2. in the worker thread, `receiver.recv_async()` would result in an error, as stated in the [docs](https://docs.rs/flume/latest/flume/struct.Receiver.html#method.recv_async)\\n    > Asynchronously receive a value from the channel, returning an error if all senders have been dropped.\\n3. the worker thread finishes, joining the main thread\\n\\n## Async -> Sync\\n\\nThe other way around is equally simple, as illustrated in [SeaStreamer\'s example](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/blocking.rs).\\n\\n## Conclusion\\n\\n| | sync | async |\\n|-|------|-------|\\n| to spawn worker| [`std::thread::spawn`](https://doc.rust-lang.org/std/thread/fn.spawn.html) | [`tokio::task::spawn`](https://docs.rs/tokio/latest/tokio/task/fn.spawn.html) |\\n| concurrency | multi-threaded | can be multi-threaded or single-threaded |\\n| worker is | `FnOnce` | `Future` |\\n| send message with | `send` | `send` |\\n| receive message with | `recv` | `recv_async` |\\n| waiting for messages | blocking | yield to runtime |\\n\\nIn this article we discussed:\\n\\n1. Multi-threaded parallelism in sync realm\\n2. Concurrency in async realm - with `tokio` and `flume`\\n3. Bridging sync and async code with `flume`\\n\\nNow you already learnt the powers of `flume`, but there is more!\\n\\nIn the next episode, hopefully we will get to discuss other interesting features of `flume` - bounded channels and \'rendezvous channels\'.\\n\\n+ [FizzBuzz Multithreaded - synchronization with rendezvous channels](https://firedbg.sea-ql.org/blog/2024-06-30-fizzbuzz-multithread/)\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-05-05-redis-kafka-data-sink","metadata":{"permalink":"/preview/pr-154/blog/2024-05-05-redis-kafka-data-sink","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-05-05-redis-kafka-data-sink.md","source":"@site/blog/2024-05-05-redis-kafka-data-sink.md","title":"Building a Redis / Kafka Data Sink","description":"This tutorial shows you how to use Rust to build a system that:","date":"2024-05-05T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.65,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-05-05-redis-kafka-data-sink","title":"Building a Redis / Kafka Data Sink","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"The rainbow bridge between sync and async Rust","permalink":"/preview/pr-154/blog/2024-05-20-async-rainbow-bridge"},"nextItem":{"title":"What\'s new in SeaORM 1.0-rc.x","permalink":"/preview/pr-154/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x"}},"content":"<img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" />\\n\\nThis tutorial shows you how to use Rust to build a system that:\\n\\n1. Subscribe to a real-time websocket data feed\\n2. Stream the data to Kafka / Redis\\n3. Save the data into a SQL database\\n\\nHere, we\'ll employ a micro-services architecture, and split the functionality into two apps:\\n\\n```\\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510      \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\\n\u2502 Websocket Data Feed \u2502 ---\x3e   Redis / Kafka   ---\x3e \u2502 SQL Data Sink \u2502\\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518      \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500      \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\\n```\\n\\nIn stream processing, we often use the terms \\"source\\" / \\"sink\\", but a data sink is simply a stream consumer that persists the data into a store.\\n\\nOn the source side, we\'d use [SeaStreamer](https://github.com/SeaQL/sea-streamer). On the sink side, we\'d be using [SeaORM](https://github.com/SeaQL/sea-orm). Below are the supported technologies; for the rest of this article, we\'ll be using `Redis` and `SQLite` because they\'re easy to setup.\\n\\n| SeaStreamer | SeaORM |\\n|-----|-----|\\n|Kafka, Redis | MySQL, Postgres, SQLite, SQL Server[^1] |\\n\\nTo get started, you can quickly start a Redis instance via Docker:\\n\\n```sh\\ndocker run -d --rm --name redis -p 6379:6379 redis\\n```\\n\\n## 1. Websocket subscription\\n\\nLet\'s write a websocket subscriber in Rust. Here we\'d use the awesome [async-tungstenite](https://crates.io/crates/async-tungstenite) library.\\n\\nWe\'d subscribe to the `GBP/USD` price feed from Kraken, API documentation can be found [here](https://docs.kraken.com/websockets/#message-spread). NB: they\'re not real FX data, but should be good enough for demo.\\n\\nStep 1, create a websocket connection:\\n\\n```rust\\nlet (mut ws, _) = async_tungstenite::tokio::connect_async(\\"wss://ws.kraken.com/\\").await?;\\n```\\n\\nStep 2, send a subscription request:\\n\\n```rust\\nws.send(Message::Text(\\n    r#\\"{ \\"event\\": \\"subscribe\\", \\"pair\\": [\\"GBP/USD\\"], \\"subscription\\": { \\"name\\": \\"spread\\" } }\\"#.to_owned(),\\n)).await?;\\n```\\n\\nStep 3, stream the messages:\\n\\n```rust\\nloop {\\n    match ws.next().await {\\n        Some(Ok(Message::Text(data))) => {\\n            if data == r#\\"{\\"event\\":\\"heartbeat\\"}\\"# {\\n                continue;\\n            }\\n            println!(\\"{data}\\");\\n        }\\n        Some(Err(e)) => bail!(\\"Socket error: {e}\\"),\\n        None => bail!(\\"Stream ended\\"),\\n        e => bail!(\\"Unexpected message {e:?}\\"),\\n    }\\n}\\n```\\n\\n## 2. Redis / Kafka Stream Producer\\n\\nStep 1, create a `SeaStreamer` instance connecting to Redis / Kafka:\\n\\n```rust\\nlet streamer = SeaStreamer::connect(\\n        \\"redis://localhost\\", SeaConnectOptions::default()\\n    ).await?;\\n```\\n\\nThere are a bunch of different options for [Redis](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisConnectOptions.html) & [Kafka](https://docs.rs/sea-streamer-kafka/0.5.0/sea_streamer_kafka/struct.KafkaConnectOptions.html) respectively, you can refer to SeaStreamer\'s [documentation](https://www.sea-ql.org/SeaStreamer/).\\n\\nStep 2, create a producer:\\n\\n```rust\\nlet producer: SeaProducer = streamer\\n    .create_producer(\\n        \\"GBP_USD\\".parse()?, // Stream Key\\n        Default::default(), // Producer Options\\n    )\\n    .await?;\\n```\\n\\nThere aren\'t any specific options for Producer.\\n\\nStep 3, decode the messages:\\n\\n```rust\\nlet spread: SpreadMessage = serde_json::from_str(&data)?;\\nlet message = serde_json::to_string(&spread)?;\\n```\\n\\nHere, we use the awesome [`serde`](https://crates.io/crates/serde) library to perform message parsing and conversion:\\n\\n```rust\\n// The raw message looks like: [80478222,[\\"1.25475\\",\\"1.25489\\",\\"1714946803.030088\\",\\"949.74917071\\",\\"223.36195920\\"],\\"spread\\",\\"GBP/USD\\"]\\n\\n#[derive(Debug, Serialize, Deserialize)]\\nstruct SpreadMessage {\\n    #[allow(dead_code)]\\n    #[serde(skip_serializing)]\\n    channel_id: u32, // placeholder; not needed\\n    spread: Spread, // nested object\\n    channel_name: String,\\n    pair: String,\\n}\\n\\n#[derive(Debug, Serialize, Deserialize)]\\nstruct Spread {\\n    bid: Decimal,\\n    ask: Decimal,\\n    #[serde(with = \\"timestamp_serde\\")] // custom serde\\n    timestamp: Timestamp,\\n    bid_vol: Decimal,\\n    ask_vol: Decimal,\\n}\\n```\\n\\nStep 4, send the messages:\\n\\n```rust\\nloop {\\n    match ws.next().await {\\n        Some(Ok(Message::Text(data))) => {\\n            let spread: SpreadMessage = serde_json::from_str(&data)?;\\n            let message = serde_json::to_string(&spread)?;\\n            producer.send(message)?; // <--\\n        }\\n    }\\n}\\n```\\n\\nNote that the [`producer.send`](https://docs.rs/sea-streamer/latest/sea_streamer/trait.Producer.html#method.send) call is not `async/await`, and this is a crucial detail! This removes the stream processing bottleneck. Behind the scene, messages will be buffered and handled on a different thread, so that your input stream can run as close to real-time as possible.\\n\\nHere is the complete [`price-feed`](https://github.com/SeaQL/sea-streamer/tree/main/examples/price-feed) app which you can checkout from the SeaStreamer repository:\\n\\n```log\\n$ cd examples/price-feed\\n$ cargo run\\n\\nConnecting ..\\nConnected.\\nSubscribed.\\n{\\"spread\\":{\\"bid\\":\\"1.25495\\",\\"ask\\":\\"1.25513\\",\\"timestamp\\":\\"2024-05-05T16:31:00.961214\\",\\"bid_vol\\":\\"61.50588918\\",\\"ask_vol\\":\\"787.90883861\\"},\\"channel_name\\":\\"spread\\",\\"pair\\":\\"GBP/USD\\"}\\n..\\n```\\n\\n## 3. SQL Data Sink\\n\\nStep 1, create a stream consumer:\\n\\n```rust\\nlet streamer = SeaStreamer::connect(streamer_uri, Default::default()).await?;\\n\\nlet consumer = streamer\\n    .create_consumer(&[stream_key], SeaConsumerOptions::default())\\n    .await?;\\n```\\n\\nThere are a bunch of different options for [Redis](https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisConsumerOptions.html) & [Kafka](https://docs.rs/sea-streamer-kafka/0.5.0/sea_streamer_kafka/struct.KafkaConsumerOptions.html) respectively, you can refer to SeaStreamer\'s [examples](https://github.com/SeaQL/sea-streamer/tree/main/examples/). Here we use the default, which is a real-time state-less stream consumer.\\n\\nStep 2, create a database:\\n\\n```rust\\nlet mut opt = ConnectOptions::new(\\"sqlite://my_db.sqlite?mode=rwc\\"));\\nopt.max_connections(1).sqlx_logging(false);\\nlet db = Database::connect(opt).await?;\\n```\\n\\nWe set `max_connections` to `1`, because our data sink will not do concurrent inserts anyway.\\n\\nHere is the `Entity`:\\n\\n```rust\\n#[derive(Debug, Clone, PartialEq, Eq, DeriveEntityModel, Deserialize)]\\n#[sea_orm(table_name = \\"event\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    #[serde(default)]\\n    pub id: i32,\\n    pub timestamp: String,\\n    pub bid: String,\\n    pub ask: String,\\n    pub bid_vol: String,\\n    pub ask_vol: String,\\n}\\n```\\n\\nThe table shall be named `event` and we derive `Deserialize` on the Model.\\n\\nWe will use the following helper method to create the database table, where the schema is derived from the Entity:\\n\\n```rust\\nasync fn create_tables(db: &DbConn) -> Result<(), DbErr> {\\n    let builder = db.get_database_backend();\\n    let schema = Schema::new(builder);\\n\\n    let stmt = builder.build(\\n        schema.create_table_from_entity(Entity).if_not_exists(),\\n    );\\n    log::info!(\\"{stmt}\\");\\n    db.execute(stmt).await?;\\n\\n    Ok(())\\n}\\n```\\n\\nThis is especially handy for SQLite, where the app owns the database schema. For other databases, you\'d probably use the [SeaORM migration system](https://www.sea-ql.org/SeaORM/docs/next/migration/setting-up-migration/).\\n\\nStep 3, insert the data into database:\\n\\n```rust\\nloop {\\n    let message = consumer.next().await?;\\n    let payload = message.message();\\n    let json = payload.as_str()?;\\n    let item: Item = serde_json::from_str(json)?;\\n    let mut spread = item.spread.into_active_model();\\n    spread.id = NotSet; // let the db assign primary key\\n    spread.save(&db).await?;\\n}\\n```\\n\\nIn a few lines of code, we:\\n\\n1. receive the message from Redis\\n2. decode the message as JSON\\n3. convert the message into a SeaORM Model\\n4. insert the Model into database\\n\\nRun the [`sea-orm-sink`](https://github.com/SeaQL/sea-streamer/tree/main/examples/sea-orm-sink) app in another terminal:\\n\\n```log\\n$ cd examples/sea-orm-sink\\n$ RUST_LOG=info cargo run\\n\\n[INFO  sea_streamer_sea_orm_sink] CREATE TABLE IF NOT EXISTS \\"event\\" ( \\"id\\" integer NOT NULL PRIMARY KEY AUTOINCREMENT, \\"timestamp\\" varchar NOT NULL, \\"bid\\" varchar NOT NULL, \\"ask\\" varchar NOT NULL, \\"bid_vol\\" varchar NOT NULL, \\"ask_vol\\" varchar NOT NULL )\\n[INFO  sea_streamer_sea_orm_sink] {\\"spread\\":{\\"bid\\":\\"1.25495\\",\\"ask\\":\\"1.25513\\",\\"timestamp\\":\\"2024-05-05T16:31:00.961214\\",\\"bid_vol\\":\\"61.50588918\\",\\"ask_vol\\":\\"787.90883861\\"},\\"channel_name\\":\\"spread\\",\\"pair\\":\\"GBP/USD\\"}\\n```\\n\\nThat\'s it! Now you can inspect the data with your favourite database GUI and write some SQL queries:\\n\\n<img alt=\\"screenshot of SQLite database\\" src=\\"/blog/img/2024-05-05-redis-kafka-data-sink-sqlite.png\\"/>\\n\\n## Conclusion\\n\\nIn this article, we covered:\\n\\n1. Micro-services architecture in stream processing\\n2. Async real-time programming in Rust\\n3. The awesomeness of the SeaQL and Rust ecosystem[^2]\\n\\nHere are a few suggestions how you can take it from here:\\n\\n1. Stream the data to a \\"big database\\" like MySQL or Postgres\\n2. Subscribe to more streams and sink to more tables\\n3. Buffer the events and insert the data in batches to achieve higher throughput, further reads:\\n    + https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs\\n    + https://github.com/SeaQL/FireDBG.for.Rust/blob/main/indexer/src/main.rs\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>\\n\\n[^1]: via [SeaORM X](https://www.sea-ql.org/SeaORM-X/)\\n[^2]: [Why Rust?](https://www.sea-ql.org/SeaStreamer/docs/introduction/intro-to-streams/#why-rust)"},{"id":"2024-04-08-whats-new-in-seaorm-1.0-rc.x","metadata":{"permalink":"/preview/pr-154/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x.md","source":"@site/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x.md","title":"What\'s new in SeaORM 1.0-rc.x","description":"This blog post summarizes the new features and enhancements introduced in SeaORM 1.0-rc.x:","date":"2024-04-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":12.95,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2024-04-08-whats-new-in-seaorm-1.0-rc.x","title":"What\'s new in SeaORM 1.0-rc.x","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%201.0-rc%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Building a Redis / Kafka Data Sink","permalink":"/preview/pr-154/blog/2024-05-05-redis-kafka-data-sink"},"nextItem":{"title":"What\'s new in SeaORM 0.12.x","permalink":"/preview/pr-154/blog/2024-01-23-whats-new-in-seaorm-0.12.x"}},"content":"<img alt=\\"SeaORM 1.0-rc Banner\\" src=\\"/blog/img/SeaORM%201.0-rc%20Banner.png\\"/>\\n\\nThis blog post summarizes the new features and enhancements introduced in SeaORM `1.0-rc.x`:\\n\\n+ [1.0.0-rc.1](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.1)\\n+ [1.0.0-rc.2](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.2)\\n+ [1.0.0-rc.3](https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.3)\\n\\n## New Features\\n\\n### Refreshed migration schema definition\\n\\n[#2099](https://github.com/SeaQL/sea-orm/pull/2099) We are aware that SeaORM\'s migration scripts can sometimes look verbose. Thanks to the clever design made by Loco, we\'ve refreshed the schema definition syntax.\\n\\nAn old migration script looks like this:\\n\\n```rust\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .create_table(\\n                Table::create()\\n                    .table(Users::Table)\\n                    .if_not_exists()\\n                    .col(\\n                        ColumnDef::new(Users::Id)\\n                            .integer()\\n                            .not_null()\\n                            .auto_increment()\\n                            .primary_key(),\\n                    )\\n                    .col(ColumnDef::new(Users::Pid).uuid().not_null())\\n                    .col(ColumnDef::new(Users::Email).string().not_null().unique_key())\\n                    // ...\\n    }\\n}\\n```\\n\\nNow, using the new schema helpers, you can define the schema with a simplified syntax!\\n\\n```rust\\n// Remember to import `sea_orm_migration::schema::*`\\nuse sea_orm_migration::{prelude::*, schema::*};\\n\\n#[derive(DeriveMigrationName)]\\npub struct Migration;\\n\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .create_table(\\n                Table::create()\\n                    .table(Users::Table)\\n                    .if_not_exists()\\n                    .col(pk_auto(Users::Id)) // Primary key with auto-increment\\n                    .col(uuid(Users::Pid)) // UUID column\\n                    .col(string_uniq(Users::Email)) // String column with unique and not null constraint\\n                    .col(string(Users::Password)) // String column\\n                    .col(string(Users::ApiKey).unique_key())\\n                    .col(string(Users::Name))\\n                    .col(string_null(Users::ResetToken)) // Nullable string column\\n                    .col(timestamp_null(Users::ResetSentAt)) // Nullable timestamp column\\n                    .col(string_null(Users::EmailVerificationToken))\\n                    .col(timestamp_null(Users::EmailVerificationSentAt))\\n                    .col(timestamp_null(Users::EmailVerifiedAt))\\n                    .to_owned(),\\n            )\\n            .await\\n    }\\n\\n    // ...\\n}\\n```\\n\\nThere are three variants for each commonly used column type:\\n\\n- `<COLUMN_TYPE>()` helper function, e.g. `string()`, define a non-null string column\\n- `<COLUMN_TYPE>_null()` helper function, e.g. `string_null()`, define a nullable string column\\n- `<COLUMN_TYPE>_uniq()` helper function, e.g. `string_uniq()`, define a non-null and unique string column\\n\\nThe new schema helpers can be used by importing `sea_orm_migration::schema::*`. The migration library is fully backward compatible, so there is no rush to migrate old scripts. The new syntax is recommended for new scripts, and all examples in the SeaORM repository have been updated for demonstration. For advanced use cases, the old SeaQuery syntax can still be used.\\n\\n### Reworked SQLite Type Mappings\\n\\n[sea-orm#2077](https://github.com/SeaQL/sea-orm/pull/2077) [sea-query#735](https://github.com/SeaQL/sea-query/pull/735) [sea-schema#117](https://github.com/SeaQL/sea-schema/pull/117) We\'ve reworked the type mappings for SQLite across the SeaQL ecosystem, such that SeaQuery and SeaSchema are now reciprocal to each other. Migrations written with SeaQuery can be rediscovered by `sea-orm-cli` and generate compatible entities! In other words, the roundtrip is complete.\\n\\nData types will be mapped to SQLite types with a custom naming scheme following SQLite\'s affinity rule:\\n\\n* `INTEGER`: `integer`, `tiny_integer`, `small_integer`, `big_integer` and `boolean` are stored as `integer`\\n* `REAL`: `float`, `double`, `decimal` and `money` are stored as `real`\\n* `BLOB`: `blob` and `varbinary_blob` are stored as `blob`\\n* `TEXT`: all other data types are stored as `text`, including `string`, `char`, `text`, `json`, `uuid`, `date`, `time`, `datetime`, `timestamp`, etc.\\n\\nTo illustrate,\\n\\n```rust\\nassert_eq!(\\n    Table::create()\\n        .table(Alias::new(\\"strange\\"))\\n        .col(ColumnDef::new(Alias::new(\\"id\\")).integer().not_null().auto_increment().primary_key())\\n        .col(ColumnDef::new(Alias::new(\\"int1\\")).integer())\\n        .col(ColumnDef::new(Alias::new(\\"int2\\")).tiny_integer())\\n        .col(ColumnDef::new(Alias::new(\\"int3\\")).small_integer())\\n        .col(ColumnDef::new(Alias::new(\\"int4\\")).big_integer())\\n        .col(ColumnDef::new(Alias::new(\\"string1\\")).string())\\n        .col(ColumnDef::new(Alias::new(\\"string2\\")).string_len(24))\\n        .col(ColumnDef::new(Alias::new(\\"char1\\")).char())\\n        .col(ColumnDef::new(Alias::new(\\"char2\\")).char_len(24))\\n        .col(ColumnDef::new(Alias::new(\\"text_col\\")).text())\\n        .col(ColumnDef::new(Alias::new(\\"json_col\\")).json())\\n        .col(ColumnDef::new(Alias::new(\\"uuid_col\\")).uuid())\\n        .col(ColumnDef::new(Alias::new(\\"decimal1\\")).decimal())\\n        .col(ColumnDef::new(Alias::new(\\"decimal2\\")).decimal_len(12, 4))\\n        .col(ColumnDef::new(Alias::new(\\"money1\\")).money())\\n        .col(ColumnDef::new(Alias::new(\\"money2\\")).money_len(12, 4))\\n        .col(ColumnDef::new(Alias::new(\\"float_col\\")).float())\\n        .col(ColumnDef::new(Alias::new(\\"double_col\\")).double())\\n        .col(ColumnDef::new(Alias::new(\\"date_col\\")).date())\\n        .col(ColumnDef::new(Alias::new(\\"time_col\\")).time())\\n        .col(ColumnDef::new(Alias::new(\\"datetime_col\\")).date_time())\\n        .col(ColumnDef::new(Alias::new(\\"boolean_col\\")).boolean())\\n        .col(ColumnDef::new(Alias::new(\\"binary2\\")).binary_len(1024))\\n        .col(ColumnDef::new(Alias::new(\\"binary3\\")).var_binary(1024))\\n        .to_string(SqliteQueryBuilder),\\n    [\\n        r#\\"CREATE TABLE \\"strange\\" (\\"#,\\n            r#\\"\\"id\\" integer NOT NULL PRIMARY KEY AUTOINCREMENT,\\"#,\\n            r#\\"\\"int1\\" integer,\\"#,\\n            r#\\"\\"int2\\" tinyint,\\"#,\\n            r#\\"\\"int3\\" smallint,\\"#,\\n            r#\\"\\"int4\\" bigint,\\"#,\\n            r#\\"\\"string1\\" varchar,\\"#,\\n            r#\\"\\"string2\\" varchar(24),\\"#,\\n            r#\\"\\"char1\\" char,\\"#,\\n            r#\\"\\"char2\\" char(24),\\"#,\\n            r#\\"\\"text_col\\" text,\\"#,\\n            r#\\"\\"json_col\\" json_text,\\"#,\\n            r#\\"\\"uuid_col\\" uuid_text,\\"#,\\n            r#\\"\\"decimal1\\" real,\\"#,\\n            r#\\"\\"decimal2\\" real(12, 4),\\"#,\\n            r#\\"\\"money1\\" real_money,\\"#,\\n            r#\\"\\"money2\\" real_money(12, 4),\\"#,\\n            r#\\"\\"float_col\\" float,\\"#,\\n            r#\\"\\"double_col\\" double,\\"#,\\n            r#\\"\\"date_col\\" date_text,\\"#,\\n            r#\\"\\"time_col\\" time_text,\\"#,\\n            r#\\"\\"datetime_col\\" datetime_text,\\"#,\\n            r#\\"\\"boolean_col\\" boolean,\\"#,\\n            r#\\"\\"binary2\\" blob(1024),\\"#,\\n            r#\\"\\"binary3\\" varbinary_blob(1024)\\"#,\\n        r#\\")\\"#,\\n    ]\\n    .join(\\" \\")\\n);\\n```\\n\\nThe full type mapping table is [documented here](https://docs.rs/sea-query/0.31.0-rc.4/sea_query/table/enum.ColumnType.html):\\n\\n| ColumnType            | MySQL data type   | PostgreSQL data type        | SQLite data type             |\\n|-----------------------|-------------------|-----------------------------|------------------------------|\\n| Char                  | char              | char                        | char                         |\\n| String                | varchar           | varchar                     | varchar                      |\\n| Text                  | text              | text                        | text                         |\\n| TinyInteger           | tinyint           | smallint                    | tinyint                      |\\n| SmallInteger          | smallint          | smallint                    | smallint                     |\\n| Integer               | int               | integer                     | integer                      |\\n| BigInteger            | bigint            | bigint                      | integer                      |\\n| TinyUnsigned          | tinyint unsigned  | smallint                    | tinyint                      |\\n| SmallUnsigned         | smallint unsigned | smallint                    | smallint                     |\\n| Unsigned              | int unsigned      | integer                     | integer                      |\\n| BigUnsigned           | bigint unsigned   | bigint                      | integer                      |\\n| Float                 | float             | real                        | float                        |\\n| Double                | double            | double precision            | double                       |\\n| Decimal               | decimal           | decimal                     | real                         |\\n| DateTime              | datetime          | timestamp without time zone | datetime_text                |\\n| Timestamp             | timestamp         | timestamp                   | timestamp_text               |\\n| TimestampWithTimeZone | timestamp         | timestamp with time zone    | timestamp_with_timezone_text |\\n| Time                  | time              | time                        | time_text                    |\\n| Date                  | date              | date                        | date_text                    |\\n| Year                  | year              | N/A                         | N/A                          |\\n| Interval              | N/A               | interval                    | N/A                          |\\n| Binary                | binary            | bytea                       | blob                         |\\n| VarBinary             | varbinary         | bytea                       | varbinary_blob               |\\n| Bit                   | bit               | bit                         | N/A                          |\\n| VarBit                | bit               | varbit                      | N/A                          |\\n| Boolean               | bool              | bool                        | boolean                      |\\n| Money                 | decimal           | money                       | real_money                   |\\n| Json                  | json              | json                        | json_text                    |\\n| JsonBinary            | json              | jsonb                       | jsonb_text                   |\\n| Uuid                  | binary(16)        | uuid                        | uuid_text                    |\\n| Enum                  | ENUM(...)         | ENUM_NAME                   | enum_text                    |\\n| Array                 | N/A               | DATA_TYPE[]                 | N/A                          |\\n| Cidr                  | N/A               | cidr                        | N/A                          |\\n| Inet                  | N/A               | inet                        | N/A                          |\\n| MacAddr               | N/A               | macaddr                     | N/A                          |\\n| LTree                 | N/A               | ltree                       | N/A                          |\\n\\n## Enhancements\\n\\n* [#2137](https://github.com/SeaQL/sea-orm/pull/2137) `DerivePartialModel` macro attribute `entity` now supports `syn::Type`\\n```rust\\n#[derive(DerivePartialModel)]\\n#[sea_orm(entity = \\"<entity::Model as ModelTrait>::Entity\\")]\\nstruct EntityNameNotAIdent {\\n    #[sea_orm(from_col = \\"foo2\\")]\\n    _foo: i32,\\n    #[sea_orm(from_col = \\"bar2\\")]\\n    _bar: String,\\n}\\n```\\n\\n* [#2146](https://github.com/SeaQL/sea-orm/pull/2146) Added `RelationDef::from_alias()`\\n```rust\\nassert_eq!(\\n    cake::Entity::find()\\n        .join_as(\\n            JoinType::LeftJoin,\\n            cake_filling::Relation::Cake.def().rev(),\\n            cf.clone()\\n        )\\n        .join(\\n            JoinType::LeftJoin,\\n            cake_filling::Relation::Filling.def().from_alias(cf)\\n        )\\n        .build(DbBackend::MySql)\\n        .to_string(),\\n    [\\n        \\"SELECT `cake`.`id`, `cake`.`name` FROM `cake`\\",\\n        \\"LEFT JOIN `cake_filling` AS `cf` ON `cake`.`id` = `cf`.`cake_id`\\",\\n        \\"LEFT JOIN `filling` ON `cf`.`filling_id` = `filling`.`id`\\",\\n    ]\\n    .join(\\" \\")\\n);\\n```\\n\\n* [#1665](https://github.com/SeaQL/sea-orm/pull/1665) [sea-orm-macro] Qualify traits in `DeriveActiveModel` macro\\n* [#2064](https://github.com/SeaQL/sea-orm/pull/2064) [sea-orm-cli] Fix `migrate generate` on empty `mod.rs` files\\n\\n## Breaking Changes\\n\\n* [#2145](https://github.com/SeaQL/sea-orm/pull/2145) Renamed `ConnectOptions::pool_options()` to `ConnectOptions::sqlx_pool_options()`\\n* [#2145](https://github.com/SeaQL/sea-orm/pull/2145) Made `sqlx_common` private, hiding `sqlx_error_to_xxx_err`\\n* MySQL `money` type maps to `decimal`\\n* MySQL `blob` types moved to `extension::mysql::MySqlType`; `ColumnDef::blob()` now takes no parameters\\n```rust\\nassert_eq!(\\n    Table::create()\\n        .table(BinaryType::Table)\\n        .col(ColumnDef::new(BinaryType::BinaryLen).binary_len(32))\\n        .col(ColumnDef::new(BinaryType::Binary).binary())\\n        .col(ColumnDef::new(BinaryType::Blob).custom(MySqlType::Blob))\\n        .col(ColumnDef::new(BinaryType::TinyBlob).custom(MySqlType::TinyBlob))\\n        .col(ColumnDef::new(BinaryType::MediumBlob).custom(MySqlType::MediumBlob))\\n        .col(ColumnDef::new(BinaryType::LongBlob).custom(MySqlType::LongBlob))\\n        .to_string(MysqlQueryBuilder),\\n    [\\n        \\"CREATE TABLE `binary_type` (\\",\\n            \\"`binlen` binary(32),\\",\\n            \\"`bin` binary(1),\\",\\n            \\"`b` blob,\\",\\n            \\"`tb` tinyblob,\\",\\n            \\"`mb` mediumblob,\\",\\n            \\"`lb` longblob\\",\\n        \\")\\",\\n    ]\\n    .join(\\" \\")\\n);\\n```\\n* `ColumnDef::binary()` sets column type as `binary` with default length of `1`\\n* Removed `BlobSize` enum\\n* Added `StringLen` to represent length of `varchar` / `varbinary`\\n```rust\\n/// Length for var-char/binary; default to 255\\npub enum StringLen {\\n    /// String size\\n    N(u32),\\n    Max,\\n    #[default]\\n    None,\\n}\\n```\\n* `ValueType::columntype()` of `Vec<u8>` maps to `VarBinary(StringLen::None)`\\n* `ValueType::columntype()` of `String` maps to `String(StringLen::None)`\\n* `ColumnType::Bit` maps to `bit` for Postgres\\n* `ColumnType::Binary` and `ColumnType::VarBinary` map to `bytea` for Postgres\\n* `Value::Decimal` and `Value::BigDecimal` map to `real` for SQLite\\n* `ColumnType::Year(Option<MySqlYear>)` changed to `ColumnType::Year`\\n\\n## Upgrades\\n\\n* Upgrade `sea-query` to `0.31.0-rc.3`\\n* Upgrade `sea-schema` to `0.15.0-rc.4`\\n* Upgrade `sea-query-binder` to `0.6.0-rc.1`\\n* [#2088](https://github.com/SeaQL/sea-orm/pull/2088) Upgrade `strum` to `0.26`\\n\\n## House Keeping\\n\\n* [#2140](https://github.com/SeaQL/sea-orm/pull/2140) Improved Actix example to return 404 not found on unexpected inputs\\n* [#2154](https://github.com/SeaQL/sea-orm/pull/2154) Deprecated Actix v3 example\\n* [#2136](https://github.com/SeaQL/sea-orm/pull/2136) Re-enabled `rocket_okapi` example\\n\\n## Release Planning\\n\\nIn the [previous release](https://www.sea-ql.org/blog/2024-01-23-whats-new-in-seaorm-0.12.x/#release-planning) of SeaORM, we stated that we want our next release to be `1.0`. We are indeed very close to `1.0` now!\\n\\nWhile `0.12` will still be maintained before `1.0` get finalized, you are welcome to try out `1.0-rc.x` today! There will still be a few minor but still technically breaking changes:\\n\\n1. [#2185](https://github.com/SeaQL/sea-orm/pull/2185) Adding trait const `ARITY` to `PrimaryKeyTrait`, allowing users to write better generic code\\n2. [#2186](https://github.com/SeaQL/sea-orm/pull/2186) Associating `ActiveModel` to `EntityTrait`, allowing users to extend the behaviour of Entities\\n\\nNow is also the perfect time for you to propose breaking changes that\'d have long term impact to SeaORM. After the stablization, we hope that SeaORM can offer a stable API surface that developers can use in production for the years to come.\\n\\nWe\'d not have more than 2 major releases in a year, and each major release will be maintained for at least 1 year. It\'s still tentative, but that\'s what we have in mind for now. Moreoever, it will actually allow us to ship new features more frequently!\\n\\n## SQL Server Support\\n\\nWe\'ve been planning [SQL Server for SeaORM](https://www.sea-ql.org/SeaORM-X/) for a while, but it was put aside in 2023 (which I regretted). Anyway SQL Server support is coming soon! It will first be offered as a closed beta to our partners. If you are interested, please join our [waiting list](https://forms.office.com/r/1MuRPJmYBR).\\n\\n## Sponsor\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n#### Gold Sponsors\\n\\n<a href=\\"https://osmos.io/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos.svg#light\\" width=\\"238\\" />\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark\\" width=\\"238\\" />\\n</a>\\n\\n#### GitHub Sponsors\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/reneklacan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1935686?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Ren\xe9 Kla\u010dan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Iceapinan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2698243?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Apinan I.\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ktanaka101\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/10344925?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Kentaro Tanaka\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Natsuki Ikeguchi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marlon Mueller-Soppart\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/gitmalong\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/18363591?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    ul\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yuly3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/25814001?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    MasakiMiyazaki\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    KallyDev\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/dsgallups\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/44790295?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Daniel Gallups\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/caido\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/78991750?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Caido\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Coolpany-SE\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/96304487?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Coolpany SE\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-01-23-whats-new-in-seaorm-0.12.x","metadata":{"permalink":"/preview/pr-154/blog/2024-01-23-whats-new-in-seaorm-0.12.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-01-23-whats-new-in-seaorm-0.12.x.md","source":"@site/blog/2024-01-23-whats-new-in-seaorm-0.12.x.md","title":"What\'s new in SeaORM 0.12.x","description":"It had been a while since the initial SeaORM 0.12 release. This blog post summarizes the new features and enhancements introduced in SeaORM 0.12.2 through 0.12.12!","date":"2024-01-23T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":9.99,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2024-01-23-whats-new-in-seaorm-0.12.x","title":"What\'s new in SeaORM 0.12.x","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%2012%20Banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 1.0-rc.x","permalink":"/preview/pr-154/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x"},"nextItem":{"title":"SeaQL Community Survey 2023 Results","permalink":"/preview/pr-154/blog/2024-01-18-community-survey-2023"}},"content":"<img alt=\\"SeaORM 0.12 Banner\\" src=\\"/blog/img/SeaORM%2012%20Banner.png\\"/>\\n\\nIt had been a while since the initial [SeaORM 0.12 release](https://www.sea-ql.org/blog/2023-08-12-announcing-seaorm-0.12/). This blog post summarizes the new features and enhancements introduced in SeaORM [`0.12.2`](https://github.com/SeaQL/sea-orm/releases/tag/0.12.2) through [`0.12.12`](https://github.com/SeaQL/sea-orm/releases/tag/0.12.12)!\\n\\n## Celebrating 2M downloads on crates.io \ud83d\udce6\\n\\nWe\'ve just reached the milestone of 2,000,000 all time downloads on [crates.io](https://crates.io/crates/sea-orm). It\'s a testament to SeaORM\'s adoption in professional use. Thank you to all our users for your trust and for being a part of our community.\\n\\n## New Features\\n\\n### Entity format update\\n\\n* [#1898](https://github.com/SeaQL/sea-orm/pull/1898) Add support for root JSON arrays (requires the `json-array` / `postgres-array` feature)! It involved an intricate type system refactor to work around the orphan rule.\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"json_struct_vec\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    #[sea_orm(column_type = \\"Json\\")]\\n    pub struct_vec: Vec<JsonColumn>,\\n}\\n\\n#[derive(Clone, Debug, PartialEq, Eq, Serialize, Deserialize, FromJsonQueryResult)]\\npub struct JsonColumn {\\n    pub value: String,\\n}\\n```\\n\\n* [#2009](https://github.com/SeaQL/sea-orm/pull/2009) Added `comment` attribute for Entity; `create_table_from_entity` now supports comment on MySQL\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"applog\\", comment = \\"app logs\\")]\\npub struct Model {\\n    #[sea_orm(primary_key, comment = \\"ID\\")]\\n    pub id: i32,\\n    #[sea_orm(comment = \\"action\\")]\\n    pub action: String,\\n    pub json: Json,\\n    pub created_at: DateTimeWithTimeZone,\\n}\\n```\\n\\n### Cursor paginator improvements\\n\\n* [#2037](https://github.com/SeaQL/sea-orm/pull/2037) Added descending order to Cursor:\\n\\n```rust\\n// (default behaviour) Before 5 ASC, i.e. id < 5\\n\\nlet mut cursor = Entity::find().cursor_by(Column::Id);\\ncursor.before(5);\\n\\nassert_eq!(\\n    cursor.first(4).all(db).await?,\\n    [\\n        Model { id: 1 },\\n        Model { id: 2 },\\n        Model { id: 3 },\\n        Model { id: 4 },\\n    ]\\n);\\n\\n// (new API) After 5 DESC, i.e. id < 5\\n\\nlet mut cursor = Entity::find().cursor_by(Column::Id);\\ncursor.after(5).desc();\\n\\nassert_eq!(\\n    cursor.first(4).all(db).await?,\\n    [\\n        Model { id: 4 },\\n        Model { id: 3 },\\n        Model { id: 2 },\\n        Model { id: 1 },\\n    ]\\n);\\n```\\n\\n* [#1826](https://github.com/SeaQL/sea-orm/pull/1826) Added cursor support to `SelectTwo`:\\n\\n```rust\\n// Join with linked relation; cursor by first table\'s id\\n\\ncake::Entity::find()\\n    .find_also_linked(entity_linked::CakeToFillingVendor)\\n    .cursor_by(cake::Column::Id)\\n    .before(10)\\n    .first(2)\\n    .all(&db)\\n    .await?\\n\\n// Join with relation; cursor by the 2nd table\'s id \\n\\ncake::Entity::find()\\n    .find_also_related(Fruit)\\n    .cursor_by_other(fruit::Column::Id)\\n    .before(10)\\n    .first(2)\\n    .all(&db)\\n    .await?\\n```\\n\\n### Added \\"proxy\\" to database backend\\n\\n[#1881](https://github.com/SeaQL/sea-orm/pull/1881), [#2000](https://github.com/SeaQL/sea-orm/pull/2000) Added \\"proxy\\" to database backend (requires feature flag `proxy`).\\n\\nIt enables the possibility of using SeaORM on edge / client-side! See the [GlueSQL demo](https://github.com/SeaQL/sea-orm/tree/master/examples/proxy_gluesql_example) for an example.\\n\\n## Enhancements\\n\\n* [#1954](https://github.com/SeaQL/sea-orm/pull/1954) [sea-orm-macro] Added `#[sea_orm(skip)]` to `FromQueryResult` derive macro\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, Deserialize, Serialize, FromQueryResult)]\\npub struct PublicUser {\\n    pub id: i64,\\n    pub name: String,\\n    #[serde(skip_serializing_if = \\"Vec::is_empty\\")]\\n    #[sea_orm(skip)]\\n    pub something: Something,\\n}\\n```\\n\\n* [#1598](https://github.com/SeaQL/sea-orm/pull/1598) [sea-orm-macro] Added support for Postgres arrays in `FromQueryResult` impl of `JsonValue`\\n```rust\\n// existing API:\\n\\nassert_eq!(\\n    Entity::find_by_id(1).one(db).await?,\\n    Some(Model {\\n        id: 1,\\n        name: \\"Collection 1\\".into(),\\n        integers: vec![1, 2, 3],\\n        teas: vec![Tea::BreakfastTea],\\n        colors: vec![Color::Black],\\n    })\\n);\\n\\n// new API:\\n\\nassert_eq!(\\n    Entity::find_by_id(1).into_json().one(db).await?,\\n    Some(json!({\\n        \\"id\\": 1,\\n        \\"name\\": \\"Collection 1\\",\\n        \\"integers\\": [1, 2, 3],\\n        \\"teas\\": [\\"BreakfastTea\\"],\\n        \\"colors\\": [0],\\n    }))\\n);\\n```\\n\\n* [#1828](https://github.com/SeaQL/sea-orm/pull/1828) [sea-orm-migration] Check if an index exists\\n```rust\\nuse sea_orm_migration::prelude::*;\\n#[derive(DeriveMigrationName)]\\npub struct Migration;\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        // ...\\n\\n        // Make sure the index haven\'t been created\\n        assert!(!manager.has_index(\\"cake\\", \\"cake_name_index\\").await?);\\n\\n        manager\\n            .create_index(\\n                Index::create()\\n                    .name(\\"cake_name_index\\")\\n                    .table(Cake::Table)\\n                    .col(Cake::Name)\\n                    .to_owned(),\\n            )\\n            .await?;\\n\\n        Ok(())\\n    }\\n\\n    async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        // ...\\n    }\\n}\\n```\\n\\n* [#2030](https://github.com/SeaQL/sea-orm/pull/2030) Improve query performance of `Paginator`\'s `COUNT` query\\n* [#2055](https://github.com/SeaQL/sea-orm/pull/2055) Added SQLx slow statements logging to `ConnectOptions`\\n* [#1867](https://github.com/SeaQL/sea-orm/pull/1867) Added `QuerySelect::lock_with_behavior`\\n* [#2002](https://github.com/SeaQL/sea-orm/pull/2002) Cast enums in `is_in` and `is_not_in`\\n* [#1999](https://github.com/SeaQL/sea-orm/pull/1999) Add source annotations to errors\\n* [#1960](https://github.com/SeaQL/sea-orm/issues/1960) Implement `StatementBuilder` for `sea_query::WithQuery`\\n* [#1979](https://github.com/SeaQL/sea-orm/pull/1979) Added method `expr_as_` that accepts `self`\\n* [#1868](https://github.com/SeaQL/sea-orm/pull/1868) Loader: use `ValueTuple` as hash key\\n* [#1934](https://github.com/SeaQL/sea-orm/pull/1934) [sea-orm-cli] Added `--enum-extra-derives`\\n* [#1952](https://github.com/SeaQL/sea-orm/pull/1952) [sea-orm-cli] Added `--enum-extra-attributes`\\n* [#1693](https://github.com/SeaQL/sea-orm/pull/1693) [sea-orm-cli] Support generation of related entity with composite foreign key\\n\\n## Bug fixes\\n\\n* [#1855](https://github.com/SeaQL/sea-orm/pull/1855), [#2054](https://github.com/SeaQL/sea-orm/pull/2054) [sea-orm-macro] Qualify types in `DeriveValueType` macro\\n* [#1953](https://github.com/SeaQL/sea-orm/pull/1953) [sea-orm-cli] Fix duplicated active enum use statements on generated entities\\n* [#1821](https://github.com/SeaQL/sea-orm/pull/1821) [sea-orm-cli] Fix entity generation for non-alphanumeric enum variants\\n* [#2071](https://github.com/SeaQL/sea-orm/pull/2071) [sea-orm-cli] Fix entity generation for relations with composite keys\\n* [#1800](https://github.com/SeaQL/sea-orm/issues/1800) Fixed `find_with_related` consolidation logic\\n* [5a6acd67](https://github.com/SeaQL/sea-orm/commit/5a6acd67312601e4dba32896600044950e20f99f) Fixed `Loader` panic on empty inputs\\n\\n## Upgrades\\n\\n* [#1984](https://github.com/SeaQL/sea-orm/pull/1984) Upgraded `axum` example to `0.7`\\n* [#1858](https://github.com/SeaQL/sea-orm/pull/1858) Upgraded `chrono` to `0.4.30`\\n* [#1959](https://github.com/SeaQL/sea-orm/pull/1959) Upgraded `rocket` to `0.5.0`\\n* Upgraded `sea-query` to `0.30.5`\\n* Upgraded `sea-schema` to `0.14.2`\\n* Upgraded `salvo` to `0.50`\\n\\n## House Keeping\\n\\n* [#2057](https://github.com/SeaQL/sea-orm/pull/2057) Fix clippy warnings on 1.75\\n* [#1811](https://github.com/SeaQL/sea-orm/pull/1811) Added test cases for `find_xxx_related/linked`\\n\\n## Release planning\\n\\nIn the [announcement blog post](https://www.sea-ql.org/blog/2023-08-12-announcing-seaorm-0.12/) of SeaORM 0.12, we stated we want to reduce the frequency of breaking releases while maintaining the pace for feature updates and enhancements. I am glad to say we\'ve accomplished that!\\n\\nThere are still a few breaking changes planned for the next major release. After some [discussions](https://github.com/SeaQL/sea-orm/discussions/2031) and consideration, we decided that the next major release will be a release candidate for 1.0!\\n\\n## Sponsor\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our [sponsors](https://github.com/sponsors/SeaQL) \ud83d\ude07:\\n\\n#### Gold Sponsors\\n\\n<a href=\\"https://osmos.io/\\">\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos.svg#light\\" width=\\"238\\" />\\n    <img src=\\"https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark\\" width=\\"238\\" />\\n</a>\\n\\n#### GitHub Sponsors\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?u=2f43900772265deac96eb7a816d28a5a48b9a8dd&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?u=1171ed4ccb6da73b52de274109077686290da3a5&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?u=474c7b31ddf0a5c1a03d1142dd18a300279c644a&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/reneklacan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1935686?u=132be985351312fcf96999daef515f551a93bb0d&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Ren\xe9 Kla\u010dan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Iceapinan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2698243?u=a852c75ac10098b9980f57af298be1399f6de66b&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    IceApinan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?u=031c9ee96b47c27e3a8c485c3c0ebcd4f96120c9&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Jacob Trueb\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ktanaka101\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/10344925?u=a96d92e7cdd73f774b35fd0bc998964c07b24e29&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Kentaro Tanaka\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?u=1a51e0a06690e52982e7594bc7379481e65155a1&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Natsuki Ikeguchi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?u=bef7454cb73c164b2d18e077e5ba6b7891aae3d2&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marlon Mueller-Soppart\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/gitmalong\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/18363591?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    ul\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    KallyDev\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/dsgallups\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/44790295?u=d1c8d2a60930dfbe95497df7fecf52cf5d95dd5f&v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Daniel Gallups\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Coolpany-SE\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/96304487?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Coolpany-SE\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2024-01-18-community-survey-2023","metadata":{"permalink":"/preview/pr-154/blog/2024-01-18-community-survey-2023","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2024-01-18-community-survey-2023.mdx","source":"@site/blog/2024-01-18-community-survey-2023.mdx","title":"SeaQL Community Survey 2023 Results","description":"524 members of the SeaQL community from 41 countries kindly contributed their thoughts on using SeaQL libraries, learning Rust and employing Rust in their day to day development lives.","date":"2024-01-18T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":8.34,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL Team","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4","key":null,"page":null}],"frontMatter":{"slug":"2024-01-18-community-survey-2023","title":"SeaQL Community Survey 2023 Results","author":"Billy Chan","author_title":"SeaQL Team","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","tags":["news"],"toc_max_heading_level":2},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.12.x","permalink":"/preview/pr-154/blog/2024-01-23-whats-new-in-seaorm-0.12.x"},"nextItem":{"title":"OpenUK Award 2023 \ud83c\udfc6","permalink":"/preview/pr-154/blog/2023-11-25-openuk-award"}},"content":"import * as Chart from \'../src/chart-2023.js\';\\n\\n524 members of the SeaQL community from 41 countries kindly contributed their thoughts on using SeaQL libraries, learning Rust and employing Rust in their day to day development lives.\\nFrom these responses we hope to get an understanding of where the SeaQL and Rust community stands in 2023.\\n\\nThis is our first community survey, we will conduct the survey annually to keep track of how the community evolves over time.\\n\\n## Demographics\\n\\n### Q. Where are you located in?\\n\\nParticipants are from 41 countries across the world!\\n\\n<Chart.numCountry>\\n    Other: <Chart.badges items={[\\n        \\"Argentina\\",\\n        \\"Australia\\",\\n        \\"Austria\\",\\n        \\"Belarus\\",\\n        \\"Belgium\\",\\n        \\"Cyprus\\",\\n        \\"Czechia\\",\\n        \\"Denmark\\",\\n        \\"Hungary\\",\\n        \\"Iran\\",\\n        \\"Ireland\\",\\n        \\"Italy\\",\\n        \\"Japan\\",\\n        \\"Kazakstan\\",\\n        \\"Korea\\",\\n        \\"Mongolia\\",\\n        \\"Nigeria\\",\\n        \\"Norway\\",\\n        \\"Peru\\",\\n        \\"Poland\\",\\n        \\"Slovakia\\",\\n        \\"South Africa\\",\\n        \\"Spain\\",\\n        \\"Sweden\\",\\n        \\"Taiwan \\",\\n        \\"Thailand\\",\\n        \\"Turkey\\",\\n        \\"Ukraine\\",\\n    ]} />\\n</Chart.numCountry>\\n\\n## Use of SeaQL Libraries\\n\\n### Q. Are you using SeaQL libraries in building a project?\\n\\n<Chart.numUsingSeaQL />\\n\\n### Q. Which SeaQL libraries are you using in building a project?\\n\\n<Chart.numUsingSeaQLLib>\\n    Other: <Chart.badges items={[\\n        \\"Seaography\\",\\n        \\"SeaStreamer\\",\\n    ]} />\\n</Chart.numUsingSeaQLLib>\\n\\n### Q. Are you using SeaQL libraries in a personal, academic or professional context?\\n\\n<Chart.numUsingContext />\\n\\n### Q. Why did you choose SeaQL libraries?\\n\\n<Chart.whySeaQL>\\n    Other: <Chart.badges items={[\\n        \\"Async support, future proof and good documentation\\",\\n        \\"Good Query Performance\\",\\n        \\"It was recommended on websites and YouTube\\",\\n        \\"Does not use SQL for migrations\\",\\n        \\"Beginner-friendly and easy to get started\\",\\n        \\"Easy to translate from Eloquent ORM knowledge\\",\\n        \\"Can drop in to SeaQuery if necessary\\",\\n        \\"I started with SQLx, then tried SeaQuery\\",\\n        \\"I found good examples on YouTube\\",\\n    ]} />\\n</Chart.whySeaQL>\\n\\n### Q. What qualities of SeaQL libraries do you think are important?\\n\\n<Chart.quality>\\n    Other: <Chart.badges items={[\\n        \\"Simple Syntax\\",\\n        \\"Being able to easily express what you would otherwise be able to write in pure SQL\\",\\n        \\"Migration and entity generation\\",\\n        \\"Clarify of the implementation and usage patterns\\",\\n        \\"Efficient query building especially with relations and joins\\",\\n        \\"Ergonomic API\\",\\n    ]} />\\n</Chart.quality>\\n\\n## Team & Project Nature\\n\\n### Q. How many team members (including you) are working on the project?\\n\\n<Chart.numTeamMember />\\n\\n### Q. Can you categorize the nature of the project?\\n\\n<Chart.projNature>\\n    Other: <Chart.badges items={[\\n        \\"Forecasting\\",\\n        \\"Financial trading\\",\\n        \\"Enterprise Resource Planning (ERP)\\",\\n        \\"Fintech\\",\\n        \\"Cloud infrstructure automation\\",\\n        \\"Backend for desktop, mobile and web application\\",\\n    ]} />\\n</Chart.projNature>\\n\\n## Tech Stack\\n\\n### Q. What is your development environment?\\n\\n<Chart.devEnv />\\n\\n### Linux Breakdown\\n\\n<Chart.devEnvLinux />\\n\\n### Windows Breakdown\\n\\n<Chart.devEnvWin />\\n\\n### macOS Breakdown\\n\\n<Chart.devEnvMac />\\n\\n### Q. Which database(s) do you use?\\n\\n<Chart.db />\\n\\n### Q. Which web framework are you using?\\n\\n<Chart.webFramework />\\n\\n### Q. What is the deployment environment?\\n\\n<Chart.deployEnv />\\n\\n## Rust at Work\\n\\n### Q. Are you using Rust at work?\\n\\n<Chart.useRust />\\n\\n### Q. Which industry your company is in?\\n\\n<Chart.industry />\\n\\n#### Vague description of the company\\n\\n<Chart.badges items={[\\n    \\"A banking company\\",\\n    \\"A business to business lending platform\\",\\n    \\"A cloud Storage\\",\\n    \\"A consulting company\\",\\n    \\"A cybersecurity management platform\\",\\n    \\"An IT solution company\\",\\n    \\"An E-Commerce clothing store\\",\\n    \\"A children entertainmets company\\",\\n    \\"A factory construction management platform\\",\\n    \\"A fintech startup\\",\\n    \\"A geology technology company\\",\\n    \\"A publicly traded health-tech company\\",\\n    \\"A private restaurant chain\\",\\n    \\"An industrial IoT for heating and water distributions\\",\\n    \\"An internet provider\\",\\n    \\"A nonprofit tech research organization\\",\\n    \\"A payment service provider\\",\\n    \\"A road intelligence company\\",\\n    \\"A SaaS startup\\",\\n    \\"A server hosting provider\\",\\n    \\"A DevOps platform that helps our users scale their Kubernetes application\\",\\n    \\"An Automotive company\\",\\n]} />\\n\\n### Q. What is the size of your company?\\n\\n<Chart.companySize />\\n\\n### Q. How many engineers in your company are dedicated to writing Rust?\\n\\n<Chart.engineer />\\n\\n### Q. Which layer(s) of the technology stack are using Rust?\\n\\n<Chart.techStack />\\n\\n## Learning Rust\\n\\n### Q. Are you learning / new to Rust?\\n\\n<Chart.learningRust />\\n\\n### Q. Which language(s) are you most familiar with?\\n\\n<Chart.familiarLanguage />\\n\\n### Q. Are you familiar with SQL?\\n\\n<Chart.familiarWithSql />\\n\\n### Q. Do you find Rust easy or hard to learn?\\n\\n<Chart.hardToLearn />\\n\\n### Q. What motivates you to learn Rust?\\n\\n<Chart.motivation>\\n    Other: <Chart.badges items={[\\n        \\"Ability to develop fast, secure and standalone API driven tools\\",\\n        \\"Efficiency, safety, low resource usage\\",\\n        \\"Good design decisions from the start\\",\\n        \\"Reliability and ease of development\\",\\n        \\"School makes me to learn\\",\\n        \\"Rust is too cool\\",\\n        \\"The ecosystem of libraries + general competence of lib authors\\",\\n        \\"It is the most loved language\\",\\n        \\"The guarantees Rust provides\\",\\n        \\"Learning something new\\",\\n        \\"Type safety and speed\\",\\n        \\"Want to get away from NULL\\",\\n        \\"No boilerplate, if you do not want it\\",\\n        \\"Performance\\",\\n    ]} />\\n</Chart.motivation>\\n\\n### Q. What learning resources do you rely on?\\n\\n<Chart.learningResource>\\n    Other: <Chart.badges items={[\\n        \\"YouTube\\",\\n        \\"Online Courses\\",\\n        \\"ChatGPT\\",\\n    ]} />\\n</Chart.learningResource>\\n\\n### Q. What is your first project built using Rust?\\n\\n<Chart.firstProj>\\n    Other: <Chart.badges items={[\\n        \\"Chatbot\\",\\n        \\"Scraper\\",\\n        \\"Rasterization of the mandelbrot set\\",\\n        \\"IoT\\",\\n        \\"Library\\",\\n    ]} />\\n</Chart.firstProj>\\n\\n## What\'s Next\\n\\n### Q. Which aspects do you want to see advancement on SeaORM?\\n\\nThank you for all the suggestions, we will certainly take them into account!\\n\\n<Chart.advancement>\\n    Other: <Chart.badges items={[\\n        \\"Full MySQL coverage\\",\\n        \\"MS SQL Server support\\",\\n        \\"Structured queries for complex joins\\",\\n        \\"A stable release\\",\\n        \\"Data seeding\\",\\n        \\"Migrations based on Entity diffs\\",\\n        \\"Type safety\\",\\n        \\"Support tables without primary key\\",\\n        \\"Turso integration\\",\\n        \\"Fetching nested structures\\",\\n        \\"Views\\",\\n    ]} />\\n</Chart.advancement>\\n\\n### Q. What tools would you be interested in using, if developed first-party by SeaQL?\\n\\n<Chart.firstPartySupport>\\n    Other: <Chart.badges items={[\\n        \\"An API integration testing utility\\",\\n        \\"An oso-based authorization integration\\",\\n        \\"A visual tool for managing migrations\\",\\n        \\"Database layout editor (like dbdiagram.io)\\",\\n    ]} />\\n</Chart.firstPartySupport>\\n\\n## Share Your Thoughts\\n\\n### Q. Anything else you want to say?\\n\\nDidn\'t expect this section to turn into a testimonial, thank you for all the kind words :)\\n\\n> Good job yall\\n\\n> Great projects, thanks for your hard work\\n\\n> I expect it to be an asynchronous type-safe library. Keep up the good work!\\n\\n> I\'d like to see entity generation without a database\\n\\n> The website, support from JetBrains, the documentation and the release cycle are very nice!\\n\\n> I\'m very interested in how SeaORM will continue evolving and I would like to wish you the best of luck!\\n\\n> I\'ve found SeaORM very useful and I\'m very grateful to the development team for creating and maintaining it!\\n\\n> In TypeORM I can write entities and then generate migration from them. It\'s very handy. It helps to increase development speed. It would be nice to have this functionality in SeaORM.\\n\\n> It needs to have better integration with SeaQuery, I sometimes need to get to it because not all features are available in SeaORM which makes it a pain.\\n\\n> Keep the good work!\\n\\n> Keep going! Love SeaORM!\\n\\n> Keep up the great work. Rust needs a fast, ergonomic and reliable ORM.\\n\\n> SeaORM is very powerful, but the rust docs and tutorial examples could be more fleshed out.\\n\\n> SeaORM is an awesome library. Most things are quite concise and therefore straightforward. Simply a few edge cases concerning DB specific types and values could be better.\\n\\n> The trait system is too complex and coding experience is not pretty well with that.\\n\\n> Automatic migration generation would make the library pretty much perfect in my opinion.\\n\\n> SeaQL tutorials could be better. Much more detailed explanation and definitely it has to have best practices section for Design Patterns like and good best practices related with clean architecture.\\n\\n> SeaQL are great products and it\u2019s very enjoyable using them\\n\\n> Thank you!\\n\\n> Thank you for awesome library!\\n\\n> Thank you for this wonderful project. I feel the documentation lacks examples for small functions and usage of some obscure features.\\n\\n> Thank you for your hard work!\\n\\n> Thank you for your work on SeaQL, your efforts are appreciated \\n\\n> Thank you for your work, we are seeking actively to include SeaORM in our projects\\n\\n> Thank you very much for your work!\\n\\n> Thanks a lot for the amazing work you guys put into this set of libraries. This is an amazing development for the rust ecosystem.\\n\\n> Thanks and keep up the good work.\\n\\n> Thanks for a great tool!\\n\\n> Thanks for all the amazing work.\\n\\n> Thanks for making SeaORM!\\n\\n> The project I am doing for work is only a prototype, it\'s a new implementation of a current Python forecasting project which uses a pandas and a custom psycopg2 orm. My intent is to create a faster/dev friendly version with SeaORM and Polars. I am hoping to eventually get a prototype I can display to my team to get a go ahead to fully develop a new version, and to migrate 4-5 other forecasting apps using shared libraries for io and calculations.\\n\\n> I have also been using SeaORM for a small API client for financial data, which I may make open source.\\n\\n> I think one thing which could really improve SeaORM is some more advance examples in the documentation section. The docs are really detailed as far as rust documentation goes.\\n\\n> Very promising project, keep it up.\\n\\n> Thank you so much for taking it upon yourselves to selflessly give your free time. It probably doesn\'t matter much, but thank you so much for your work. SeaORM is a fantastic tool that I can see myself using for a long time to come. I hope to make contributions in any form when I am under better circumstances :3 Kudos to the team!\\n\\n> \u4f60\u4eec\u7684\u5e93\u975e\u5e38\u7684\u68d2\uff0c\u81f3\u5c11\u6211\u89c9\u5f97\u6bd4Diesel\u597d\u592a\u591a\u4e86\uff0c\u5165\u95e8\u7b80\u5355\uff0c\u5bf9\u65b0\u624b\u975e\u5e38\u53cb\u597d\uff0c\u8fd9\u662f\u6700\u5927\u7684\u4eae\u70b9\uff0c\u5176\u6b21\u662f\u5e93\u8c8c\u4f3c\u53ef\u4ee5\u5b9e\u73b0\u5f88\u590d\u6742\u7684Join SQL\u903b\u8f91\u800c\u4e0d\u7528\u5199\u539f\u751f\u7684SQL\uff0c\u8fd9\u70b9\u4e5f\u662f\u975e\u5e38\u503c\u5f97\u70b9\u8d5e\u7684\uff0c\u4f46\u662f\u5728\u8fd9\u5757\u7684\u6587\u6863\u8c8c\u4f3c\u5199\u7684\u6709\u70b9\u7b80\u7565\u4e86\uff0c\u5e0c\u671b\u53ef\u4ee5\u4e30\u5bcc\u4e00\u4e0b\u6587\u6863\u5185\u5bb9\uff0c\u5bf9\u4e8e\u590d\u6742\u67e5\u8be2\u7684\u8bf4\u660e\u53ef\u4ee5\u66f4\u52a0\u8be6\u7ec6\u4e00\u4e9b\uff0c\u8fd9\u6837\u5c31\u518d\u597d\u4e0d\u8fc7\u4e86\u3002\u8c22\u8c22\u4f60\u4eec\uff0c\u6211\u4f1a\u6301\u7eed\u5173\u6ce8\u4f60\u4eec\uff0c\u672a\u6765\u7684\u9879\u76ee\u5982\u679c\u6d89\u53caORM\uff0c\u90a3\u7edd\u5bf9\u975e\u4f60\u4eec\u83ab\u5c5e\u4e86\uff01\\n\\n## Rustacean Sticker Pack \ud83e\udd80\\n\\nThe Rustacean Sticker Pack is the perfect way to express your passion for Rust.\\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish.\\nStick them on your laptop, notebook, or any gadget to show off your love for Rust!\\n\\nMoreover, all proceeds contributes directly to the ongoing development of SeaQL projects.\\n\\nSticker Pack Contents:\\n- Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG\\n- Mascot of SeaQL: Terres the Hermit Crab\\n- Mascot of Rust: Ferris the Crab\\n- The Rustacean word\\n\\n[Support SeaQL and get a Sticker Pack!](https://www.sea-ql.org/sticker-pack/)\\n\\n<a href=\\"https://www.sea-ql.org/sticker-pack/\\"><img style={{borderRadius: \\"25px\\"}} alt=\\"Rustacean Sticker Pack by SeaQL\\" src=\\"https://www.sea-ql.org/static/sticker-pack-1s.jpg\\" /></a>"},{"id":"2023-11-25-openuk-award","metadata":{"permalink":"/preview/pr-154/blog/2023-11-25-openuk-award","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-11-25-openuk-award.md","source":"@site/blog/2023-11-25-openuk-award.md","title":"OpenUK Award 2023 \ud83c\udfc6","description":"It is our honour to have been awarded by OpenUK for the 2023 Award in the Software category! The award ceremony was a very memorable experience. A huge thanks to Red Badger who sponsored the software award.","date":"2023-11-25T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":0.89,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2023-11-25-openuk-award","title":"OpenUK Award 2023 \ud83c\udfc6","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaQL Community Survey 2023 Results","permalink":"/preview/pr-154/blog/2024-01-18-community-survey-2023"},"nextItem":{"title":"Writing Async Runtime Generic Library","permalink":"/preview/pr-154/blog/2023-11-22-async-runtime-generic"}},"content":"<img src=\\"https://www.sea-ql.org/blog/img/openuk-software-seaql.jpg\\"/>\\n\\nIt is our honour to have been awarded by [OpenUK for the 2023 Award](https://openuk.uk/awards/) in the Software category! The award ceremony was a very memorable experience. A huge thanks to [Red Badger](https://red-badger.com/) who sponsored the software award.\\n\\nIn 2023, we released SeaStreamer, two major versions of SeaORM, a new version of Seaography, and have been busy working on a new project on the side.\\n\\nWe reached the milestone of 5k GitHub stars and 2M crates.io downloads mid-year.\\n\\nIn the summer, we took in two interns for our 3rd summer of code.\\n\\nWe plan to offer internships tailored to UK students in 2024 through university internship programs. As always, we welcome contributors from all over the world, and may be we will enrol on GSoC 2024 again. (but open-source is not bounded any schedule, so you can start contributing anytime)\\n\\nA big thanks to our sponsors who continued to support us, and we look forward to a more impactful 2024."},{"id":"2023-11-22-async-runtime-generic","metadata":{"permalink":"/preview/pr-154/blog/2023-11-22-async-runtime-generic","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-11-22-async-runtime-generic.md","source":"@site/blog/2023-11-22-async-runtime-generic.md","title":"Writing Async Runtime Generic Library","description":"If you are writing an async application in Rust, at some point you\'d want to separate the code into several crates. There are some benefits:","date":"2023-11-22T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":3.9,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2023-11-22-async-runtime-generic","title":"Writing Async Runtime Generic Library","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"OpenUK Award 2023 \ud83c\udfc6","permalink":"/preview/pr-154/blog/2023-11-25-openuk-award"},"nextItem":{"title":"What\'s new in SeaStreamer 0.3","permalink":"/preview/pr-154/blog/2023-09-06-whats-new-in-sea-streamer-0.3"}},"content":"If you are writing an async application in Rust, at some point you\'d want to separate the code into several crates. There are some benefits:\\n\\n1. Better encapsulation. Having a crate boundary between sub-systems can lead to cleaner code and a more well-defined API. No more `pub(crate)`!\\n2. Faster compilation. By breaking down a big crate into several independent small crates, they can be compiled concurrently.\\n\\nBut the question is, if you are using only one async runtime anyway, what are the benefits of writing async-runtime-generic libraries?\\n\\n1. Portability. You can easily switch to a different async runtime, or wasm.\\n2. Correctness. Testing a library against both `tokio` and `async-std` can uncover more bugs, including concurrency bugs (due to fuzzy task execution orders) and \\"undefined behaviour\\" either due to misunderstanding or async-runtime implementation details\\n\\nSo now you\'ve decided to write async-runtime-generic libraries! Here I want to share 3 strategies along with examples found in the Rust ecosystem.\\n\\n### Approach 1: Defining your own `AsyncRuntime` trait\\n\\nUsing the [`futures`](https://docs.rs/futures/latest/futures/) crate you can write very generic library code, but there is one missing piece: `time` - to `sleep` or `timeout`, you have to rely on an async runtime. If that\'s all you need, you can define your own `AsyncRuntime` trait and requires downstream to implement it. This is the approach used by [rdkafka](https://docs.rs/rdkafka/latest/rdkafka/):\\n\\n```rust\\npub trait AsyncRuntime: Send + Sync + \'static {\\n    type Delay: Future<Output = ()> + Send;\\n\\n    /// It basically means the return value must be a `Future`\\n    fn sleep(duration: Duration) -> Self::Delay;\\n}\\n```\\n\\nHere is how it\'s implemented:\\n\\n```rust\\nimpl AsyncRuntime for TokioRuntime {\\n    type Delay = tokio::time::Sleep;\\n\\n    fn sleep(duration: Duration) -> Self::Delay {\\n        tokio::time::sleep(duration)\\n    }\\n}\\n```\\n\\nLibrary code to use the above:\\n\\n```rust\\nasync fn operation<R: AsyncRuntime>() {\\n    R::sleep(Duration::from_millis(1)).await;\\n}\\n```\\n\\n### Approach 2: Abstract the async runtimes internally and expose feature flags\\n\\nThis is the approach used by [redis-rs](https://docs.rs/redis/latest/redis/).\\n\\nTo work with network connections or file handle, you can use the `AsyncRead` / `AsyncWrite` traits:\\n\\n```rust\\n#[async_trait]\\npub(crate) trait AsyncRuntime: Send + Sync + \'static {\\n    type Connection: AsyncRead + AsyncWrite + Send + Sync + \'static;\\n\\n    async fn connect(addr: SocketAddr) -> std::io::Result<Self::Connection>;\\n}\\n```\\n\\nThen you\'ll define a module for each async runtime:\\n\\n```rust\\n#[cfg(feature = \\"runtime-async-std\\")]\\nmod async_std_impl;\\n#[cfg(feature = \\"runtime-async-std\\")]\\nuse async_std_impl::*;\\n\\n#[cfg(feature = \\"runtime-tokio\\")]\\nmod tokio_impl;\\n#[cfg(feature = \\"runtime-tokio\\")]\\nuse tokio_impl::*;\\n```\\n\\nWhere each module would look like:\\n\\n```rust title=\\"tokio_impl.rs\\"\\n#[async_trait]\\nimpl AsyncRuntime for TokioRuntime {\\n    type Connection = tokio::net::TcpStream;\\n\\n    async fn connect(addr: SocketAddr) -> std::io::Result<Self::Connection> {\\n        tokio::net::TcpStream::connect(addr).await\\n    }\\n}\\n```\\n\\nLibrary code to use the above:\\n\\n```rust\\nasync fn operation<R: AsyncRuntime>(conn: R::Connection) {\\n    conn.write(b\\"some bytes\\").await;\\n}\\n```\\n\\n### Approach 3: Maintain an async runtime abstraction crate\\n\\nThis is the approach used by [SQLx](https://docs.rs/crate/sqlx-rt) and [SeaStreamer](https://docs.rs/sea-streamer-runtime/latest/sea_streamer_runtime/).\\n\\nBasically, aggregate all async runtime APIs you\'d use and write a wrapper library. This may be tedious, but this also has the benefit of specifying *all interactions* with the async runtime *in one place* for *your* project, which could be handy for debugging or tracing.\\n\\nFor example, async `Task` handling:\\n\\n```rust title=\\"common-async-runtime/tokio_task.rs\\"\\npub use tokio::task::{JoinHandle as TaskHandle};\\n\\npub fn spawn_task<F, T>(future: F) -> TaskHandle<T>\\nwhere\\n    F: Future<Output = T> + Send + \'static,\\n    T: Send + \'static,\\n{\\n    tokio::task::spawn(future)\\n}\\n```\\n\\n`async-std`\'s task API is slightly different (in `tokio` the output is `Result<T, JoinError>`), which requires some boilerplate:\\n\\n```rust title=\\"common-async-runtime/async_std_task.rs\\"\\n/// A shim to match tokio\'s API\\npub struct TaskHandle<T>(async_std::task::JoinHandle<T>);\\n\\npub fn spawn_task<F, T>(future: F) -> TaskHandle<T>\\nwhere\\n    F: Future<Output = T> + Send + \'static,\\n    T: Send + \'static,\\n{\\n    TaskHandle(async_std::task::spawn(future))\\n}\\n\\n#[derive(Debug)]\\npub struct JoinError;\\n\\nimpl std::error::Error for JoinError {}\\n\\n// This is basically how you wrap a `Future`\\nimpl<T> Future for TaskHandle<T> {\\n    type Output = Result<T, JoinError>;\\n\\n    fn poll(\\n        mut self: std::pin::Pin<&mut Self>,\\n        cx: &mut std::task::Context<\'_>,\\n    ) -> std::task::Poll<Self::Output> {\\n        match self.0.poll_unpin(cx) {\\n            std::task::Poll::Ready(res) => std::task::Poll::Ready(Ok(res)),\\n            std::task::Poll::Pending => std::task::Poll::Pending,\\n        }\\n    }\\n}\\n```\\n\\nIn the library\'s `Cargo.toml`, you can simply include `common-async-runtime` as dependency. This makes your library code \'pure\', because now selecting an async runtime is controlled by downstream. Similar to approach 1, this crate can be compiled *without any* async runtime, which is neat!\\n\\n### Conclusion\\n\\nHappy hacking! Welcome to share your experience with the [community](https://github.com/SeaQL/sea-streamer/discussions)."},{"id":"2023-09-06-whats-new-in-sea-streamer-0.3","metadata":{"permalink":"/preview/pr-154/blog/2023-09-06-whats-new-in-sea-streamer-0.3","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-09-06-whats-new-in-sea-streamer-0.3.md","source":"@site/blog/2023-09-06-whats-new-in-sea-streamer-0.3.md","title":"What\'s new in SeaStreamer 0.3","description":"\ud83c\udf89 We are pleased to release SeaStreamer 0.3.x!","date":"2023-09-06T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.49,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2023-09-06-whats-new-in-sea-streamer-0.3","title":"What\'s new in SeaStreamer 0.3","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Writing Async Runtime Generic Library","permalink":"/preview/pr-154/blog/2023-11-22-async-runtime-generic"},"nextItem":{"title":"Announcing SeaORM 0.12","permalink":"/preview/pr-154/blog/2023-08-12-announcing-seaorm-0.12"}},"content":"<a href=\\"https://www.sea-ql.org/SeaStreamer/\\"><img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" /></a>\\n\\n\ud83c\udf89 We are pleased to release SeaStreamer [`0.3.x`](https://github.com/SeaQL/sea-streamer/releases/0.3.0)!\\n\\n## File Backend\\n\\nA major addition in SeaStreamer `0.3` is the file backend. It implements the same high-level MPMC API, enabling streaming to and from files. There are different use cases. For example, it can be used to dump data from Redis / Kafka and process them locally, or as an intermediate file format for storage or transport.\\n\\nThe SeaStreamer File format, `.ss` is pretty simple. It\'s very much like `.ndjson`, but binary. The file format is designed with the following goals:\\n\\n1. Binary data support without encoding overheads\\n2. Efficiency in rewinding / seeking through a large dump\\n3. Streaming-friendliness - File can be truncated without losing integrity\\n\\nLet me explain in details.\\n\\nFirst of all, SeaStreamer File is a container format. It only concerns the message stream and framing, not the payload. It\'s designed to be paired with a binary message format like Protobuf or BSON.\\n\\n### Encode-free\\n\\nJSON and CSV are great plain text file formats, but they are not binary friendly. Usually, to encode binary data, one would use `base64`. It therefore imposes an expensive encoding / decoding overhead. In a binary protocol, *delimiters* are frequently used to signal message boundaries. As a consequence, byte stuffing is needed to escape the bytes.\\n\\nIn SeaStreamer, we want to avoid the encoding overhead entirely. The payload should be written to disk verbatim. So the file format revolves around constructing message frames and placing checksums to ensure that data is interpreted correctly.\\n\\n### Efficient seek\\n\\nA delimiter-based protocol has an advantage: the byte stream can be randomly sought, and we always have no trouble reading the next message.\\n\\nSince SeaStreamer does not rely on delimiters, we can\'t easily align to message frames after a random seek. We solve this problem by placing beacons in a regular interval at fixed locations throughout the file. E.g. say the `beacon interval` is `1024`, there will be a beacon at the 1024th byte, the 2048th, and so on. Then, every time we want to seek to a random location, we\'d seek to the closest N * 1024 byte and read from there.\\n\\nThese beacons also double as indices: they contain summaries of the individual streams. So given a particular stream key and sequence number (or timestamp) to search for, SeaStreamer can quickly locate the message *just by* reading the beacons. It doesn\'t matter if the stream\'s messages are sparse!\\n\\n### Streaming-friendliness\\n\\nIt should always be safe to truncate files. It should be relatively easy to split a file into chunks. We should be able to tell if the data is corrupted.\\n\\nSeaStreamer achieves this by computing a checksum for every message, and also the running checksum of the checksums for each stream. It\'s not enforced right now, but in theory we can detect if any messages are missing from a stream.\\n\\n#### Summary\\n\\nThis file format is also easy to implement in different languages, as we just made an (experimental) [reader in Typescript](https://github.com/SeaQL/sea-streamer/tree/main/sea-streamer-file/sea-streamer-file-reader).\\n\\nThat\'s it! If you are interested, you can go and take a look at the [format description](https://docs.rs/sea-streamer-file/latest/sea_streamer_file/format/index.html).\\n\\n## Redis Backend\\n\\nRedis Streams are underrated! They have high throughput and concurrency, and are best suited for non-persistent stream processing near or on the same host as the application.\\n\\nThe obstacle is probably in library support. Redis Streams\' API is rather low level, and there aren\'t many high-level libraries to help with programming, as opposed to Kafka, which has versatile official programming libraries.\\n\\nThe pitfall is, it\'s not easy to maximize concurrency with the raw Redis API. To start, you\'d need to pipeline `XADD` commands. You\'d also need to time and batch `XACK`s so that it does not block reads and computation. And of course you want to separate the reads and writes on different threads.\\n\\nSeaStreamer breaks these obstacles for you and offers a Kafka-like API experience!\\n\\n## Benchmark\\n\\nIn `0.3`, we have done some optimizations to improve the throughput of the Redis and File backend. We set our initial benchmark at 100k messages per second, which hopefully we can further improve over time.\\n\\nOur [micro benchmark](https://github.com/SeaQL/sea-streamer/tree/main/benchmark) involves a simple program producing or consuming 100k messages, where each message has a payload of 256 bytes.\\n\\nFor Redis, it\'s running on the same computer in Docker. On my not-very-impressive laptop with a 10th Gen Intel Core i7, the numbers are somewhat around:\\n\\n#### Producer\\n\\n```\\nredis    0.5s\\nstdio    0.5s\\nfile     0.5s\\n```\\n\\n#### Consumer\\n\\n```\\nredis    1.0s\\nstdio    1.0s\\nfile     1.1s\\n```\\n\\nIt practically means that we are comfortably in the realm of *producing* 100k messages per second, but are just about able to *consume* 100k messages in 1 second. Suggestions to performance improvements are welcome!\\n\\n## Community\\n\\nSeaQL.org is an independent open-source organization run by passionate \ufe0fdevelopers. If you like our projects, please star \u2b50 and share our repositories. If you feel generous, a small donation via [GitHub Sponsor](https://github.com/sponsors/SeaQL) will be greatly appreciated, and goes a long way towards sustaining the organization \ud83d\udea2.\\n\\nSeaStreamer is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future \ud83e\udd80."},{"id":"2023-08-12-announcing-seaorm-0.12","metadata":{"permalink":"/preview/pr-154/blog/2023-08-12-announcing-seaorm-0.12","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-08-12-announcing-seaorm-0.12.md","source":"@site/blog/2023-08-12-announcing-seaorm-0.12.md","title":"Announcing SeaORM 0.12","description":"\ud83c\udf89 We are pleased to announce SeaORM 0.12 today!","date":"2023-08-12T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":10.6,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2023-08-12-announcing-seaorm-0.12","title":"Announcing SeaORM 0.12","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaStreamer 0.3","permalink":"/preview/pr-154/blog/2023-09-06-whats-new-in-sea-streamer-0.3"},"nextItem":{"title":"Introducing SeaStreamer \ud83c\udf0a","permalink":"/preview/pr-154/blog/2023-04-03-intro-sea-streamer"}},"content":"<img alt=\\"SeaORM 0.12 Banner\\" src=\\"/blog/img/SeaORM%2012%20Banner.png\\"/>\\n\\n\ud83c\udf89 We are pleased to announce SeaORM [`0.12`](https://github.com/SeaQL/sea-orm/releases/tag/0.12.1) today!\\n\\nWe still remember the time when we first [introduced SeaORM](https://www.sea-ql.org/blog/2021-09-20-introducing-sea-orm/) to the Rust community two years ago. We set out a goal to enable developers to build asynchronous database-driven applications in Rust.\\n\\nToday, many open-source projects, [a handful of startups](https://www.sea-ql.org/SeaORM/index.html#our-users) and many more closed-source projects are using SeaORM. Thank you all who participated and contributed in the making!\\n\\n<img alt=\\"SeaORM Star History\\" src=\\"/blog/img/star-history-sea-orm-2023.png\\"/>\\n\\n## New Features \ud83c\udf1f\\n\\n### \ud83e\udded [Seaography](https://github.com/SeaQL/seaography): GraphQL integration (preview)\\n\\n<img alt=\\"Seaography example\\" src=\\"/blog/img/Seaography%20example.png\\"/>\\n\\nSeaography is a GraphQL framework built on top of SeaORM. In `0.12`, Seaography integration is built into `sea-orm`.\\nSeaography allows you to build GraphQL resolvers quickly. With just a few commands, you can launch a GraphQL server from SeaORM entities!\\n\\nWhile Seaography development is still in an early stage, it is especially useful in prototyping and building internal-use admin panels.\\n\\n[Read the documentation](https://www.sea-ql.org/SeaORM/docs/seaography/seaography-intro/) to learn more.\\n\\n### Added macro [`DerivePartialModel`](https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DerivePartialModel.html)\\n\\n[#1597](https://github.com/SeaQL/sea-orm/pull/1597) Now you can easily perform custom select to query only the columns you needed\\n\\n```rust\\n#[derive(DerivePartialModel, FromQueryResult)]\\n#[sea_orm(entity = \\"Cake\\")]\\nstruct PartialCake {\\n    name: String,\\n    #[sea_orm(\\n        from_expr = r#\\"SimpleExpr::FunctionCall(Func::upper(Expr::col((Cake, cake::Column::Name))))\\"#\\n    )]\\n    name_upper: String,\\n}\\n\\nassert_eq!(\\n    cake::Entity::find()\\n        .into_partial_model::<PartialCake>()\\n        .into_statement(DbBackend::Sqlite)\\n        .to_string(),\\n    r#\\"SELECT \\"cake\\".\\"name\\", UPPER(\\"cake\\".\\"name\\") AS \\"name_upper\\" FROM \\"cake\\"\\"#\\n);\\n```\\n\\n### Added [`Select::find_with_linked`](https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.Select.html#method.find_with_linked)\\n\\n[#1728](https://github.com/SeaQL/sea-orm/pull/1728), [#1743](https://github.com/SeaQL/sea-orm/pull/1743) Similar to `find_with_related`, you can now select related entities and consolidate the models.\\n\\n```rust\\n// Consider the following link\\npub struct BakedForCustomer;\\n\\nimpl Linked for BakedForCustomer {\\n    type FromEntity = Entity;\\n\\n    type ToEntity = super::customer::Entity;\\n\\n    fn link(&self) -> Vec<RelationDef> {\\n        vec![\\n            super::cakes_bakers::Relation::Baker.def().rev(),\\n            super::cakes_bakers::Relation::Cake.def(),\\n            super::lineitem::Relation::Cake.def().rev(),\\n            super::lineitem::Relation::Order.def(),\\n            super::order::Relation::Customer.def(),\\n        ]\\n    }\\n}\\n\\nlet res: Vec<(baker::Model, Vec<customer::Model>)> = Baker::find()\\n    .find_with_linked(baker::BakedForCustomer)\\n    .order_by_asc(baker::Column::Id)\\n    .all(db)\\n    .await?\\n```\\n\\n### Added [`DeriveValueType`](https://docs.rs/sea-orm/latest/sea_orm/derive.DeriveValueType.html) derive macro for [custom wrapper types](https://www.sea-ql.org/SeaORM/docs/generate-entity/newtype/)\\n\\n[#1720](https://github.com/SeaQL/sea-orm/pull/1720) So now you can use newtypes easily.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"custom_value_type\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub number: Integer,\\n    // Postgres only\\n    pub str_vec: StringVec,\\n}\\n\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\\npub struct Integer(i32);\\n\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\\npub struct StringVec(pub Vec<String>);\\n```\\n\\nWhich saves you the boilerplate of:\\n\\n```rust\\nimpl std::convert::From<StringVec> for Value { .. }\\n\\nimpl TryGetable for StringVec {\\n    fn try_get_by<I: ColIdx>(res: &QueryResult, idx: I)\\n        -> Result<Self, TryGetError> { .. }\\n}\\n\\nimpl ValueType for StringVec {\\n    fn try_from(v: Value) -> Result<Self, ValueTypeErr> { .. }\\n\\n    fn type_name() -> String { \\"StringVec\\".to_owned() }\\n\\n    fn array_type() -> ArrayType { ArrayType::String }\\n\\n    fn column_type() -> ColumnType { ColumnType::String(None) }\\n}\\n```\\n\\n## Enhancements \ud83c\udd99\\n\\n#### [#1433](https://github.com/SeaQL/sea-orm/pull/1433) Chained AND / OR join ON condition\\n\\nAdded more macro attributes to [`DeriveRelation`](https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DeriveRelation.html)\\n\\n```rust\\n// Entity file\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {\\n    // By default, it\'s `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` AND `fruit`.`name` LIKE \'%tropical%\'`\\n    #[sea_orm(\\n        has_many = \\"super::fruit::Entity\\",\\n        on_condition = r#\\"super::fruit::Column::Name.like(\\"%tropical%\\")\\"#\\n    )]\\n    TropicalFruit,\\n    // Specify `condition_type = \\"any\\"` to override it, now it becomes\\n    // `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` OR `fruit`.`name` LIKE \'%tropical%\'`\\n    #[sea_orm(\\n        has_many = \\"super::fruit::Entity\\",\\n        on_condition = r#\\"super::fruit::Column::Name.like(\\"%tropical%\\")\\"#\\n        condition_type = \\"any\\",\\n    )]\\n    OrTropicalFruit,\\n}\\n```\\n\\n#### [#1508](https://github.com/SeaQL/sea-orm/pull/1508) Supports entity with composite primary key of arity 12\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"primary_key_of_12\\")]\\npub struct Model {\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub id_1: String,\\n    ...\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub id_12: bool,\\n}\\n```\\n\\n#### [#1677](https://github.com/SeaQL/sea-orm/pull/1677) Added [`UpdateMany::exec_with_returning()`](https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.UpdateMany.html#method.exec_with_returning)\\n\\n```rust\\nlet models: Vec<Model> = Entity::update_many()\\n    .col_expr(Column::Values, Expr::expr(..))\\n    .exec_with_returning(db)\\n    .await?;\\n```\\n\\n#### [#1511](https://github.com/SeaQL/sea-orm/pull/1511) Added [`MigratorTrait::migration_table_name()`](https://docs.rs/sea-orm-migration/0.12.2/sea_orm_migration/migrator/trait.MigratorTrait.html#method.migration_table_name) method to configure the name of migration table\\n```rust\\n#[async_trait::async_trait]\\nimpl MigratorTrait for Migrator {\\n    // Override the name of migration table\\n    fn migration_table_name() -> sea_orm::DynIden {\\n        Alias::new(\\"override_migration_table_name\\").into_iden()\\n    }\\n    ...\\n}\\n```\\n#### [#1707](https://github.com/SeaQL/sea-orm/pull/1707) Added [`DbErr::sql_err()`](https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.DbErr.html#method.sql_err) method to parse common database errors\\n```rust\\nassert!(matches!(\\n    cake.into_active_model().insert(db).await\\n        .expect_err(\\"Insert a row with duplicated primary key\\")\\n        .sql_err(),\\n    Some(SqlErr::UniqueConstraintViolation(_))\\n));\\n\\nassert!(matches!(\\n    fk_cake.insert(db).await\\n        .expect_err(\\"Insert a row with invalid foreign key\\")\\n        .sql_err(),\\n    Some(SqlErr::ForeignKeyConstraintViolation(_))\\n));\\n```\\n#### [#1737](https://github.com/SeaQL/sea-orm/pull/1737) Introduced new [`ConnAcquireErr`](https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.ConnAcquireErr.html)\\n```rust\\nenum DbErr {\\n    ConnectionAcquire(ConnAcquireErr),\\n    ..\\n}\\n\\nenum ConnAcquireErr {\\n    Timeout,\\n    ConnectionClosed,\\n}\\n```\\n#### [#1627](https://github.com/SeaQL/sea-orm/pull/1627) Added [`DatabaseConnection::ping()`](https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.ConnAcquireErr.html)\\n```rust\\n|db: DatabaseConnection| {\\n    assert!(db.ping().await.is_ok());\\n    db.clone().close().await;\\n    assert!(matches!(db.ping().await, Err(DbErr::ConnectionAcquire)));\\n}\\n```\\n#### [#1708](https://github.com/SeaQL/sea-orm/pull/1708) Added [`TryInsert`](https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.TryInsert.html) that does not panic on empty inserts\\n```rust\\n// now, you can do:\\nlet res = Bakery::insert_many(std::iter::empty())\\n    .on_empty_do_nothing()\\n    .exec(db)\\n    .await;\\n\\nassert!(matches!(res, Ok(TryInsertResult::Empty)));\\n```\\n#### [#1712](https://github.com/SeaQL/sea-orm/pull/1712) Insert on conflict do nothing to return Ok\\n```rust\\nlet on = OnConflict::column(Column::Id).do_nothing().to_owned();\\n\\n// Existing behaviour\\nlet res = Entity::insert_many([..]).on_conflict(on).exec(db).await;\\nassert!(matches!(res, Err(DbErr::RecordNotInserted)));\\n\\n// New API; now you can:\\nlet res =\\nEntity::insert_many([..]).on_conflict(on).do_nothing().exec(db).await;\\nassert!(matches!(res, Ok(TryInsertResult::Conflicted)));\\n```\\n#### [#1740](https://github.com/SeaQL/sea-orm/pull/1740), [#1755](https://github.com/SeaQL/sea-orm/pull/1755) Replacing `sea_query::Iden` with [`sea_orm::DeriveIden`](https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DeriveIden.html)\\n\\nTo provide a more consistent interface, `sea-query/derive` is no longer enabled by `sea-orm`, as such, `Iden` no longer works as a derive macro (it\'s still a trait).\\n\\n```rust\\n// then:\\n\\n#[derive(Iden)]\\n#[iden = \\"category\\"]\\npub struct CategoryEnum;\\n\\n#[derive(Iden)]\\npub enum Tea {\\n    Table,\\n    #[iden = \\"AfternoonTea\\"]\\n    EverydayTea,\\n}\\n\\n// now:\\n\\n#[derive(DeriveIden)]\\n#[sea_orm(iden = \\"category\\")]\\npub struct CategoryEnum;\\n\\n#[derive(DeriveIden)]\\npub enum Tea {\\n    Table,\\n    #[sea_orm(iden = \\"AfternoonTea\\")]\\n    EverydayTea,\\n}\\n```\\n\\n## New Release ~~Train~~ Ferry \ud83d\udea2\\n\\nIt\'s been the **12th** release of SeaORM! Initially, a major version was released every month. It gradually became 2 to 3 months, and now, it\'s been 6 months since the last major release. As our userbase grew and some are already [using SeaORM in production](https://github.com/SeaQL/sea-orm/blob/master/COMMUNITY.md#startups), we understand the importance of having a stable API surface and feature set.\\n\\nThat\'s why we are committed to:\\n\\n1. Reviewing breaking changes with strict scrutiny\\n2. Expanding our test suite to cover all features of our library\\n3. Never remove features, and consider deprecation carefully\\n\\nToday, the architecture of SeaORM is pretty solid and stable, and with the `0.12` release where we paid back a lot of technical debt, we will be able to deliver new features and enhancements without breaking. As our major dependency [SQLx](https://github.com/launchbadge/sqlx) is not `1.0` yet, technically we cannot be `1.0`.\\n\\nWe are still advancing rapidly, and we will always make a new release as soon as SQLx makes a new release, so that you can upgrade everything at once. As a result, the next major release of SeaORM will come out **6 months from now, or when SQLx makes a new release**, whichever is earlier.\\n\\n## [Community Survey](https://www.sea-ql.org/community-survey) \ud83d\udcdd\\n\\nSeaQL is an independent open-source organization. Our goal is to enable developers to build data intensive applications in Rust. If you are using SeaORM, please participate in the [SeaQL Community Survey](https://www.sea-ql.org/community-survey)!\\n\\nBy completing this survey, you will help us gather insights into how you, the developer, are using our libraries and identify means to improve your developer experience. We will also publish an annual survey report to summarize our findings.\\n\\nIf you are a happy user of SeaORM, consider [writing us a testimonial](https://forms.office.com/r/YbeqfTAgkJ)!\\n\\n## Sponsor \ud83e\udd47\\n\\nA big thank to [DigitalOcean](https://www.digitalocean.com/) who sponsored our server hosting, and [JetBrains](https://www.jetbrains.com/) who sponsored our IDE, and every sponsor on [GitHub Sponsor](https://github.com/sponsors/SeaQL)!\\n\\nIf you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Jacob Trueb\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Natsuki Ikeguchi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mmuellersoppart\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16762461?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marlon Mueller-Soppart\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kallydev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/36319157?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    KallyDev\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/rgoracz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/6758092?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Roland Gor\xe1cz\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Iceapinan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2698243?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    IceApinan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/reneklacan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1935686?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Ren\xe9 Kla\u010dan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## What\'s Next for SeaORM? \u26f5\\n\\nOpen-source project is a never-ending work, and we are actively looking for ways to sustain the project. You can support our endeavour by starring & sharing our repositories and becoming a sponsor.\\n\\nWe are considering multiple directions to generate revenue for the organization. If you have any suggestion, or want to join or collaborate with us, please contact us via `hello[at]sea-ql.org`.\\n\\nThank you for your support, and together we can make open-source sustainable."},{"id":"2023-04-03-intro-sea-streamer","metadata":{"permalink":"/preview/pr-154/blog/2023-04-03-intro-sea-streamer","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-04-03-intro-sea-streamer.md","source":"@site/blog/2023-04-03-intro-sea-streamer.md","title":"Introducing SeaStreamer \ud83c\udf0a","description":"We are pleased to introduce SeaStreamer to the Rust community today. SeaStreamer is a stream processing toolkit to help you build stream processors in Rust.","date":"2023-04-03T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.12,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2023-04-03-intro-sea-streamer","title":"Introducing SeaStreamer \ud83c\udf0a","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","image":"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Announcing SeaORM 0.12","permalink":"/preview/pr-154/blog/2023-08-12-announcing-seaorm-0.12"},"nextItem":{"title":"What\'s new in SeaORM 0.11.0","permalink":"/preview/pr-154/blog/2023-02-08-whats-new-in-seaorm-0.11.0"}},"content":"<a href=\\"https://www.sea-ql.org/SeaStreamer/\\"><img src=\\"https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png\\" /></a>\\n\\nWe are pleased to introduce [SeaStreamer](https://github.com/SeaQL/sea-streamer/) to the Rust community today. SeaStreamer is a stream processing toolkit to help you build stream processors in Rust.\\n\\nAt SeaQL we want to make Rust the best programming platform for data engineering. Where SeaORM is the essential tool for working with SQL databases, SeaStreamer aims to be your essential toolkit for working with streams.\\n\\nCurrently SeaStreamer provides integration with Kafka and Redis.\\n\\nLet\'s have a quick tour of SeaStreamer.\\n\\n## High level async API\\n\\n+ High level async API that supports both `async-std` and `tokio`\\n+ Mutex-free implementation[^1]: concurrency achieved by message passing\\n+ A comprehensive type system that guides/restricts you with the API\\n\\n[^1]: except `sea-streamer-stdio`, but only contends on consumer add/drop\\n\\nBelow is a [basic Kafka consumer](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-kafka/src/bin/consumer.rs):\\n\\n```rust\\n#[tokio::main]\\nasync fn main() -> Result<()> {\\n    env_logger::init();\\n\\n    let stream: StreamUrl = \\"kafka://streamer.sea-ql.org:9092/my_stream\\".parse()?;\\n    let streamer = KafkaStreamer::connect(stream.streamer(), Default::default()).await?;\\n    let mut options = KafkaConsumerOptions::new(ConsumerMode::RealTime);\\n    options.set_auto_offset_reset(AutoOffsetReset::Earliest);\\n    let consumer = streamer\\n        .create_consumer(stream.stream_keys(), options)\\n        .await?;\\n\\n    loop {\\n        let mess = consumer.next().await?;\\n        println!(\\"{}\\", mess.message().as_str()?);\\n    }\\n}\\n```\\n\\n[`Consumer::stream()`](https://docs.rs/sea-streamer/latest/sea_streamer/trait.Consumer.html#tymethod.stream) returns an object that implements the [`Stream`](https://docs.rs/futures-core/latest/futures_core/stream/trait.Stream.html) trait, which allows you to do neat things:\\n\\n```rust\\nlet items = consumer\\n    .stream()\\n    .take(num)\\n    .map(process_message)\\n    .collect::<Vec<_>>()\\n    .await\\n```\\n\\n## Trait-based abstract interface\\n\\nAll SeaStreamer backends implement a common abstract interface, offering you a familiar API. Below is a [basic Redis consumer](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-redis/src/bin/consumer.rs), which is nearly the same as the previous example:\\n\\n```rust\\n#[tokio::main]\\nasync fn main() -> Result<()> {\\n    env_logger::init();\\n\\n    let stream: StreamUrl = \\"redis://localhost:6379/my_stream\\".parse()?;\\n    let streamer = RedisStreamer::connect(stream.streamer(), Default::default()).await?;\\n    let mut options = RedisConsumerOptions::new(ConsumerMode::RealTime);\\n    options.set_auto_stream_reset(AutoStreamReset::Earliest);\\n    let consumer = streamer\\n        .create_consumer(stream.stream_keys(), options)\\n        .await?;\\n\\n    loop {\\n        let mess = consumer.next().await?;\\n        println!(\\"{}\\", mess.message().as_str()?);\\n    }\\n}\\n```\\n\\n## Redis Streams Support\\n\\nSeaStreamer Redis provides a Kafka-like stream semantics:\\n\\n+ Non-group streaming with AutoStreamReset option\\n+ Consumer-group-based streaming with auto-ack and/or auto-commit\\n+ Load balancing among consumers with automatic failover\\n+ Seek/rewind to point in time\\n\\nYou don\'t have to call `XADD`, `XREAD`, `XACK`, etc... anymore!\\n\\n## Enum-based generic interface\\n\\nThe trait-based API requires you to designate the concrete `Streamer` type for monomorphization, otherwise the code cannot compile.\\n\\nAkin to how SeaORM implements runtime-polymorphism, SeaStreamer provides a enum-based generic streamer, in which the backend is selected ***on runtime***.\\n\\nHere is an illustration ([full example](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/resumable.rs)):\\n\\n```rust\\n// sea-streamer-socket\\npub struct SeaConsumer {\\n    backend: SeaConsumerBackend,\\n}\\n\\nenum SeaConsumerBackend {\\n    #[cfg(feature = \\"backend-kafka\\")]\\n    Kafka(KafkaConsumer),\\n    #[cfg(feature = \\"backend-redis\\")]\\n    Redis(RedisConsumer),\\n    #[cfg(feature = \\"backend-stdio\\")]\\n    Stdio(StdioConsumer),\\n}\\n\\n// Your code\\nlet uri: StreamerUri = \\"kafka://localhost:9092\\".parse()?; // or\\nlet uri: StreamerUri = \\"redis://localhost:6379\\".parse()?; // or\\nlet uri: StreamerUri = \\"stdio://\\".parse()?;\\n\\n// SeaStreamer will be backed by Kafka, Redis or Stdio depending on the URI\\nlet streamer = SeaStreamer::connect(uri, Default::default()).await?;\\n\\n// Set backend-specific options\\nlet mut options = SeaConsumerOptions::new(ConsumerMode::Resumable);\\noptions.set_kafka_consumer_options(|options: &mut KafkaConsumerOptions| { .. });\\noptions.set_redis_consumer_options(|options: &mut RedisConsumerOptions| { .. });\\nlet mut consumer: SeaConsumer = streamer.create_consumer(stream_keys, options).await?;\\n\\n// You can still retrieve the concrete type\\nlet kafka: Option<&mut KafkaConsumer> = consumer.get_kafka();\\nlet redis: Option<&mut RedisConsumer> = consumer.get_redis();\\n```\\n\\nSo you can \\"write once, stream anywhere\\"!\\n\\n## Good old unix pipe\\n\\nIn SeaStreamer, `stdin` & `stdout` can be used as stream source and sink.\\n\\nSay you are developing some processors to transform a stream in several stages:\\n\\n```shell\\n./processor_1 --input kafka://localhost:9092/input --output kafka://localhost:9092/stage_1 &\\n./processor_2 --input kafka://localhost:9092/stage_1 --output kafka://localhost:9092/stage_2 &\\n./processor_3 --input kafka://localhost:9092/stage_2 --output kafka://localhost:9092/output &\\n```\\n\\nIt would be great if we can simply ***pipe*** the processors together right?\\n\\nWith SeaStreamer, you can do the following:\\n\\n```shell\\n./processor_1 --input kafka://localhost:9092/input --output stdio:///stream |\\n./processor_2 --input stdio:///stream --output stdio:///stream |\\n./processor_3 --input stdio:///stream --output kafka://localhost:9092/output\\n```\\n\\nAll ***without recompiling*** the stream processors! Now, you can develop locally with the comfort of using `|`, `>`, `<` and your favourite unix program in the shell.\\n\\n## Testable\\n\\nSeaStreamer encourages you to write tests at all levels:\\n\\n+ You can execute tests involving several *stream processors* in the same *OS process*\\n+ You can execute tests involving several *OS processes* by connecting them with pipes\\n+ You can execute tests involving several *stream processors* with Redis / Kafka\\n\\nAll against the same piece of code! Let SeaStreamer take away the boilerplate and mocking facility from your codebase.\\n\\nBelow is an example of [intra-process testing](https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-stdio/tests/loopback.rs), which can be run with `cargo test` without any dependency or side-effects:\\n\\n```rust\\nlet stream = StreamKey::new(\\"test\\")?;\\nlet mut options = StdioConnectOptions::default();\\noptions.set_loopback(true); // messages produced will be feed back to consumers\\nlet streamer = StdioStreamer::connect(StreamerUri::zero(), options).await?;\\nlet producer = streamer.create_producer(stream.clone(), Default::default()).await?;\\nlet mut consumer = streamer.create_consumer(&[stream.clone()], Default::default()).await?;\\n\\nfor i in 0..5 {\\n    let mess = format!(\\"{}\\", i);\\n    producer.send(mess)?;\\n}\\n\\nlet seq = collect(&mut consumer, 5).await;\\nassert_eq!(seq, [0, 1, 2, 3, 4]);\\n```\\n\\n## Getting started\\n\\nIf you are eager to get started with SeaStreamer, you can checkout our [set of examples](https://github.com/SeaQL/sea-streamer/tree/main/examples):\\n\\n+ [`consumer`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/consumer.rs): A basic consumer\\n+ [`producer`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/producer.rs): A basic producer\\n+ [`processor`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/processor.rs): A basic stream processor\\n+ [`resumable`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/resumable.rs): A resumable stream processor that continues from where it left off\\n+ [`buffered`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs): An advanced stream processor with internal buffering and batch processing\\n+ [`blocking`](https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/blocking.rs): An advanced stream processor for handling blocking / CPU-bound tasks\\n\\nRead the official [documentation](https://www.sea-ql.org/SeaStreamer/docs/index/) to learn more.\\n\\n## Roadmap\\n\\nA few major components we [plan to develop](https://www.sea-ql.org/SeaStreamer/docs/whats-next/roadmap/):\\n\\n+ File Backend\\n+ Redis Cluster\\n\\nWe welcome you to join our [Discussions](https://github.com/SeaQL/sea-streamer/discussions) if you have thoughts or ideas!\\n\\n## People\\n\\nSeaStreamer is designed and developed by the same mind who brought you [SeaORM](https://github.com/SeaQL/sea-orm/):\\n\\n<div class=\\"container\\">\\n    <div class=\\"row\\">\\n        <div class=\\"col col--12 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Chris Tsang\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL.org is an independent open-source organization run by passionate \ufe0fdevelopers. If you like our projects, please star \u2b50 and share our repositories. If you feel generous, a small donation via [GitHub Sponsor](https://github.com/sponsors/SeaQL) will be greatly appreciated, and goes a long way towards sustaining the organization \ud83d\udea2.\\n\\nSeaStreamer is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future \ud83e\udd80."},{"id":"2023-02-08-whats-new-in-seaorm-0.11.0","metadata":{"permalink":"/preview/pr-154/blog/2023-02-08-whats-new-in-seaorm-0.11.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-02-08-whats-new-in-seaorm-0.11.0.md","source":"@site/blog/2023-02-08-whats-new-in-seaorm-0.11.0.md","title":"What\'s new in SeaORM 0.11.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.11.0!","date":"2023-02-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":12.83,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2023-02-08-whats-new-in-seaorm-0.11.0","title":"What\'s new in SeaORM 0.11.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Introducing SeaStreamer \ud83c\udf0a","permalink":"/preview/pr-154/blog/2023-04-03-intro-sea-streamer"},"nextItem":{"title":"SeaORM FAQ.02","permalink":"/preview/pr-154/blog/2023-02-05-faq-02"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.11.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.11.0)!\\n\\n## Data Loader\\n\\n[[#1443](https://github.com/SeaQL/sea-orm/pull/1443), [#1238](https://github.com/SeaQL/sea-orm/pull/1238)] The [LoaderTrait](https://docs.rs/sea-orm/*/sea_orm/query/trait.LoaderTrait.html) provides an API to load related entities in batches.\\n\\nConsider this one to many relation:\\n\\n```rust\\nlet cake_with_fruits: Vec<(cake::Model, Vec<fruit::Model>)> = Cake::find()\\n    .find_with_related(Fruit)\\n    .all(db)\\n    .await?;\\n```\\n\\nThe generated SQL is:\\n\\n```sql\\nSELECT\\n    \\"cake\\".\\"id\\" AS \\"A_id\\",\\n    \\"cake\\".\\"name\\" AS \\"A_name\\",\\n    \\"fruit\\".\\"id\\" AS \\"B_id\\",\\n    \\"fruit\\".\\"name\\" AS \\"B_name\\",\\n    \\"fruit\\".\\"cake_id\\" AS \\"B_cake_id\\"\\nFROM \\"cake\\"\\nLEFT JOIN \\"fruit\\" ON \\"cake\\".\\"id\\" = \\"fruit\\".\\"cake_id\\"\\nORDER BY \\"cake\\".\\"id\\" ASC\\n```\\n\\nThe 1 side\'s (Cake) data will be duplicated. If N is a large number, this would results in more data being transferred over the wire. Using the Loader would ensure each model is transferred only once.\\n\\nThe following loads the same data as above, but with two queries:\\n\\n```rust\\nlet cakes: Vec<cake::Model> = Cake::find().all(db).await?;\\nlet fruits: Vec<Vec<fruit::Model>> = cakes.load_many(Fruit, db).await?;\\n\\nfor (cake, fruits) in cakes.into_iter().zip(fruits.into_iter()) { .. }\\n```\\n\\n```sql\\nSELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\"\\nSELECT \\"fruit\\".\\"id\\", \\"fruit\\".\\"name\\", \\"fruit\\".\\"cake_id\\" FROM \\"fruit\\" WHERE \\"fruit\\".\\"cake_id\\" IN (..)\\n```\\n\\nYou can even apply filters on the related entity:\\n\\n```rust\\nlet fruits_in_stock: Vec<Vec<fruit::Model>> = cakes.load_many(\\n    fruit::Entity::find().filter(fruit::Column::Stock.gt(0i32))\\n    db\\n).await?;\\n```\\n\\n```sql\\nSELECT \\"fruit\\".\\"id\\", \\"fruit\\".\\"name\\", \\"fruit\\".\\"cake_id\\" FROM \\"fruit\\"\\nWHERE \\"fruit\\".\\"stock\\" > 0 AND \\"fruit\\".\\"cake_id\\" IN (..)\\n```\\n\\nTo learn more, read the [relation docs](https://www.sea-ql.org/SeaORM/docs/relation/data-loader/).\\n\\n## Transaction Isolation Level and Access Mode\\n\\n[[#1230](https://github.com/SeaQL/sea-orm/pull/1230)] The [`transaction_with_config`](https://docs.rs/sea-orm/*/sea_orm/trait.TransactionTrait.html#tymethod.transaction_with_config) and [`begin_with_config`](https://docs.rs/sea-orm/*/sea_orm/trait.TransactionTrait.html#tymethod.begin_with_config) allows you to specify the [IsolationLevel](https://docs.rs/sea-orm/*/sea_orm/enum.IsolationLevel.html) and [AccessMode](https://docs.rs/sea-orm/*/sea_orm/enum.AccessMode.html).\\n\\nFor now, they are only implemented for MySQL and Postgres. In order to align their semantic difference, MySQL will execute `SET TRANSACTION` commands before begin transaction, while Postgres will execute `SET TRANSACTION` commands after begin transaction.\\n\\n```rust\\ndb.transaction_with_config::<_, _, DbErr>(\\n    |txn| { ... },\\n    Some(IsolationLevel::ReadCommitted),\\n    Some(AccessMode::ReadOnly),\\n)\\n.await?;\\n\\nlet transaction = db\\n    .begin_with_config(IsolationLevel::ReadCommitted, AccessMode::ReadOnly)\\n    .await?;\\n```\\n\\nTo learn more, read the [transaction docs](https://www.sea-ql.org/SeaORM/docs/advanced-query/transaction/).\\n\\n## Cast Column Type on Select and Save\\n\\n[[#1304](https://github.com/SeaQL/sea-orm/pull/1304)] If you need to select a column as one type but save it into the database as another, you can specify the `select_as` and the `save_as` attributes to perform the casting. A typical use case is selecting a column of type `citext` (case-insensitive text) as `String` in Rust and saving it into the database as `citext`. One should define the model field as below:\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"ci_table\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    #[sea_orm(select_as = \\"text\\", save_as = \\"citext\\")]\\n    pub case_insensitive_text: String\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {}\\n\\nimpl ActiveModelBehavior for ActiveModel {}\\n```\\n\\n## Changes to `ActiveModelBehavior`\\n\\n[[#1328](https://github.com/SeaQL/sea-orm/pull/1328), [#1145](https://github.com/SeaQL/sea-orm/pull/1145)] The methods of `ActiveModelBehavior` now have `Connection` as an additional parameter. It enables you to perform database operations, for example, logging the changes made to the existing model or validating the data before inserting it.\\n\\n```rust\\n#[async_trait]\\nimpl ActiveModelBehavior for ActiveModel {\\n    /// Create a new ActiveModel with default values. Also used by `Default::default()`.\\n    fn new() -> Self {\\n        Self {\\n            uuid: Set(Uuid::new_v4()),\\n            ..ActiveModelTrait::default()\\n        }\\n    }\\n\\n    /// Will be triggered before insert / update\\n    async fn before_save<C>(self, db: &C, insert: bool) -> Result<Self, DbErr>\\n    where\\n        C: ConnectionTrait,\\n    {\\n        // Logging changes\\n        edit_log::ActiveModel {\\n            action: Set(\\"before_save\\".into()),\\n            values: Set(serde_json::json!(model)),\\n            ..Default::default()\\n        }\\n        .insert(db)\\n        .await?;\\n\\n        Ok(self)\\n    }\\n}\\n```\\n\\nTo learn more, read the [entity docs](https://www.sea-ql.org/SeaORM/docs/generate-entity/entity-structure/#active-model-behavior).\\n\\n## Execute Unprepared SQL Statement\\n\\n[[#1327](https://github.com/SeaQL/sea-orm/pull/1327)] You can execute an unprepared SQL statement with [`ConnectionTrait::execute_unprepared`](https://docs.rs/sea-orm/*/sea_orm/trait.ConnectionTrait.html#tymethod.execute_unprepared).\\n\\n```rust\\n// Use `execute_unprepared` if the SQL statement doesn\'t have value bindings\\ndb.execute_unprepared(\\n    \\"CREATE TABLE `cake` (\\n        `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,\\n        `name` varchar(255) NOT NULL\\n    )\\"\\n)\\n.await?;\\n\\n// Construct a `Statement` if the SQL contains value bindings\\nlet stmt = Statement::from_sql_and_values(\\n    manager.get_database_backend(),\\n    r#\\"INSERT INTO `cake` (`name`) VALUES (?)\\"#,\\n    [\\"Cheese Cake\\".into()]\\n);\\ndb.execute(stmt).await?;\\n```\\n\\n## Select Into Tuple\\n\\n[[#1311](https://github.com/SeaQL/sea-orm/pull/1311)] You can select a tuple (or single value) with the [`into_tuple`](https://docs.rs/sea-orm/*/sea_orm/struct.Selector.html#method.into_tuple) method.\\n\\n```rust\\nlet res: Vec<(String, i64)> = cake::Entity::find()\\n    .select_only()\\n    .column(cake::Column::Name)\\n    .column(cake::Column::Id.count())\\n    .group_by(cake::Column::Name)\\n    .into_tuple()\\n    .all(&db)\\n    .await?;\\n```\\n\\n## Atomic Migration\\n\\n[[#1379](https://github.com/SeaQL/sea-orm/pull/1379)] Migration will be executed in Postgres atomically that means migration scripts will be executed inside a transaction. Changes done to the database will be rolled back if the migration failed. However, atomic migration is not supported in MySQL and SQLite.\\n\\nYou can start a transaction inside each migration to perform operations like [seeding sample data](https://www.sea-ql.org/SeaORM/docs/migration/seeding-data/#seeding-data-transactionally) for a newly created table.\\n\\n## Types Support\\n\\n* [[#1325](https://github.com/SeaQL/sea-orm/pull/1325)] Support various UUID formats that are available in `uuid::fmt` module\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"uuid_fmt\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub uuid: Uuid,\\n    pub uuid_braced: uuid::fmt::Braced,\\n    pub uuid_hyphenated: uuid::fmt::Hyphenated,\\n    pub uuid_simple: uuid::fmt::Simple,\\n    pub uuid_urn: uuid::fmt::Urn,\\n}\\n```\\n\\n* [[#1210](https://github.com/SeaQL/sea-orm/pull/1210)] Support vector of enum for Postgres\\n\\n```rust\\n#[derive(Debug, Clone, PartialEq, Eq, EnumIter, DeriveActiveEnum)]\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"Enum\\", enum_name = \\"tea\\")]\\npub enum Tea {\\n    #[sea_orm(string_value = \\"EverydayTea\\")]\\n    EverydayTea,\\n    #[sea_orm(string_value = \\"BreakfastTea\\")]\\n    BreakfastTea,\\n}\\n\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"enum_vec\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub teas: Vec<Tea>,\\n    pub teas_opt: Option<Vec<Tea>>,\\n}\\n```\\n\\n* [[#1414](https://github.com/SeaQL/sea-orm/pull/1414)] Support `ActiveEnum` field as primary key\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"enum_primary_key\\")]\\npub struct Model {\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub id: Tea,\\n    pub category: Option<Category>,\\n    pub color: Option<Color>,\\n}\\n```\\n\\n## Opt-in Unstable Internal APIs\\n\\nBy enabling `sea-orm-internal` feature you opt-in unstable internal APIs including:\\n\\n* Accessing the inner connection pool of SQLx with [`get_*_connection_pool`](https://docs.rs/sea-orm/*/sea_orm/enum.DatabaseConnection.html#impl-DatabaseConnection-2) method\\n* Re-exporting [SQLx errors types](https://docs.rs/sea-orm/*/sea_orm/error/index.html): `SqlxError`, `SqlxMySqlError`, `SqlxPostgresError` and `SqlxSqliteError`\\n\\n## Breaking Changes\\n\\n* [[#1366](https://github.com/SeaQL/sea-orm/pull/1366)] `sea-query` has been upgraded to [`0.28.x`](https://github.com/SeaQL/sea-query/releases/tag/0.28.0), which comes with some improvements and breaking changes. Please follow the release notes for more details\\n\\n* [[#1420](https://github.com/SeaQL/sea-orm/pull/1420)] sea-orm-cli: `generate entity` command enable `--universal-time` flag by default\\n\\n* [[#1425](https://github.com/SeaQL/sea-orm/pull/1425)] Added `RecordNotInserted` and `RecordNotUpdated` to `DbErr`\\n\\n* [[#1327](https://github.com/SeaQL/sea-orm/pull/1327)] Added `ConnectionTrait::execute_unprepared` method\\n\\n* [[#1311](https://github.com/SeaQL/sea-orm/pull/1311)] The required method of `TryGetable` changed:\\n\\n```rust\\n// then\\nfn try_get(res: &QueryResult, pre: &str, col: &str) -> Result<Self, TryGetError>;\\n// now; ColIdx can be `&str` or `usize`\\nfn try_get_by<I: ColIdx>(res: &QueryResult, index: I) -> Result<Self, TryGetError>;\\n```\\n\\nSo if you implemented it yourself:\\n\\n```diff\\nimpl TryGetable for XXX {\\n-   fn try_get(res: &QueryResult, pre: &str, col: &str) -> Result<Self, TryGetError> {\\n+   fn try_get_by<I: sea_orm::ColIdx>(res: &QueryResult, idx: I) -> Result<Self, TryGetError> {\\n-       let value: YYY = res.try_get(pre, col).map_err(TryGetError::DbErr)?;\\n+       let value: YYY = res.try_get_by(idx).map_err(TryGetError::DbErr)?;\\n        ..\\n    }\\n}\\n```\\n\\n* [[#1328](https://github.com/SeaQL/sea-orm/pull/1328)] The `ActiveModelBehavior` trait becomes async trait.\\nIf you overridden the default `ActiveModelBehavior` implementation:\\n\\n```rust\\n#[async_trait::async_trait]\\nimpl ActiveModelBehavior for ActiveModel {\\n    async fn before_save<C>(self, db: &C, insert: bool) -> Result<Self, DbErr>\\n    where\\n        C: ConnectionTrait,\\n    {\\n        // ...\\n    }\\n\\n    // ...\\n}\\n```\\n\\n* [[#1425](https://github.com/SeaQL/sea-orm/pull/1425)] `DbErr::RecordNotFound(\\"None of the database rows are affected\\")` is moved to a dedicated error variant `DbErr::RecordNotUpdated`\\n\\n```rust\\nlet res = Update::one(cake::ActiveModel {\\n        name: Set(\\"Cheese Cake\\".to_owned()),\\n        ..model.into_active_model()\\n    })\\n    .exec(&db)\\n    .await;\\n\\n// then\\nassert_eq!(\\n    res,\\n    Err(DbErr::RecordNotFound(\\n        \\"None of the database rows are affected\\".to_owned()\\n    ))\\n);\\n\\n// now\\nassert_eq!(res, Err(DbErr::RecordNotUpdated));\\n```\\n\\n* [[#1395](https://github.com/SeaQL/sea-orm/pull/1395)] `sea_orm::ColumnType` was replaced by `sea_query::ColumnType`\\n    * Method `ColumnType::def` was moved to `ColumnTypeTrait`\\n    * `ColumnType::Binary` becomes a tuple variant which takes in additional option `sea_query::BlobSize`\\n    * `ColumnType::Custom` takes a `sea_query::DynIden` instead of `String` and thus a new method `custom` is added (note the lowercase)\\n\\n```diff\\n// Compact Entity\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"fruit\\")]\\npub struct Model {\\n-   #[sea_orm(column_type = r#\\"Custom(\\"citext\\".to_owned())\\"#)]\\n+   #[sea_orm(column_type = r#\\"custom(\\"citext\\")\\"#)]\\n    pub column: String,\\n}\\n```\\n\\n```diff\\n// Expanded Entity\\nimpl ColumnTrait for Column {\\n    type EntityName = Entity;\\n\\n    fn def(&self) -> ColumnDef {\\n        match self {\\n-           Self::Column => ColumnType::Custom(\\"citext\\".to_owned()).def(),\\n+           Self::Column => ColumnType::custom(\\"citext\\").def(),\\n        }\\n    }\\n}\\n```\\n\\n## SeaORM Enhancements\\n\\n* [[#1256](https://github.com/SeaQL/sea-orm/pull/1256)] Refactor schema module to expose functions for database alteration\\n* [[#1346](https://github.com/SeaQL/sea-orm/pull/1346)] Generate compact entity with `#[sea_orm(column_type = \\"JsonBinary\\")]` macro attribute\\n* `MockDatabase::append_exec_results()`, `MockDatabase::append_query_results()`, `MockDatabase::append_exec_errors()` and `MockDatabase::append_query_errors()` [[#1367](https://github.com/SeaQL/sea-orm/pull/1367)] take any types implemented `IntoIterator` trait\\n* [[#1362](https://github.com/SeaQL/sea-orm/pull/1362)] `find_by_id` and `delete_by_id` take any `Into` primary key value\\n* [[#1410](https://github.com/SeaQL/sea-orm/pull/1410)] `QuerySelect::offset` and `QuerySelect::limit` takes in `Into<Option<u64>>` where `None` would reset them\\n* [[#1236](https://github.com/SeaQL/sea-orm/pull/1236)] Added `DatabaseConnection::close`\\n* [[#1381](https://github.com/SeaQL/sea-orm/pull/1381)] Added `is_null` getter for `ColumnDef`\\n* [[#1177](https://github.com/SeaQL/sea-orm/pull/1177)] Added `ActiveValue::reset` to convert `Unchanged` into `Set`\\n* [[#1415](https://github.com/SeaQL/sea-orm/pull/1415)] Added `QueryTrait::apply_if` to optionally apply a filter\\n* Added the `sea-orm-internal` feature flag to expose some SQLx types\\n    * [[#1297](https://github.com/SeaQL/sea-orm/pull/1297)] Added `DatabaseConnection::get_*_connection_pool()` for accessing the inner SQLx connection pool\\n    * [[#1434](https://github.com/SeaQL/sea-orm/pull/1434)] Re-exporting SQLx errors\\n\\n## CLI Enhancements\\n\\n* [[#846](https://github.com/SeaQL/sea-orm/pull/846), [#1186](https://github.com/SeaQL/sea-orm/pull/1186), [#1318](https://github.com/SeaQL/sea-orm/pull/1318)] Generate `#[serde(skip_deserializing)]` for primary key columns\\n* [[#1171](https://github.com/SeaQL/sea-orm/pull/1171), [#1320](https://github.com/SeaQL/sea-orm/pull/1320)] Generate `#[serde(skip)]` for hidden columns\\n* [[#1124](https://github.com/SeaQL/sea-orm/pull/1124), [#1321](https://github.com/SeaQL/sea-orm/pull/1321)] Generate entity with extra derives and attributes for model struct\\n\\n## Integration Examples\\n\\nSeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples [wanted](https://github.com/SeaQL/sea-orm/issues/269)!\\n\\n* [Actix v4 Example](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\n* [Axum Example](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\n* [GraphQL Example](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\n* [jsonrpsee Example](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\n* [Poem Example](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\n* [Rocket Example](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\n* [Salvo Example](https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example)\\n* [Tonic Example](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! SeaQL.org is an independent open-source organization run by passionate developers. If you enjoy using SeaORM, please star and share our repositories. If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the project.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tugascript\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/64930104?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Afonso Barracha\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/DominoTree\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/5438118?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Nick Price\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/rgoracz\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/6758092?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Roland Gor\xe1cz\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/hgiesel\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7188844?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Henrik Giesel\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Jacob Trueb\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/siketyan\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/12772118?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Naoki Ikeguchi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/manfredcml\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/27536502?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Manfred Lee\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/efrain2007\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/65697999?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    efrain2007\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## What\'s Next?\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and build together for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.12.x`](https://github.com/SeaQL/sea-orm/milestone/12)."},{"id":"2023-02-05-faq-02","metadata":{"permalink":"/preview/pr-154/blog/2023-02-05-faq-02","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-02-05-faq-02.md","source":"@site/blog/2023-02-05-faq-02.md","title":"SeaORM FAQ.02","description":"FAQ.02 Why the empty enum Relation {} is needed even if an Entity has no relations?","date":"2023-02-05T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":1.23,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2023-02-05-faq-02","title":"SeaORM FAQ.02","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.11.0","permalink":"/preview/pr-154/blog/2023-02-08-whats-new-in-seaorm-0.11.0"},"nextItem":{"title":"Internship @ SeaQL","permalink":"/preview/pr-154/blog/2023-01-28-internship-at-seaql"}},"content":"## FAQ.02 Why the empty enum `Relation {}` is needed even if an Entity has no relations?\\n\\nConsider the following example [Post](https://github.com/SeaQL/sea-orm/blob/master/examples/actix_example/entity/src/post.rs) Entity:\\n\\n```rust\\nuse sea_orm::entity::prelude::*;\\n\\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"posts\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub title: String,\\n    pub text: String,\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {}\\n\\nimpl ActiveModelBehavior for ActiveModel {}\\n```\\n\\nThe two lines for defining `Relation` is quite unnecessary right?\\n\\nTo explain the problem, let\'s dive slightly deeper into the macro-expanded entity:\\n\\nThe `DeriveRelation` macro simply implements the `RelationTrait`:\\n\\n```rust\\nimpl RelationTrait for Relation {\\n    fn def(&self) -> RelationDef {\\n        match self {\\n            _ => unreachable!()\\n        }\\n    }\\n}\\n```\\n\\nWhich in turn is needed by `EntityTrait` as an associated type:\\n\\n```rust\\nimpl EntityTrait for Entity {\\n    type Relation = Relation;\\n    ...\\n}\\n```\\n\\nIt would be ideal if, when the user does not specify this associated type, the library automatically fills in a stub to satisfy the type system?\\n\\nTurns out, there is such a feature in Rust! It is an unstable feature called [`associated_type_defaults`](https://rust-lang.github.io/rfcs/2532-associated-type-defaults.html).\\n\\nBasically, it allows trait definitions to specify a default associated type, allowing it to be elided:\\n\\n```rust\\n// only compiles in nightly\\ntrait EntityTrait {\\n    type Relation: Relation = EmptyRelation;\\n}\\n```\\n\\nDue to our commitment to stable Rust, this may not land in SeaORM very soon. When it is stabilized, do remind us to implement this feature to get rid of those two lines!"},{"id":"2023-01-28-internship-at-seaql","metadata":{"permalink":"/preview/pr-154/blog/2023-01-28-internship-at-seaql","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-01-28-internship-at-seaql.md","source":"@site/blog/2023-01-28-internship-at-seaql.md","title":"Internship @ SeaQL","description":"SeaQL.org offer internships tailored to university students. In fact, it will be the 3rd cohort in 2023.","date":"2023-01-28T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":3.36,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2023-01-28-internship-at-seaql","title":"Internship @ SeaQL","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaORM FAQ.02","permalink":"/preview/pr-154/blog/2023-02-05-faq-02"},"nextItem":{"title":"Call for Contributors and Reviewers \ud83d\udce2","permalink":"/preview/pr-154/blog/2023-01-01-call-for-contributors-n-reviewers"}},"content":"SeaQL.org offer internships tailored to university students. In fact, it will be the 3rd cohort in 2023.\\n\\nThe internships normally take place during summer and winter semester breaks. During the internship period, you will work on a project dedicatedly and publish the project\u2019s outcome at the end.\\n\\nThe striking aspect of our mode of operation is it covers the entire lifecycle of software development, from Design \u27a1\ufe0f Implementation \u27a1\ufe0f Testing \u27a1\ufe0f Delivery. You will be amazed of how much you can achieve in such a short period of time!\\n\\nTo date [StarfishQL \u2734\ufe0f](https://www.sea-ql.org/StarfishQL/) and [Seaography \ud83e\udded](https://www.sea-ql.org/Seaography/) are great projects our team has created in the past year. We pride ourselves on careful planning, consistent execution, and pragmatic approach in software engineering. I spend a huge amount of time on idea evaluation: if the scope of the project is too small, it will be uninteresting, but if it is too large, it will fail to be delivered.\\n\\nFellow undergraduates, here are a few good reasons why you should participate in internships at an open-source organization like SeaQL:\\n\\n1.\\tA tangible showcase on CV: open-source work is published, inspectable and has real-world impact. We will also ensure that it has good branding, graphics, and visibility.\\n2.\\tNot driven by a business process, we do not compromise on quality of work. We do not have a proprietary development process, so it\u2019s all open-source tools with transferable skills.\\n3.\\tYou will contribute to the community and will interact with people across the world. Collaboration on open source is the best thing humanity ever invented. You will only believe me when you have experienced it first-hand.\\n4.\\tBecause you are the driver of the project you work on, it allows you to uncover something more about yourself, in particular - abilities and discipline: you always have had under/over-estimated yourself in one aspect or another.\\n\\nHere are several things you are going to learn:\\n\\n1.\\t\\"Thinking > Programming\\": the more time you spend on thinking beforehand, the better the code you are going to write. And the more time you spend on reviewing afterwards, the better the code is going to be.\\n2.\\tHow to organize a codebase. Make good use of the Rust type system to craft a modular, testable codebase.\\n3.\\tTest automation. Every SeaQL project is continuously tested, and this is an integral part of our engineering process.\\n4.\\tDocumentation. Our software aims to provide good documentation that is comprehensive, easy to follow, and fun to read.\\n5.\\tPerformance tuning. Depending on the project, we might do some benchmarking and optimization. But in general we put you off from writing code that creates unnecessary overhead.\\n\\nWe were a mentor organization in [GSoC 2022](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql) and may be in 2023 (update: we were not accepted into GSoC 2023). We also offer internships outside of GSoC. So, what are the requirements when you become a contributor?\\n\\n1.\\tBe passionate. You must show your passion in open-source and software engineering, so a good GitHub profile with some participation is needed.\\n2.\\tBe dedicated. This is a full-time job. While being fully remote and flexible on hours, you must have no other commitment or duties during the stipulated internship period.\\n3.\\tBe open-minded. You should listen carefully to your mentors and act on their advice accordingly.\\n4.\\tWrite more. Communicate your thoughts and progress on all channels in an organized manner.\\n\\nDon\u2019t just listen to me though. Here is what our past interns says:\\n\\n+ [Sanford Pun](https://github.com/shpun817) - in the team that created StarfishQL \u2734\ufe0f: [Interning at Vision Cortex and SeaQL](https://shpun817.github.io/2023/01/21/interning-at-vision-cortex-and-seaql/)\\n+ [Panagiotis Karatakis](https://github.com/karatakis) - in the team that created Seaography \ud83e\udded: [My GSoC Experience](https://karatakis.com/blog/my-gsoc-experience)\\n\\nBe well-prepared for your upcoming career in this technology industry! Follow us on [GitHub](https://github.com/SeaQL/) and [Twitter](https://twitter.com/sea_ql) now, and stay tuned for future announcements."},{"id":"2023-01-01-call-for-contributors-n-reviewers","metadata":{"permalink":"/preview/pr-154/blog/2023-01-01-call-for-contributors-n-reviewers","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2023-01-01-call-for-contributors-n-reviewers.md","source":"@site/blog/2023-01-01-call-for-contributors-n-reviewers.md","title":"Call for Contributors and Reviewers \ud83d\udce2","description":"We are calling for contributors and reviewers for SeaQL projects \ud83d\udce2!","date":"2023-01-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.46,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Founder","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2023-01-01-call-for-contributors-n-reviewers","title":"Call for Contributors and Reviewers \ud83d\udce2","author":"Chris Tsang","author_title":"SeaQL Founder","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"Internship @ SeaQL","permalink":"/preview/pr-154/blog/2023-01-28-internship-at-seaql"},"nextItem":{"title":"What\'s new in SeaQuery 0.28.0","permalink":"/preview/pr-154/blog/2022-12-30-whats-new-in-seaquery-0.28.0"}},"content":"We are calling for contributors and reviewers for SeaQL projects \ud83d\udce2!\\n\\nThe SeaQL userbase has been steadily growing in the past year, and it\u2019s a pleasure for us to have helped individuals and start-ups to build their projects in Rust. However, the volume of questions, issues and pull requests is nearly saturating our core members\u2019 capacity.\\n\\nBut again, thank you everyone for participating in the community!\\n\\nIf your project depends on SeaQL and you want to help us, here are some suggestions (if you have not already, star [all our repositories](https://github.com/orgs/SeaQL/repositories?q=&type=all&language=&sort=stargazers) and follow us on [Twitter](https://twitter.com/sea_ql)):\\n1.\\tFinancial Contribution. You can [sponsor us on GitHub](https://github.com/sponsors/SeaQL) and those will be used to cover our expenses. As a courtesy, we listen to our sponsors for their needs and use cases, and we also communicate our organizational development from time-to-time.\\n2.\\tCode Contribution. Opening a PR with us is always appreciated! To get started, you can go through our issue trackers and pick one to handle. If you are thinking of developing a substantial feature, start with drafting a [\\"Proposal & Implementation Plan\\" (PIP)](https://github.com/SeaQL/sea-orm/issues?q=is%3Aissue+%5BPIP%5D).\\n3.\\tKnowledge Contribution. There are various formats of knowledge sharing: [tutorial](https://github.com/SeaQL/sea-orm-tutorial), [cookbook](https://github.com/SeaQL/sea-orm-cookbook), [QnA](https://github.com/SeaQL/sea-orm/discussions/categories/q-a) and Discord. You can open PRs to our [documentation](https://github.com/SeaQL/seaql.github.io) repositories or publish on your own. We will be happy to list it in our learning resources section. Keep an eye on our GitHub Discussions and Discord and help others where you can!\\n4.\\tCode Review. This is an important process of our engineering. Right now, only 3 of our core members serve as reviewers. Non-core members can also become reviewers and I invite you to become one!\\n\\nNow, I\u2019d like to outline our review policy: for maturing projects, each PR merged has to be approved by at least two reviewers and one of them must be a core member; self-review allowed. Here are some examples:\\n\\n+ A core member opened a PR, another core member approved \u2705 \\n+ A core member opened a PR, a reviewer approved \u2705\\n+ A reviewer opened a PR, a core member approved \u2705\\n+ A reviewer opened a PR, another reviewer approved \u26d4\\n+ A contributor opened a PR, 2 core members approved \u2705\\n+ A contributor opened a PR, a core member and a reviewer approved \u2705\\n+ A contributor opened a PR, 2 reviewers approved \u26d4\\n\\nIn a nutshell, at least two pairs of trusted eyes should have gone through each PR.\\n\\n### What are the criteria when reviewing a PR?\\n\\nThe following questions should all be answered yes.\\n\\n1.\\tImplementation, documentation and tests\\n    1.\\tIs the implementation easy to follow (have meaningful variable and function names)?\\n    2.\\tIs there sufficient document to the API?\\n    3.\\tAre there adequate tests covering various cases?\\n2.\\tAPI design\\n    1.\\tIs the API self-documenting so users can understand its use easily?\\n    2.\\tIs the API style consistent with our existing API?\\n    3.\\tDoes the API made reasonable use of the type system to enforce constraints?\\n    4.\\tAre the failure paths and error messages clear?\\n    5.  Are all breaking changes justified and documented?\\n3.\\tFunctionality\\n    1.\\tDoes the feature make sense in computer science terms?\\n    2.\\tDoes the feature actually work with all our supported backends?\\n    3.\\tAre all caveats discussed and eliminated / documented?\\n4.\\tArchitecture\\n    1.\\tDoes it fit with the existing architecture of our codebase?\\n    2.\\tIs it not going to create technical debt / maintenance burden?\\n    3.\\tDoes it not break abstraction?\\n\\n1, 2 & 3 are fairly objective and factual, however the answers to 4 probably require some discussion and debate. If a consensus cannot be made, [@tyt2y3](https://github.com/tyt2y3) will make the final verdict.\\n\\n### Who are the current reviewers?\\n\\nAs of today, SeaQL has 3 core members who are also reviewers:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n                Founder. Maintains all projects.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n              Founding member. Co-maintainer of SeaORM and Seaography.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ikrivosheev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/6786239?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Ivan Krivosheev\\n                </div>\\n                Joined in 2022. Co-maintainer of SeaQuery.\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n### How to become a reviewer?\\n\\nWe are going to invite a few contributors we worked closely with, but you can also volunteer \u2013 the requirement is: you have made substantial code contribution to our projects, and has shown familiarity with our [engineering practices](https://www.sea-ql.org/blog/2022-07-30-engineering/).\\n\\nOver time, when you have made significant contribution to our organization, you can also become a core member.\\n\\n### Let\u2019s build for Rust\'s future together \ud83e\udd80"},{"id":"2022-12-30-whats-new-in-seaquery-0.28.0","metadata":{"permalink":"/preview/pr-154/blog/2022-12-30-whats-new-in-seaquery-0.28.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-12-30-whats-new-in-seaquery-0.28.0.md","source":"@site/blog/2022-12-30-whats-new-in-seaquery-0.28.0.md","title":"What\'s new in SeaQuery 0.28.0","description":"\ud83c\udf89 We are pleased to release SeaQuery 0.28.0! Here are some feature highlights \ud83c\udf1f:","date":"2022-12-30T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":5.88,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Ivan Krivosheev","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-12-30-whats-new-in-seaquery-0.28.0","title":"What\'s new in SeaQuery 0.28.0","author":"SeaQL Team","author_title":"Ivan Krivosheev","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Call for Contributors and Reviewers \ud83d\udce2","permalink":"/preview/pr-154/blog/2023-01-01-call-for-contributors-n-reviewers"},"nextItem":{"title":"What\'s new in Seaography 0.3.0","permalink":"/preview/pr-154/blog/2022-12-02-whats-new-in-seaography-0.3.0"}},"content":"\ud83c\udf89 We are pleased to release SeaQuery [`0.28.0`](https://github.com/SeaQL/sea-query/releases/tag/0.28.0)! Here are some feature highlights \ud83c\udf1f:\\n\\n## New `IdenStatic` trait for static identifier\\n\\n[[#508](https://github.com/SeaQL/sea-query/pull/508)] Representing a identifier with `&\'static str`. The `IdenStatic` trait looks like this:\\n\\n```rust\\npub trait IdenStatic: Iden + Copy + \'static {\\n    fn as_str(&self) -> &\'static str;\\n}\\n```\\n\\nYou can derive it easily for your existing `Iden`. Just changing the `#[derive(Iden)]` into `#[derive(IdenStatic)]`.\\n\\n```rust\\n#[derive(IdenStatic)]\\nenum User {\\n    Table,\\n    Id,\\n    FirstName,\\n    LastName,\\n    #[iden = \\"_email\\"]\\n    Email,\\n}\\n\\nassert_eq!(User::Email.as_str(), \\"_email\\");\\n```\\n\\n## New `PgExpr` and `SqliteExpr` traits for backend specific expressions\\n\\n[[#519](https://github.com/SeaQL/sea-query/pull/519)] Postgres specific and SQLite specific expressions are being moved into its corresponding trait. You need to import the trait into scope before construct the expression with those backend specific methods.\\n\\n```rust\\n// Importing `PgExpr` trait before constructing Postgres expression\\nuse sea_query::{extension::postgres::PgExpr, tests_cfg::*, *};\\n\\nlet query = Query::select()\\n    .columns([Font::Name, Font::Variant, Font::Language])\\n    .from(Font::Table)\\n    .and_where(Expr::val(\\"a\\").concatenate(\\"b\\").concat(\\"c\\").concat(\\"d\\"))\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT \\"name\\", \\"variant\\", \\"language\\" FROM \\"font\\" WHERE \'a\' || \'b\' || \'c\' || \'d\'\\"#\\n);\\n```\\n\\n```rust\\n// Importing `SqliteExpr` trait before constructing SQLite expression\\n use sea_query::{extension::sqlite::SqliteExpr, tests_cfg::*, *};\\n\\n let query = Query::select()\\n    .column(Font::Name)\\n    .from(Font::Table)\\n    .and_where(Expr::col(Font::Name).matches(\\"a\\"))\\n    .to_owned();\\n\\n assert_eq!(\\n    query.to_string(SqliteQueryBuilder),\\n    r#\\"SELECT \\"name\\" FROM \\"font\\" WHERE \\"name\\" MATCH \'a\'\\"#\\n );\\n```\\n\\n## Bug Fixes\\n\\n* Wrap unions into parenthesis https://github.com/SeaQL/sea-query/pull/498\\n* Syntax error on empty condition https://github.com/SeaQL/sea-query/pull/505\\n```rust\\n// given\\nlet (statement, values) = sea_query::Query::select()\\n    .column(Glyph::Id)\\n    .from(Glyph::Table)\\n    .cond_where(Cond::any()\\n        .add(Cond::all()) // empty all() => TRUE\\n        .add(Cond::any()) // empty any() => FALSE\\n    )\\n    .build(sea_query::MysqlQueryBuilder);\\n\\n// old behavior\\nassert_eq!(statement, r#\\"SELECT `id` FROM `glyph`\\"#);\\n\\n// new behavior\\nassert_eq!(\\n    statement,\\n    r#\\"SELECT `id` FROM `glyph` WHERE (TRUE) OR (FALSE)\\"#\\n);\\n\\n// a complex example\\nlet (statement, values) = Query::select()\\n    .column(Glyph::Id)\\n    .from(Glyph::Table)\\n    .cond_where(\\n        Cond::all()\\n            .add(Cond::all().not())\\n            .add(Cond::any().not())\\n            .not(),\\n    )\\n    .build(MysqlQueryBuilder);\\n\\nassert_eq!(\\n    statement,\\n    r#\\"SELECT `id` FROM `glyph` WHERE NOT ((NOT TRUE) AND (NOT FALSE))\\"#\\n);\\n```\\n\\n## Breaking Changes\\n\\n* [[#535](https://github.com/SeaQL/sea-query/pull/535)] MSRV is up to 1.62\\n```shell\\n# Make sure you\'re running SeaQuery with Rust 1.62+ \ud83e\udd80\\n$ rustup update\\n```\\n\\n* [[#492](https://github.com/SeaQL/sea-query/pull/492)] `ColumnType::Array` definition changed from `Array(SeaRc<Box<ColumnType>>)` to `Array(SeaRc<ColumnType>)`\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] `Func::*` now returns `FunctionCall` instead of `SimpleExpr`\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] `Func::coalesce` now accepts `IntoIterator<Item = SimpleExpr>` instead of `IntoIterator<Item = Into<SimpleExpr>`\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] Removed `Expr::arg` and `Expr::args` - these functions are no longer needed\\n* [[#507](https://github.com/SeaQL/sea-query/pull/507)] Moved all Postgres specific operators to `PgBinOper`\\n* [[#476](https://github.com/SeaQL/sea-query/pull/476)] `Expr` methods used to accepts `Into<Value>` now accepts `Into<SimpleExpr>`\\n* [[#476](https://github.com/SeaQL/sea-query/pull/476)] `Expr::is_in`, `Expr::is_not_in` now accepts `Into<SimpleExpr>` instead of `Into<Value>` and convert it to `SimpleExpr::Tuple` instead of `SimpleExpr::Values`\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] `Expr::expr` now accepts `Into<SimpleExpr>` instead of `SimpleExpr`\\n* [[#519](https://github.com/SeaQL/sea-query/pull/519)] Moved Postgres specific `Expr` methods to new trait `PgExpr`\\n* [[#528](https://github.com/SeaQL/sea-query/pull/528)] `Expr::equals` now accepts `C: IntoColumnRef` instead of `T: IntoIden, C: IntoIden`\\n```diff\\nuse sea_query::{*, tests_cfg::*};\\n\\nlet query = Query::select()\\n    .columns([Char::Character, Char::SizeW, Char::SizeH])\\n    .from(Char::Table)\\n    .and_where(\\n        Expr::col((Char::Table, Char::FontId))\\n-           .equals(Font::Table, Font::Id)\\n+           .equals((Font::Table, Font::Id))\\n    )\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(MysqlQueryBuilder),\\n    r#\\"SELECT `character`, `size_w`, `size_h` FROM `character` WHERE `character`.`font_id` = `font`.`id`\\"#\\n);\\n```\\n\\n* [[#525](https://github.com/SeaQL/sea-query/pull/525)] Removed integer and date time column types\' display length / precision option\\n\\n## API Additions\\n\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] Added `SelectStatement::from_function`\\n```rust\\nuse sea_query::{tests_cfg::*, *};\\n\\nlet query = Query::select()\\n    .column(ColumnRef::Asterisk)\\n    .from_function(Func::random(), Alias::new(\\"func\\"))\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(MysqlQueryBuilder),\\n    r#\\"SELECT * FROM RAND() AS `func`\\"#\\n);\\n```\\n\\n* [[#486](https://github.com/SeaQL/sea-query/pull/486)] Added binary operators from the Postgres `pg_trgm` extension\\n```rust\\nuse sea_query::extension::postgres::PgBinOper;\\n\\nassert_eq!(\\n    Query::select()\\n        .expr(Expr::col(Font::Name).binary(PgBinOper::WordSimilarity, Expr::value(\\"serif\\")))\\n        .from(Font::Table)\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"SELECT \\"name\\" <% \'serif\' FROM \\"font\\"\\"#\\n);\\n```\\n\\n* [[#473](https://github.com/SeaQL/sea-query/pull/473)] Added `ILIKE` and `NOT ILIKE` operators\\n* [[#510](https://github.com/SeaQL/sea-query/pull/510)] Added the `mul` and `div` methods for `SimpleExpr`\\n* [[#513](https://github.com/SeaQL/sea-query/pull/513)] Added the `MATCH`, `->` and `->>` operators for SQLite\\n```rust\\nuse sea_query::extension::sqlite::SqliteBinOper;\\n\\nassert_eq!(\\n    Query::select()\\n        .column(Char::Character)\\n        .from(Char::Table)\\n        .and_where(Expr::col(Char::Character).binary(SqliteBinOper::Match, Expr::val(\\"test\\")))\\n        .build(SqliteQueryBuilder),\\n    (\\n        r#\\"SELECT \\"character\\" FROM \\"character\\" WHERE \\"character\\" MATCH ?\\"#.to_owned(),\\n        Values(vec![\\"test\\".into()])\\n    )\\n);\\n```\\n\\n* [[#497](https://github.com/SeaQL/sea-query/pull/497)] Added the `FULL OUTER JOIN`\\n* [[#530](https://github.com/SeaQL/sea-query/pull/530)] Added `PgFunc::get_random_uuid`\\n* [[#528](https://github.com/SeaQL/sea-query/pull/528)] Added `SimpleExpr::eq`, `SimpleExpr::ne`, `Expr::not_equals`\\n* [[#529](https://github.com/SeaQL/sea-query/pull/529)] Added `PgFunc::starts_with`\\n* [[#535](https://github.com/SeaQL/sea-query/pull/535)] Added `Expr::custom_keyword` and `SimpleExpr::not`\\n```rust\\nuse sea_query::*;\\n\\nlet query = Query::select()\\n    .expr(Expr::custom_keyword(Alias::new(\\"test\\")))\\n    .to_owned();\\n\\nassert_eq!(query.to_string(MysqlQueryBuilder), r#\\"SELECT test\\"#);\\nassert_eq!(query.to_string(PostgresQueryBuilder), r#\\"SELECT test\\"#);\\nassert_eq!(query.to_string(SqliteQueryBuilder), r#\\"SELECT test\\"#);\\n```\\n\\n* [[#539](https://github.com/SeaQL/sea-query/pull/539)] Added `SimpleExpr::like`, `SimpleExpr::not_like` and `Expr::cast_as`\\n* [[#532](https://github.com/SeaQL/sea-query/pull/532)] Added support for `NULLS NOT DISTINCT` clause for Postgres\\n* [[#531](https://github.com/SeaQL/sea-query/pull/531)] Added `Expr::cust_with_expr` and `Expr::cust_with_exprs`\\n```rust\\nuse sea_query::{tests_cfg::*, *};\\n\\nlet query = Query::select()\\n    .expr(Expr::cust_with_expr(\\"data @? ($1::JSONPATH)\\", \\"hello\\"))\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT data @? (\'hello\'::JSONPATH)\\"#\\n);\\n```\\n\\n* [[#538](https://github.com/SeaQL/sea-query/pull/538)] Added support for converting `&String` to Value\\n\\n## Miscellaneous Enhancements\\n\\n* [[#475](https://github.com/SeaQL/sea-query/pull/475)] New struct `FunctionCall` which hold function and arguments\\n* [[#503](https://github.com/SeaQL/sea-query/pull/503)] Support `BigDecimal`, `IpNetwork` and `MacAddress` for `sea-query-postgres`\\n* [[#511](https://github.com/SeaQL/sea-query/pull/511)] Made `value::with_array` module public and therefore making `NotU8` trait public\\n* [[#524](https://github.com/SeaQL/sea-query/pull/524)] Drop the `Sized` requirement on implementers of `SchemaBuilders`\\n\\n## Integration Examples\\n\\nSeaQuery plays well with the other crates in the rust ecosystem. \\n\\n- [Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\n- [Rusqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\n- [SQLx Any Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any)\\n- [SQLx Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\n- [SQLx MySql Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\n- [SQLx Sqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future."},{"id":"2022-12-02-whats-new-in-seaography-0.3.0","metadata":{"permalink":"/preview/pr-154/blog/2022-12-02-whats-new-in-seaography-0.3.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-12-02-whats-new-in-seaography-0.3.0.md","source":"@site/blog/2022-12-02-whats-new-in-seaography-0.3.0.md","title":"What\'s new in Seaography 0.3.0","description":"\ud83c\udf89 We are pleased to release Seaography 0.3.0! Here are some feature highlights \ud83c\udf1f:","date":"2022-12-02T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":3.56,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Panagiotis Karatakis","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-12-02-whats-new-in-seaography-0.3.0","title":"What\'s new in Seaography 0.3.0","author":"SeaQL Team","author_title":"Panagiotis Karatakis","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaQuery 0.28.0","permalink":"/preview/pr-154/blog/2022-12-30-whats-new-in-seaquery-0.28.0"},"nextItem":{"title":"What\'s new in SeaORM 0.10.x","permalink":"/preview/pr-154/blog/2022-11-10-whats-new-in-0.10.x"}},"content":"\ud83c\udf89 We are pleased to release Seaography [`0.3.0`](https://github.com/SeaQL/seaography/releases/tag/0.3.0)! Here are some feature highlights \ud83c\udf1f:\\n\\n## Dependency Upgrade\\n\\n[[#93](https://github.com/SeaQL/seaography/pull/93)] We have upgraded a major dependency:\\n- Upgrade [`sea-orm`](https://github.com/SeaQL/sea-orm) to 0.10\\n\\nYou might need to upgrade the corresponding dependency in your application as well.\\n\\n## Support Self Referencing Relation\\n\\n[[#99](https://github.com/SeaQL/seaography/pull/99)] You can now query self referencing models and the inverse of it.\\n\\nSelf referencing relation should be added to the `Relation` enum, note that the `belongs_to` attribute must be `belongs_to = \\"Entity\\"`.\\n\\n```rust\\nuse sea_orm::entity::prelude::*;\\n\\n#[derive(\\n    Clone, Debug, PartialEq, DeriveEntityModel,\\n    async_graphql::SimpleObject, seaography::macros::Filter,\\n)]\\n#[sea_orm(table_name = \\"staff\\")]\\n#[graphql(complex)]\\n#[graphql(name = \\"Staff\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub staff_id: i32,\\n    pub first_name: String,\\n    pub last_name: String,\\n    pub reports_to_id: Option<i32>,\\n}\\n\\n#[derive(\\n    Copy, Clone, Debug, EnumIter, DeriveRelation,\\n    seaography::macros::RelationsCompact\\n)]\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"Entity\\",\\n        from = \\"Column::ReportsToId\\",\\n        to = \\"Column::StaffId\\",\\n    )]\\n    SelfRef,\\n}\\n\\nimpl ActiveModelBehavior for ActiveModel {}\\n```\\n\\nThen, you can query the related models in GraphQL.\\n\\n```graphql\\n{\\n    staff {\\n        nodes {\\n            firstName\\n            reportsToId\\n            selfRefReverse {\\n                staffId\\n                firstName\\n            }\\n            selfRef {\\n                staffId\\n                firstName\\n            }\\n        }\\n    }\\n}\\n```\\n\\nThe resulting JSON\\n\\n```json\\n{\\n    \\"staff\\": {\\n        \\"nodes\\": [\\n            {\\n                \\"firstName\\": \\"Mike\\",\\n                \\"reportsToId\\": null,\\n                \\"selfRefReverse\\": [\\n                    {\\n                        \\"staffId\\": 2,\\n                        \\"firstName\\": \\"Jon\\"\\n                    }\\n                ],\\n                \\"selfRef\\": null\\n            },\\n            {\\n                \\"firstName\\": \\"Jon\\",\\n                \\"reportsToId\\": 1,\\n                \\"selfRefReverse\\": null,\\n                \\"selfRef\\": {\\n                    \\"staffId\\": 1,\\n                    \\"firstName\\": \\"Mike\\"\\n                }\\n            }\\n        ]\\n    }\\n}\\n```\\n\\n## Web Framework Generator\\n\\n[[#74](https://github.com/SeaQL/seaography/pull/74)] You can generate `seaography` project with either Actix or Poem as the web server.\\n\\n### CLI Generator Option\\n\\nRun `seaography-cli` to generate `seaography` code with Actix or Poem as the web framework.\\n\\n```shell\\n# The command take three arguments, generating project with Poem web framework by default\\nseaography-cli <DATABASE_URL> <CRATE_NAME> <DESTINATION>\\n\\n# Generating project with Actix web framework\\nseaography-cli -f actix <DATABASE_URL> <CRATE_NAME> <DESTINATION>\\n\\n# MySQL\\nseaography-cli mysql://root:root@localhost/sakila seaography-mysql-example examples/mysql\\n# PostgreSQL\\nseaography-cli postgres://root:root@localhost/sakila seaography-postgres-example examples/postgres\\n# SQLite\\nseaography-cli sqlite://examples/sqlite/sakila.db seaography-sqlite-example examples/sqliteql\\n```\\n\\n### Actix\\n\\n```rust\\nuse async_graphql::{\\n    dataloader::DataLoader,\\n    http::{playground_source, GraphQLPlaygroundConfig},\\n    EmptyMutation, EmptySubscription, Schema,\\n};\\nuse async_graphql_actix_web::{GraphQLRequest, GraphQLResponse};\\nuse sea_orm::Database;\\nuse seaography_example_project::*;\\n// ...\\n\\nasync fn graphql_playground() -> Result<HttpResponse> {\\n    Ok(HttpResponse::Ok()\\n        .content_type(\\"text/html; charset=utf-8\\")\\n        .body(\\n            playground_source(GraphQLPlaygroundConfig::new(\\"http://localhost:8000\\"))\\n        ))\\n}\\n\\n#[actix_web::main]\\nasync fn main() -> std::io::Result<()> {\\n    // ...\\n\\n    let database = Database::connect(db_url).await.unwrap();\\n    let orm_dataloader: DataLoader<OrmDataloader> = DataLoader::new(\\n        OrmDataloader {\\n            db: database.clone(),\\n        },\\n        tokio::spawn,\\n    );\\n\\n    let schema = Schema::build(QueryRoot, EmptyMutation, EmptySubscription)\\n        .data(database)\\n        .data(orm_dataloader)\\n        .finish();\\n\\n    let app = App::new()\\n        .app_data(Data::new(schema.clone()))\\n        .service(web::resource(\\"/\\").guard(guard::Post()).to(index))\\n        .service(web::resource(\\"/\\").guard(guard::Get()).to(graphql_playground));\\n\\n    HttpServer::new(app)\\n        .bind(\\"127.0.0.1:8000\\")?\\n        .run()\\n        .await\\n}\\n```\\n\\n### Poem\\n\\n```rust\\nuse async_graphql::{\\n    dataloader::DataLoader,\\n    http::{playground_source, GraphQLPlaygroundConfig},\\n    EmptyMutation, EmptySubscription, Schema,\\n};\\nuse async_graphql_poem::GraphQL;\\nuse poem::{handler, listener::TcpListener, web::Html, IntoResponse, Route, Server};\\nuse sea_orm::Database;\\nuse seaography_example_project::*;\\n// ...\\n\\n#[handler]\\nasync fn graphql_playground() -> impl IntoResponse {\\n    Html(playground_source(GraphQLPlaygroundConfig::new(\\"/\\")))\\n}\\n\\n#[tokio::main]\\nasync fn main() {\\n    // ...\\n\\n    let database = Database::connect(db_url).await.unwrap();\\n    let orm_dataloader: DataLoader<OrmDataloader> = DataLoader::new(\\n        OrmDataloader { db: database.clone() },\\n        tokio::spawn,\\n    );\\n\\n    let schema = Schema::build(QueryRoot, EmptyMutation, EmptySubscription)\\n        .data(database)\\n        .data(orm_dataloader)\\n        .finish();\\n\\n    let app = Route::new()\\n        .at(\\"/\\", get(graphql_playground)\\n        .post(GraphQL::new(schema)));\\n\\n    Server::new(TcpListener::bind(\\"0.0.0.0:8000\\"))\\n        .run(app)\\n        .await\\n        .unwrap();\\n}\\n```\\n\\n## Related Query Enhancement\\n\\n[[#84](https://github.com/SeaQL/seaography/pull/84)] Filtering, sorting and paginating related 1-to-many queries. Note that the pagination is work-in-progress, currently it is in memory pagination.\\n\\nFor example, find all inactive customers, include their address, and their payments with amount greater than 7 ordered by amount the second result. You can execute the query below at our [GraphQL playground](https://playground.sea-ql.org/seaography).\\n\\n```graphql\\n{\\n  customer(\\n    filters: { active: { eq: 0 } }\\n    pagination: { cursor: { limit: 3, cursor: \\"Int[3]:271\\" } }\\n  ) {\\n    nodes {\\n      customerId\\n      lastName\\n      email\\n      address {\\n        address\\n      }\\n      payment(\\n        filters: { amount: { gt: \\"7\\" } }\\n        orderBy: { amount: ASC }\\n        pagination: { pages: { limit: 1, page: 1 } }\\n      ) {\\n        nodes {\\n          paymentId\\n          amount\\n        }\\n        pages\\n        current\\n        pageInfo {\\n          hasPreviousPage\\n          hasNextPage\\n        }\\n      }\\n    }\\n    pageInfo {\\n      hasPreviousPage\\n      hasNextPage\\n      endCursor\\n    }\\n  }\\n}\\n```\\n\\n## Integration Examples\\n\\nWe have the following examples for you, alongside with the SQL scripts to initialize the database.\\n\\n* [MySQL](https://github.com/SeaQL/seaography/tree/main/examples/mysql)\\n* [PostgreSQL](https://github.com/SeaQL/seaography/tree/main/examples/postgres)\\n* [SQLite](https://github.com/SeaQL/seaography/tree/main/examples/sqlite)\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future."},{"id":"2022-11-10-whats-new-in-0.10.x","metadata":{"permalink":"/preview/pr-154/blog/2022-11-10-whats-new-in-0.10.x","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-11-10-whats-new-in-0.10.x.md","source":"@site/blog/2022-11-10-whats-new-in-0.10.x.md","title":"What\'s new in SeaORM 0.10.x","description":"\ud83c\udf89 We are pleased to release SeaORM 0.10.0!","date":"2022-11-10T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":9.6,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-11-10-whats-new-in-0.10.x","title":"What\'s new in SeaORM 0.10.x","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in Seaography 0.3.0","permalink":"/preview/pr-154/blog/2022-12-02-whats-new-in-seaography-0.3.0"},"nextItem":{"title":"Toggle Stacked Download Graph in crates.io","permalink":"/preview/pr-154/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.10.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.10.0)!\\n\\n## Rust 1.65\\n\\nThe long-anticipated Rust [1.65](https://blog.rust-lang.org/2022/11/03/Rust-1.65.0.html) has been released! Generic associated types (GATs) must be the hottest newly-stabilized feature.\\n\\nHow is GAT useful to SeaORM? Let\'s take a look at the following:\\n\\n```rust\\ntrait StreamTrait<\'a>: Send + Sync {\\n    type Stream: Stream<Item = Result<QueryResult, DbErr>> + Send;\\n\\n    fn stream(\\n        &\'a self,\\n        stmt: Statement,\\n    ) -> Pin<Box<dyn Future<Output = Result<Self::Stream, DbErr>> + \'a + Send>>;\\n}\\n```\\n\\nYou can see that the `Future` has a lifetime `\'a`, but as a side effect the lifetime is tied to `StreamTrait`.\\n\\nWith GAT, the lifetime can be elided:\\n\\n```rust\\ntrait StreamTrait: Send + Sync {\\n    type Stream<\'a>: Stream<Item = Result<QueryResult, DbErr>> + Send\\n    where\\n        Self: \'a;\\n\\n    fn stream<\'a>(\\n        &\'a self,\\n        stmt: Statement,\\n    ) -> Pin<Box<dyn Future<Output = Result<Self::Stream<\'a>, DbErr>> + \'a + Send>>;\\n}\\n```\\n\\nWhat benefit does it bring in practice? Consider you have a function that accepts a generic `ConnectionTrait` and calls `stream()`: \\n\\n```rust\\nasync fn processor<\'a, C>(conn: &\'a C) -> Result<...>\\nwhere C: ConnectionTrait + StreamTrait<\'a> {...}\\n```\\n\\nThe fact that the lifetime of the connection is tied to the stream can create confusion to the compiler, most likely when you are making transactions:\\n\\n```rust\\nasync fn do_transaction<C>(conn: &C) -> Result<...>\\nwhere C: ConnectionTrait + TransactionTrait\\n{\\n    let txn = conn.begin().await?;\\n    processor(&txn).await?;\\n    txn.commit().await?;\\n}\\n```\\n\\nBut now, with the lifetime of the stream elided, it\'s much easier to work on streams inside transactions because the two lifetimes are now distinct and the stream\'s lifetime is implicit:\\n\\n```rust\\nasync fn processor<C>(conn: &C) -> Result<...>\\nwhere C: ConnectionTrait + StreamTrait {...}\\n```\\n\\nBig thanks to [@nappa85](https://github.com/nappa85) for the [contribution](https://github.com/SeaQL/sea-orm/pull/1161).\\n\\n ---\\n\\nBelow are some feature highlights \ud83c\udf1f:\\n\\n## Support Array Data Types in Postgres\\n\\n[[#1132](https://github.com/SeaQL/sea-orm/pull/1132)] Support model field of type `Vec<T>`. (by [@hf29h8sh321](https://github.com/hf29h8sh321), [@ikrivosheev](https://github.com/ikrivosheev), [@tyt2y3](https://github.com/tyt2y3), [@billy1624](https://github.com/billy1624))\\n\\nYou can define a vector of types that are already supported by SeaORM in the model.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"collection\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub integers: Vec<i32>,\\n    pub integers_opt: Option<Vec<i32>>,\\n    pub floats: Vec<f32>,\\n    pub doubles: Vec<f64>,\\n    pub strings: Vec<String>,\\n}\\n```\\n\\nKeep in mind that you need to enable the `postgres-array` feature and this is a Postgres only feature.\\n\\n```toml\\nsea-orm = { version = \\"0.10\\", features = [\\"postgres-array\\", ...] }\\n```\\n\\n## Better Error Types\\n\\n[[#750](https://github.com/SeaQL/sea-orm/pull/750), [#1002](https://github.com/SeaQL/sea-orm/pull/1002)] Error types with parsable database specific error. (by [@mohs8421](https://github.com/mohs8421), [@tyt2y3](https://github.com/tyt2y3))\\n\\n```rust\\nlet mud_cake = cake::ActiveModel {\\n    id: Set(1),\\n    name: Set(\\"Moldy Cake\\".to_owned()),\\n    price: Set(dec!(10.25)),\\n    gluten_free: Set(false),\\n    serial: Set(Uuid::new_v4()),\\n    bakery_id: Set(None),\\n};\\n\\n// Insert a new cake with its primary key (`id` column) set to 1.\\nlet cake = mud_cake.save(db).await.expect(\\"could not insert cake\\");\\n\\n// Insert the same row again and it failed\\n// because primary key of each row should be unique.\\nlet error: DbErr = cake\\n    .into_active_model()\\n    .insert(db)\\n    .await\\n    .expect_err(\\"inserting should fail due to duplicate primary key\\");\\n\\nmatch error {\\n    DbErr::Exec(RuntimeErr::SqlxError(error)) => match error {\\n        Error::Database(e) => {\\n            // We check the error code thrown by the database (MySQL in this case),\\n            // `23000` means `ER_DUP_KEY`: we have a duplicate key in the table.\\n            assert_eq!(e.code().unwrap(), \\"23000\\");\\n        }\\n        _ => panic!(\\"Unexpected sqlx-error kind\\"),\\n    },\\n    _ => panic!(\\"Unexpected Error kind\\"),\\n}\\n```\\n\\n## Run Migration on Any Postgres Schema\\n\\n[[#1056](https://github.com/SeaQL/sea-orm/pull/1056)] By default migration will be run on the `public` schema, you can now override it when running migration on the CLI or programmatically. (by [@MattGson](https://github.com/MattGson), [@nahuakang](https://github.com/nahuakang), [@billy1624](https://github.com/billy1624))\\n\\nFor CLI, you can specify the target schema with `-s` / `--database_schema` option:\\n* via sea-orm-cli: `sea-orm-cli migrate -u postgres://root:root@localhost/database -s my_schema`\\n* via SeaORM migrator: `cargo run -- -u postgres://root:root@localhost/database -s my_schema`\\n\\nYou can also run the migration on the target schema programmatically:\\n\\n```rust\\nlet connect_options = ConnectOptions::new(\\"postgres://root:root@localhost/database\\".into())\\n    .set_schema_search_path(\\"my_schema\\".into()) // Override the default schema\\n    .to_owned();\\n\\nlet db = Database::connect(connect_options).await?\\n\\nmigration::Migrator::up(&db, None).await?;\\n```\\n\\n## Breaking Changes\\n\\n* [[#789](https://github.com/SeaQL/sea-orm/pull/789)] Replaced `usize` with `u64` in `PaginatorTrait` (by [@liberwang1013](https://github.com/liberwang1013))\\n* [[#1002](https://github.com/SeaQL/sea-orm/pull/1002)] Type signature of `DbErr` changed as a result of the PR (by [@mohs8421](https://github.com/mohs8421), [@tyt2y3](https://github.com/tyt2y3))\\n\\n* `ColumnType::Enum` structure changed:\\n```rust\\nenum ColumnType {\\n    // then\\n    Enum(String, Vec<String>)\\n\\n    // now\\n    Enum {\\n        /// Name of enum\\n        name: DynIden,\\n        /// Variants of enum\\n        variants: Vec<DynIden>,\\n    }\\n    ...\\n}\\n```\\n\\n* A new method `array_type` was added to `ValueType`:\\n```rust\\nimpl sea_orm::sea_query::ValueType for MyType {\\n    fn array_type() -> sea_orm::sea_query::ArrayType {\\n        sea_orm::sea_query::ArrayType::TypeName\\n    }\\n    ...\\n}\\n```\\n\\n* `ActiveEnum::name()` changed return type to `DynIden`:\\n```rust\\n#[derive(Debug, Iden)]\\n#[iden = \\"category\\"]\\npub struct CategoryEnum;\\n\\nimpl ActiveEnum for Category {\\n    // then\\n    fn name() -> String {\\n        \\"category\\".to_owned()\\n    }\\n\\n    // now\\n    fn name() -> DynIden {\\n        SeaRc::new(CategoryEnum)\\n    }\\n    ...\\n}\\n```\\n\\n## SeaORM Enhancements\\n\\n* [[#995](https://github.com/SeaQL/sea-orm/pull/995)] Support `time` crate for SQLite (by [@billy1624](https://github.com/billy1624))\\n* [[#902](https://github.com/SeaQL/sea-orm/pull/902)] Support `distinct` & `distinct_on` expression (by [@edg](https://github.com/edg)-l, [@kyoto7250](https://github.com/kyoto7250))\\n* [[#973](https://github.com/SeaQL/sea-orm/pull/973)] `fn column()` also handle enum type (by [@tyt2y3](https://github.com/tyt2y3), [@billy1624](https://github.com/billy1624))\\n* [[#897](https://github.com/SeaQL/sea-orm/pull/897)] Added `acquire_timeout` on `ConnectOptions` (by [@001wwang](https://github.com/001wwang), [@billy1624](https://github.com/billy1624))\\n* [[#1020](https://github.com/SeaQL/sea-orm/pull/1020)] Better compile error for entity without primary key (by [@Sytten](https://github.com/Sytten), [@billy1624](https://github.com/billy1624))\\n* [[#833](https://github.com/SeaQL/sea-orm/pull/833)] Added blanket implementations of `IntoActiveValue` for `Option` values (by [@wdcocq](https://github.com/wdcocq))\\n* [[#1112](https://github.com/SeaQL/sea-orm/pull/1112)] Added `into_model` & `into_json` to `Cursor` (by [@jukanntenn](https://github.com/jukanntenn), [@billy1624](https://github.com/billy1624))\\n* [[#1056](https://github.com/SeaQL/sea-orm/pull/1056)] Added `set_schema_search_path` method to `ConnectOptions` for setting schema search path of PostgreSQL connection (by [@MattGson](https://github.com/MattGson), [@billy1624](https://github.com/billy1624))\\n* [[#1042](https://github.com/SeaQL/sea-orm/pull/1042)] Serialize `time` types as `serde_json::Value` (by [@jimmycuadra](https://github.com/jimmycuadra), [@billy1624](https://github.com/billy1624))\\n* [[#986](https://github.com/SeaQL/sea-orm/pull/986)] Implements `fmt::Display` for `ActiveEnum` (by [@jesseduffield](https://github.com/jesseduffield), [@billy264](https://github.com/billy264))\\n* [[#990](https://github.com/SeaQL/sea-orm/pull/990)] Implements `TryFrom<ActiveModel>` for `Model` (by [@MattGson](https://github.com/MattGson), [@greenhandatsjtu](https://github.com/greenhandatsjtu))\\n\\n## CLI Enhancements\\n\\n* [[#1052](https://github.com/SeaQL/sea-orm/pull/1052)] Escape module name defined with Rust keywords (by [@andy128k](https://github.com/andy128k))\\n* [[#879](https://github.com/SeaQL/sea-orm/pull/879), [#1155](https://github.com/SeaQL/sea-orm/pull/1155)] Check to make sure migration name doesn\'t contain hyphen `-` in it (by [@AngelOnFira](https://github.com/AngelOnFira))\\n* [[#953](https://github.com/SeaQL/sea-orm/pull/953)] Generate entity files as a library or module (by [@viktorbahr](https://github.com/viktorbahr), [@HigherOrderLogic](https://github.com/HigherOrderLogic))\\n* [[#947](https://github.com/SeaQL/sea-orm/pull/947)] Generate a new migration template with name prefix of unix timestamp (by [@Animeshz](https://github.com/Animeshz))\\n* [[#933](https://github.com/SeaQL/sea-orm/pull/933)] Generate migration in modules (by [@remlse](https://github.com/remlse))\\n* [[#1019](https://github.com/SeaQL/sea-orm/pull/1019)] Generate `DeriveRelation` on empty `Relation` enum (by [@alper](https://github.com/alper), [@billy1624](https://github.com/billy1624))\\n* [[#988](https://github.com/SeaQL/sea-orm/pull/988)] Generate entity derive `Eq` if possible (by [@billy1624](https://github.com/billy1624), [@w93163red](https://github.com/w93163red))\\n* [[#1056](https://github.com/SeaQL/sea-orm/pull/1056)] Run migration on any PostgreSQL schema (by [@MattGson](https://github.com/MattGson), [@billy1624](https://github.com/billy1624))\\n* [[#864](https://github.com/SeaQL/sea-orm/pull/864), [#991](https://github.com/SeaQL/sea-orm/pull/991)] `migrate fresh` command will drop all PostgreSQL types (by [@MaderNoob](https://github.com/MaderNoob), [@karpa4o4](https://github.com/karpa4o4))\\n\\nPlease check [here](https://github.com/SeaQL/sea-orm/blob/master/CHANGELOG.md#0101---2022-10-27) for the complete changelog.\\n\\n## Integration Examples\\n\\nSeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples [wanted](https://github.com/SeaQL/sea-orm/issues/269)!\\n\\n- [Actix v4 Example](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\n- [Axum Example](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\n- [GraphQL Example](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\n- [jsonrpsee Example](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\n- [Poem Example](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\n- [Rocket Example](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\n- [Salvo Example](https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example)\\n- [Tonic Example](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/hgiesel\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7188844?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Henrik Giesel\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/trueb2\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8592049?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Jacob Trueb\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marcusbuffett\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1834328?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marcus Buffett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.11.x`](https://github.com/SeaQL/sea-orm/milestone/11)."},{"id":"2022-11-09-toggle-stacked-download-graph-in-crates-io","metadata":{"permalink":"/preview/pr-154/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io.md","source":"@site/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io.md","title":"Toggle Stacked Download Graph in crates.io","description":"Not long ago we opened a PR \\"Toggle stacked download graph #5010\\" resolving Convert download chart from stacked chart to regular chart #3876 for crates.io.","date":"2022-11-09T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":1.36,"hasTruncateMarker":false,"authors":[{"name":"Billy Chan","title":"SeaQL Team","url":"https://github.com/billy1624","imageURL":"https://avatars.githubusercontent.com/u/30400950?v=4","key":null,"page":null}],"frontMatter":{"slug":"2022-11-09-toggle-stacked-download-graph-in-crates-io","title":"Toggle Stacked Download Graph in crates.io","author":"Billy Chan","author_title":"SeaQL Team","author_url":"https://github.com/billy1624","author_image_url":"https://avatars.githubusercontent.com/u/30400950?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.10.x","permalink":"/preview/pr-154/blog/2022-11-10-whats-new-in-0.10.x"},"nextItem":{"title":"What\'s new in SeaQuery 0.27.0","permalink":"/preview/pr-154/blog/2022-10-31-whats-new-in-seaquery-0.27.0"}},"content":"Not long ago we opened a PR \\"[Toggle stacked download graph #5010](https://github.com/rust-lang/crates.io/pull/5010)\\" resolving [Convert download chart from stacked chart to regular chart #3876](https://github.com/rust-lang/crates.io/issues/3876) for [crates.io](https://github.com/rust-lang/crates.io).\\n\\nWhat\'s it all about?\\n\\n## Problem\\n\\nThe download graph on crates.io used to be a stacked graph. With download count of older versions stack on top of newer versions. You might misinterpret the numbers. Consider this, at the first glance, it seems that version 0.9.2 has 1,500+ downloads on Nov 7. But in fact, it has only 237 downloads that day because the graph is showing the cumulative downloads.\\n\\n![crates.io Stacked Download Graph](https://user-images.githubusercontent.com/30400950/200738670-4266e178-7952-4e05-bff0-c2445ba345bf.png)\\n\\nThis makes it hard to compare the download trend of different versions over time. Why this is important? You may ask. It\'s important to observe the adoption rate of newer version upon release. This paints a general picture if existing users are upgrading to newer version or not.\\n\\n## Solution\\n\\nThe idea is simple but effective: having a dropdown to toggle between stacked and unstacked download graph. With this, one can switch between both display mode, comparing the download trend of different version and observing the most download version in the past 90 days are straightforward and intuitive.\\n\\n![crates.io Unstacked Download Graph](https://user-images.githubusercontent.com/30400950/200741006-6a5e1922-de38-456b-b33d-dfc4ce2f8a93.png)\\n\\n## Conclusion\\n\\nThis is a great tool for us to gauge the adoption rate of our new releases and we highly encourage user upgrading to newer release that contains feature updates and bug fixes."},{"id":"2022-10-31-whats-new-in-seaquery-0.27.0","metadata":{"permalink":"/preview/pr-154/blog/2022-10-31-whats-new-in-seaquery-0.27.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-10-31-whats-new-in-seaquery-0.27.0.md","source":"@site/blog/2022-10-31-whats-new-in-seaquery-0.27.0.md","title":"What\'s new in SeaQuery 0.27.0","description":"\ud83c\udf89 We are pleased to release SeaQuery 0.27.0! Here are some feature highlights \ud83c\udf1f:","date":"2022-10-31T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.62,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Ivan Krivosheev","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-10-31-whats-new-in-seaquery-0.27.0","title":"What\'s new in SeaQuery 0.27.0","author":"SeaQL Team","author_title":"Ivan Krivosheev","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Toggle Stacked Download Graph in crates.io","permalink":"/preview/pr-154/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io"},"nextItem":{"title":"Getting Started with Seaography","permalink":"/preview/pr-154/blog/2022-09-27-getting-started-with-seaography"}},"content":"\ud83c\udf89 We are pleased to release SeaQuery [`0.27.0`](https://github.com/SeaQL/sea-query/releases/tag/0.27.0)! Here are some feature highlights \ud83c\udf1f:\\n\\n## Dependency Upgrade\\n\\n[[#356](https://github.com/SeaQL/sea-query/issues/356)] We have upgraded a major dependency:\\n- Upgrade [`sqlx`](https://github.com/launchbadge/sqlx) to 0.6.1\\n\\nYou might need to upgrade the corresponding dependency in your application as well.\\n\\n## Drivers support\\n\\nWe have reworked the way drivers work in SeaQuery: priori to `0.27.0`, users have to invoke the `sea_query_driver_*` macros. Now each driver `sqlx`, `postgres` & `rusqlite` has their own supporting crate, which integrates tightly with the corresponding libraries. Checkout our integration examples below for more details.\\n\\n[[#383](https://github.com/SeaQL/sea-query/issues/383)] Deprecate `sea-query-driver` in favour of `sea-query-binder`\\n\\n[[#422](https://github.com/SeaQL/sea-query/pull/422)] Rusqlite support is moved to `sea-query-rusqlite`\\n\\n[[#433](https://github.com/SeaQL/sea-query/pull/433)] Postgres support is moved to `sea-query-postgres`\\n\\n```rust\\n// before\\nsea_query::sea_query_driver_postgres!();\\nuse sea_query_driver_postgres::{bind_query, bind_query_as};\\n\\nlet (sql, values) = Query::select()\\n    .from(Character::Table)\\n    .expr(Func::count(Expr::col(Character::Id)))\\n    .build(PostgresQueryBuilder);\\n\\nlet row = bind_query(sqlx::query(&sql), &values)\\n    .fetch_one(&mut pool)\\n    .await\\n    .unwrap();\\n\\n// now\\nuse sea_query_binder::SqlxBinder;\\n\\nlet (sql, values) = Query::select()\\n    .from(Character::Table)\\n    .expr(Func::count(Expr::col(Character::Id)))\\n    .build_sqlx(PostgresQueryBuilder);\\n\\nlet row = sqlx::query_with(&sql, values)\\n    .fetch_one(&mut pool)\\n    .await\\n    .unwrap();\\n\\n// You can now make use of SQLx\'s `query_as_with` nicely:\\nlet rows = sqlx::query_as_with::<_, StructWithFromRow, _>(&sql, values)\\n    .fetch_all(&mut pool)\\n    .await\\n    .unwrap();\\n```\\n\\n## Support sub-query operators: `EXISTS`, `ALL`, `ANY`, `SOME`\\n\\n[[#118](https://github.com/SeaQL/sea-query/issues/118)] Added sub-query operators: `EXISTS`, `ALL`, `ANY`, `SOME`\\n\\n```rust\\nlet query = Query::select()\\n    .column(Char::Id)\\n    .from(Char::Table)\\n    .and_where(\\n        Expr::col(Char::Id)\\n            .eq(\\n                Expr::any(\\n                    Query::select().column(Char::Id).from(Char::Table).take()\\n                )\\n            )\\n    )\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(MysqlQueryBuilder),\\n    r#\\"SELECT `id` FROM `character` WHERE `id` = ANY(SELECT `id` FROM `character`)\\"#\\n);\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT \\"id\\" FROM \\"character\\" WHERE \\"id\\" = ANY(SELECT \\"id\\" FROM \\"character\\")\\"#\\n);\\n```\\n\\n## Support `ON CONFLICT WHERE`\\n\\n[[#366](https://github.com/SeaQL/sea-query/issues/366)] Added support to `ON CONFLICT WHERE`\\n\\n```rust\\nlet query = Query::insert()\\n    .into_table(Glyph::Table)\\n    .columns([Glyph::Aspect, Glyph::Image])\\n    .values_panic(vec![\\n        2.into(),\\n        3.into(),\\n    ])\\n    .on_conflict(\\n        OnConflict::column(Glyph::Id)\\n            .update_expr((Glyph::Image, Expr::val(1).add(2)))\\n            .target_and_where(Expr::tbl(Glyph::Table, Glyph::Aspect).is_null())\\n            .to_owned()\\n    )\\n    .to_owned();\\n\\nassert_eq!(\\n    query.to_string(MysqlQueryBuilder),\\n    r#\\"INSERT INTO `glyph` (`aspect`, `image`) VALUES (2, 3) ON DUPLICATE KEY UPDATE `image` = 1 + 2\\"#\\n);\\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\") VALUES (2, 3) ON CONFLICT (\\"id\\") WHERE \\"glyph\\".\\"aspect\\" IS NULL DO UPDATE SET \\"image\\" = 1 + 2\\"#\\n);\\nassert_eq!(\\n    query.to_string(SqliteQueryBuilder),\\n    r#\\"INSERT INTO \\"glyph\\" (\\"aspect\\", \\"image\\") VALUES (2, 3) ON CONFLICT (\\"id\\") WHERE \\"glyph\\".\\"aspect\\" IS NULL DO UPDATE SET \\"image\\" = 1 + 2\\"#\\n);\\n```\\n\\n## Changed cond_where chaining semantics\\n\\n[[#414](https://github.com/SeaQL/sea-query/issues/414)] Changed cond_where chaining semantics\\n\\n```rust\\n// Before: will extend current Condition\\nassert_eq!(\\n    Query::select()\\n        .cond_where(any![Expr::col(Glyph::Id).eq(1), Expr::col(Glyph::Id).eq(2)])\\n        .cond_where(Expr::col(Glyph::Id).eq(3))\\n        .to_owned()\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"SELECT WHERE \\"id\\" = 1 OR \\"id\\" = 2 OR \\"id\\" = 3\\"#\\n);\\n// Before: confusing, since it depends on the order of invocation:\\nassert_eq!(\\n    Query::select()\\n        .cond_where(Expr::col(Glyph::Id).eq(3))\\n        .cond_where(any![Expr::col(Glyph::Id).eq(1), Expr::col(Glyph::Id).eq(2)])\\n        .to_owned()\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"SELECT WHERE \\"id\\" = 3 AND (\\"id\\" = 1 OR \\"id\\" = 2)\\"#\\n);\\n// Now: will always conjoin with `AND`\\nassert_eq!(\\n    Query::select()\\n        .cond_where(Expr::col(Glyph::Id).eq(1))\\n        .cond_where(any![Expr::col(Glyph::Id).eq(2), Expr::col(Glyph::Id).eq(3)])\\n        .to_owned()\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"SELECT WHERE \\"id\\" = 1 AND (\\"id\\" = 2 OR \\"id\\" = 3)\\"#\\n);\\n// Now: so they are now equivalent\\nassert_eq!(\\n    Query::select()\\n        .cond_where(any![Expr::col(Glyph::Id).eq(2), Expr::col(Glyph::Id).eq(3)])\\n        .cond_where(Expr::col(Glyph::Id).eq(1))\\n        .to_owned()\\n        .to_string(PostgresQueryBuilder),\\n    r#\\"SELECT WHERE (\\"id\\" = 2 OR \\"id\\" = 3) AND \\"id\\" = 1\\"#\\n);\\n```\\n\\n## Added `OnConflict::value` and `OnConflict::values`\\n\\n[[#451](https://github.com/SeaQL/sea-query/issues/451)] Implementation `From<T>` for any `Into<Value>` into `SimpleExpr`\\n\\n```rust\\n// Before: notice the tuple\\nOnConflict::column(Glyph::Id).update_expr((Glyph::Image, Expr::val(1).add(2)))\\n// After: it accepts `Value` as well as `SimpleExpr`\\nOnConflict::column(Glyph::Id).value(Glyph::Image, Expr::val(1).add(2))\\n```\\n\\n## Improvement to `ColumnDef::default`\\n\\n[[#347](https://github.com/SeaQL/sea-query/issues/347)] `ColumnDef::default` now accepts `Into<SimpleExpr>` instead `Into<Value>`\\n\\n```rust\\n// Now we can write:\\nColumnDef::new(Char::FontId)\\n    .timestamp()\\n    .default(Expr::current_timestamp())\\n```\\n\\n\\n## Breaking Changes\\n\\n- [[#386](https://github.com/SeaQL/sea-query/pull/386)] Changed `in_tuples` interface to accept `IntoValueTuple`\\n- [[#320](https://github.com/SeaQL/sea-query/issues/320)] Removed deprecated methods\\n- [[#440](https://github.com/SeaQL/sea-query/issues/440)] `CURRENT_TIMESTAMP` changed from being a function to keyword\\n- [[#375](https://github.com/SeaQL/sea-query/issues/375)] Update SQLite `boolean` type from `integer to `boolean`\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] Deprecated `OnConflict::update_value`, `OnConflict::update_values`, `OnConflict::update_expr`, `OnConflict::update_exprs`\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] Deprecated `InsertStatement::exprs`, `InsertStatement::exprs_panic`\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] Deprecated `UpdateStatement::col_expr`, `UpdateStatement::value_expr`, `UpdateStatement::exprs`\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] `UpdateStatement::value` now accept `Into<SimpleExpr>` instead of `Into<Value>`\\n- [[#451](https://github.com/SeaQL/sea-query/issues/451)] `Expr::case`, `CaseStatement::case` and `CaseStatement::finally` now accepts `Into<SimpleExpr>` instead of `Into<Expr>`\\n- [[#460](https://github.com/SeaQL/sea-query/pull/460)] `InsertStatement::values`, `UpdateStatement::values` now accepts `IntoIterator<Item = SimpleExpr>` instead of `IntoIterator<Item = Value>`\\n- [[#409](https://github.com/SeaQL/sea-query/issues/409)] Use native api from SQLx for SQLite to work with time\\n- [[#435](https://github.com/SeaQL/sea-query/pull/435)] Changed type of `ColumnType::Enum` from `(String, Vec<String>)` to `Enum { name: DynIden, variants: Vec<DynIden>}`\\n\\n## Miscellaneous Enhancements\\n\\n- [[#336](https://github.com/SeaQL/sea-query/issues/336)] Added support one dimension Postgres array for SQLx\\n- [[#373](https://github.com/SeaQL/sea-query/issues/373)] Support CROSS JOIN\\n- [[#457](https://github.com/SeaQL/sea-query/issues/457)] Added support `DROP COLUMN` for SQLite\\n- [[#466](https://github.com/SeaQL/sea-query/pull/466)] Added `YEAR`, `BIT` and `VARBIT` types\\n- [[#338](https://github.com/SeaQL/sea-query/issues/338)] Handle Postgres schema name for schema statements\\n- [[#418](https://github.com/SeaQL/sea-query/issues/418)] Added `%`, `<<` and `>>` binary operators\\n- [[#329](https://github.com/SeaQL/sea-query/pull/430)] Added RAND function\\n- [[#425](https://github.com/SeaQL/sea-query/pull/425)] Implements `Display` for `Value`\\n- [[#427](https://github.com/SeaQL/sea-query/issues/427)] Added `INTERSECT` and `EXCEPT` to UnionType\\n- [[#448](https://github.com/SeaQL/sea-query/pull/448)] `OrderedStatement::order_by_customs`, `OrderedStatement::order_by_columns`, `OverStatement::partition_by_customs`, `OverStatement::partition_by_columns` now accepts `IntoIterator<Item = T>` instead of `Vec<T>`\\n- [[#452](https://github.com/SeaQL/sea-query/issues/452)] `TableAlterStatement::rename_column`, `TableAlterStatement::drop_column`, `ColumnDef::new`, `ColumnDef::new_with_type` now accepts `IntoIden` instead of `Iden`\\n- [[#426](https://github.com/SeaQL/sea-query/pull/426)] Cleanup `IndexBuilder` trait methods\\n- [[#436](https://github.com/SeaQL/sea-query/pull/436)] Introduce `SqlWriter` trait\\n- [[#448](https://github.com/SeaQL/sea-query/pull/448)] Remove unneeded `vec!` from examples\\n\\n## Bug Fixes\\n\\n- [[#449](https://github.com/SeaQL/sea-query/issues/449)] `distinct_on` properly handles `ColumnRef`\\n- [[#461](https://github.com/SeaQL/sea-query/issues/461)] Removed `ON` for `DROP INDEX` for SQLite\\n- [[#468](https://github.com/SeaQL/sea-query/pull/468)] Change datetime string format to include microseconds\\n- [[#452](https://github.com/SeaQL/sea-query/issues/452)] `ALTER TABLE` for PosgreSQL with `UNIQUE` constraint\\n\\n## Integration Examples\\n\\nSeaQuery plays well with the other crates in the rust ecosystem. \\n\\n- [Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\n- [Rusqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\n- [SQLx Any Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any)\\n- [SQLx Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\n- [SQLx MySql Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\n- [SQLx Sqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future."},{"id":"2022-09-27-getting-started-with-seaography","metadata":{"permalink":"/preview/pr-154/blog/2022-09-27-getting-started-with-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-09-27-getting-started-with-seaography.md","source":"@site/blog/2022-09-27-getting-started-with-seaography.md","title":"Getting Started with Seaography","description":"Seaography is a GraphQL framework for building GraphQL resolvers using SeaORM. It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases.","date":"2022-09-27T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":5.94,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-09-27-getting-started-with-seaography","title":"Getting Started with Seaography","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaQuery 0.27.0","permalink":"/preview/pr-154/blog/2022-10-31-whats-new-in-seaquery-0.27.0"},"nextItem":{"title":"Introducing Seaography \ud83e\udded","permalink":"/preview/pr-154/blog/2022-09-17-introducing-seaography"}},"content":"[Seaography](https://github.com/SeaQL/seaography) is a GraphQL framework for building GraphQL resolvers using [SeaORM](https://github.com/SeaQL/sea-orm). It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases.\\n\\nThe design and implementation of Seaography can be found on our [release blog post](https://www.sea-ql.org/blog/2022-09-17-introducing-seaography/) and [documentation](https://www.sea-ql.org/Seaography/).\\n\\n## Extending a SeaORM project\\n\\nSince Seaography is built on top of SeaORM, you can easily build a GraphQL server from a SeaORM project.\\n\\nStart by adding Seaography and GraphQL dependencies to your `Cargo.toml`.\\n\\n```diff title=Cargo.toml\\n[dependencies]\\nsea-orm = { version = \\"^0.9\\", features = [ ... ] }\\n+ seaography = { version = \\"^0.1\\", features = [ \\"with-decimal\\", \\"with-chrono\\" ] }\\n+ async-graphql = { version = \\"4.0.10\\", features = [\\"decimal\\", \\"chrono\\", \\"dataloader\\"] }\\n+ async-graphql-poem = { version = \\"4.0.10\\" }\\n```\\n\\nThen, derive a few macros on the SeaORM entities.\\n\\n```diff title=src/entities/film_actor.rs\\nuse sea_orm::entity::prelude::*;\\n\\n#[derive(\\n    Clone,\\n    Debug,\\n    PartialEq,\\n    DeriveEntityModel,\\n+   async_graphql::SimpleObject,\\n+   seaography::macros::Filter,\\n)]\\n+ #[graphql(complex)]\\n+ #[graphql(name = \\"FilmActor\\")]\\n#[sea_orm(table_name = \\"film_actor\\")]\\npub struct Model {\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub actor_id: i32,\\n    #[sea_orm(primary_key, auto_increment = false)]\\n    pub film_id: i32,\\n    pub last_update: DateTimeUtc,\\n}\\n\\n#[derive(\\n    Copy,\\n    Clone,\\n    Debug,\\n    EnumIter,\\n    DeriveRelation,\\n+   seaography::macros::RelationsCompact,\\n)]\\npub enum Relation {\\n    #[sea_orm(\\n        belongs_to = \\"super::film::Entity\\",\\n        from = \\"Column::FilmId\\",\\n        to = \\"super::film::Column::FilmId\\",\\n        on_update = \\"Cascade\\",\\n        on_delete = \\"NoAction\\"\\n    )]\\n    Film,\\n    #[sea_orm(\\n        belongs_to = \\"super::actor::Entity\\",\\n        from = \\"Column::ActorId\\",\\n        to = \\"super::actor::Column::ActorId\\",\\n        on_update = \\"Cascade\\",\\n        on_delete = \\"NoAction\\"\\n    )]\\n    Actor,\\n}\\n```\\n\\nWe also need to define `QueryRoot` for the GraphQL server. This define the GraphQL schema.\\n\\n```rust title=src/query_root.rs\\n#[derive(Debug, seaography::macros::QueryRoot)]\\n#[seaography(entity = \\"crate::entities::actor\\")]\\n#[seaography(entity = \\"crate::entities::film\\")]\\n#[seaography(entity = \\"crate::entities::film_actor\\")]\\npub struct QueryRoot;\\n```\\n\\n```rust title=src/lib.rs\\nuse sea_orm::prelude::*;\\n\\npub mod entities;\\npub mod query_root;\\n\\npub use query_root::QueryRoot;\\n\\npub struct OrmDataloader {\\n    pub db: DatabaseConnection,\\n}\\n```\\n\\nFinally, create an executable to drive the GraphQL server.\\n\\n``` rust title=src/main.rs\\nuse async_graphql::{\\n    dataloader::DataLoader,\\n    http::{playground_source, GraphQLPlaygroundConfig},\\n    EmptyMutation, EmptySubscription, Schema,\\n};\\nuse async_graphql_poem::GraphQL;\\nuse poem::{handler, listener::TcpListener, web::Html, IntoResponse, Route, Server};\\nuse sea_orm::Database;\\nuse seaography_example_project::*;\\n// ...\\n\\n#[handler]\\nasync fn graphql_playground() -> impl IntoResponse {\\n    Html(playground_source(GraphQLPlaygroundConfig::new(\\"/\\")))\\n}\\n\\n#[tokio::main]\\nasync fn main() {\\n    // ...\\n\\n    let database = Database::connect(db_url).await.unwrap();\\n    let orm_dataloader: DataLoader<OrmDataloader> = DataLoader::new(\\n        OrmDataloader { db: database.clone() },\\n        tokio::spawn,\\n    );\\n\\n    let schema = Schema::build(QueryRoot, EmptyMutation, EmptySubscription)\\n        .data(database)\\n        .data(orm_dataloader)\\n        .finish();\\n\\n    let app = Route::new()\\n        .at(\\"/\\", get(graphql_playground)\\n        .post(GraphQL::new(schema)));\\n\\n    Server::new(TcpListener::bind(\\"0.0.0.0:8000\\"))\\n        .run(app)\\n        .await\\n        .unwrap();\\n}\\n```\\n\\n## Generating a project from database\\n\\nIf all you have is a database schema, good news! You can setup a GraphQL server without writing a single line of code.\\n\\nInstall `seaography-cli`, it helps you generate SeaORM entities along with a full Rust project based on a database schema.\\n\\n```shell\\ncargo install seaography-cli\\n```\\n\\nRun `seaography-cli` to generate code for the GraphQL server.\\n\\n```shell\\n# The command take three arguments\\nseaography-cli <DATABASE_URL> <CRATE_NAME> <DESTINATION>\\n\\n# MySQL\\nseaography-cli mysql://root:root@localhost/sakila seaography-mysql-example examples/mysql\\n# PostgreSQL\\nseaography-cli postgres://root:root@localhost/sakila seaography-postgres-example examples/postgres\\n# SQLite\\nseaography-cli sqlite://examples/sqlite/sakila.db seaography-sqlite-example examples/sqliteql\\n```\\n\\n## Checkout the example projects\\n\\nWe have the following examples for you, alongside with the SQL scripts to initialize the database.\\n\\n* [MySQL](https://github.com/SeaQL/seaography/tree/main/examples/mysql)\\n* [PostgreSQL](https://github.com/SeaQL/seaography/tree/main/examples/postgres)\\n* [SQLite](https://github.com/SeaQL/seaography/tree/main/examples/sqlite)\\n\\nAll examples provide a web-based GraphQL playground when running, so you can inspect the GraphQL schema and make queries. We also hosted a [demo GraphQL playground](https://playground.sea-ql.org/seaography) in case you can\'t wait to play with it.\\n\\n## Starting the GraphQL Server\\n\\nYour GraphQL server is ready to launch! Go to the Rust project root then execute `cargo run` to spin it up.\\n\\n```shell\\n$ cargo run\\n\\nPlayground: http://localhost:8000\\n```\\n\\nVisit the GraphQL playground at [http://localhost:8000](http://localhost:8000)\\n\\n![GraphQL Playground](https://www.sea-ql.org/Seaography/img/playground_example_database.png)\\n\\n## Query Data via GraphQL\\n\\nLet say we want to get the first 3 films released on or after year 2006 sorted in ascending order of its title.\\n\\n```graphql\\n{\\n  film(\\n    pagination: { limit: 3, page: 0 }\\n    filters: { releaseYear: { gte: \\"2006\\" } }\\n    orderBy: { title: ASC }\\n  ) {\\n    data {\\n      filmId\\n      title\\n      description\\n      releaseYear\\n      filmActor {\\n        actor {\\n          actorId\\n          firstName\\n          lastName\\n        }\\n      }\\n    }\\n    pages\\n    current\\n  }\\n}\\n```\\n\\nWe got the following JSON result after running the GraphQL query.\\n\\n```json\\n{\\n  \\"data\\": {\\n    \\"film\\": {\\n      \\"data\\": [\\n        {\\n          \\"filmId\\": 1,\\n          \\"title\\": \\"ACADEMY DINOSAUR\\",\\n          \\"description\\": \\"An Epic Drama of a Feminist And a Mad Scientist who must Battle a Teacher in The Canadian Rockies\\",\\n          \\"releaseYear\\": \\"2006\\",\\n          \\"filmActor\\": [\\n            {\\n              \\"actor\\": {\\n                \\"actorId\\": 1,\\n                \\"firstName\\": \\"PENELOPE\\",\\n                \\"lastName\\": \\"GUINESS\\"\\n              }\\n            },\\n            {\\n              \\"actor\\": {\\n                \\"actorId\\": 10,\\n                \\"firstName\\": \\"CHRISTIAN\\",\\n                \\"lastName\\": \\"GABLE\\"\\n              }\\n            },\\n            // ...\\n          ]\\n        },\\n        {\\n          \\"filmId\\": 2,\\n          \\"title\\": \\"ACE GOLDFINGER\\",\\n          \\"description\\": \\"A Astounding Epistle of a Database Administrator And a Explorer who must Find a Car in Ancient China\\",\\n          \\"releaseYear\\": \\"2006\\",\\n          \\"filmActor\\": [\\n            // ...\\n          ]\\n        },\\n        // ...\\n      ],\\n      \\"pages\\": 334,\\n      \\"current\\": 0\\n    }\\n  }\\n}\\n```\\n\\nBehind the scene, the following SQL were queried:\\n\\n```sql\\nSELECT \\"film\\".\\"film_id\\",\\n       \\"film\\".\\"title\\",\\n       \\"film\\".\\"description\\",\\n       \\"film\\".\\"release_year\\",\\n       \\"film\\".\\"language_id\\",\\n       \\"film\\".\\"original_language_id\\",\\n       \\"film\\".\\"rental_duration\\",\\n       \\"film\\".\\"rental_rate\\",\\n       \\"film\\".\\"length\\",\\n       \\"film\\".\\"replacement_cost\\",\\n       \\"film\\".\\"rating\\",\\n       \\"film\\".\\"special_features\\",\\n       \\"film\\".\\"last_update\\"\\nFROM \\"film\\"\\nWHERE \\"film\\".\\"release_year\\" >= \'2006\'\\nORDER BY \\"film\\".\\"title\\" ASC\\nLIMIT 3 OFFSET 0\\n\\nSELECT \\"film_actor\\".\\"actor_id\\", \\"film_actor\\".\\"film_id\\", \\"film_actor\\".\\"last_update\\"\\nFROM \\"film_actor\\"\\nWHERE \\"film_actor\\".\\"film_id\\" IN (1, 3, 2)\\n\\nSELECT \\"actor\\".\\"actor_id\\", \\"actor\\".\\"first_name\\", \\"actor\\".\\"last_name\\", \\"actor\\".\\"last_update\\"\\nFROM \\"actor\\"\\nWHERE \\"actor\\".\\"actor_id\\" IN (24, 162, 20, 160, 1, 188, 123, 30, 53, 40, 2, 64, 85, 198, 10, 19, 108, 90)\\n```\\n\\nUnder the hood, Seaography uses [async_graphql::dataloader](https://docs.rs/async-graphql/latest/async_graphql/dataloader/index.html) in querying nested objects to tackle the N+1 problem.\\n\\nTo learn more, checkout the [Seaography Documentation](https://www.sea-ql.org/Seaography/docs/data-loader/).\\n\\n## Conclusion\\n\\nSeaography is an ergonomic library that turns SeaORM entities into GraphQL nodes. It provides a set of utilities and combined with a code generator makes GraphQL API building a breeze.\\n\\nHowever, Seaography is still a new-born. Like all other open-source projects developed by passionate Rust developers, you can contribute to it if you also find the concept interesting. With its addition to the SeaQL ecosystem, we are one step closer to the vision of Rust being the best tool for data engineering.\\n\\n## People\\n\\nSeaography is created by:\\n\\n<div className=\\"container\\">\\n    <div className=\\"row\\">\\n        <div className=\\"col col--12 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/karatakis\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/7329022?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Panagiotis Karatakis\\n                    </div>\\n                    Summer of Code Contributor; developer of Seaography\\n                </div>\\n            </div>\\n        </div>\\n        <div className=\\"col col--12 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Chris Tsang\\n                    </div>\\n                    Summer of Code Mentor; lead developer of SeaQL\\n                </div>\\n            </div>\\n        </div>\\n        <div className=\\"col col--12 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Billy Chan\\n                    </div>\\n                    Summer of Code Mentor; core member of SeaQL\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>"},{"id":"2022-09-17-introducing-seaography","metadata":{"permalink":"/preview/pr-154/blog/2022-09-17-introducing-seaography","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-09-17-introducing-seaography.md","source":"@site/blog/2022-09-17-introducing-seaography.md","title":"Introducing Seaography \ud83e\udded","description":"What a fruitful Summer of Code! Today, we are excited to introduce Seaography to the SeaQL community. Seaography is a GraphQL framework for building GraphQL resolvers using SeaORM. It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases.","date":"2022-09-17T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.14,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-09-17-introducing-seaography","title":"Introducing Seaography \ud83e\udded","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Getting Started with Seaography","permalink":"/preview/pr-154/blog/2022-09-27-getting-started-with-seaography"},"nextItem":{"title":"Celebrating 3,000+ GitHub Stars \ud83c\udf89","permalink":"/preview/pr-154/blog/2022-08-12-3k-github-stars"}},"content":"What a fruitful Summer of Code! Today, we are excited to introduce [Seaography](https://github.com/SeaQL/seaography) to the SeaQL community. Seaography is a GraphQL framework for building GraphQL resolvers using [SeaORM](https://github.com/SeaQL/sea-orm). It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases.\\n\\n## Motivation\\n\\nWe observed that other ecosystems have similar tools such as PostGraphile and Hasura allowing users to query a database via GraphQL with minimal effort upfront. We decided to bring that seamless experience to the Rust ecosystem.\\n\\nFor existing SeaORM users, adding a GraphQL API is straight forward. Start by adding `seaography` and `async-graphql` dependencies to your crate. Then, deriving a few extra derive macros to the SeaORM entities. Finally, spin up a GraphQL server to serve queries!\\n\\nIf you are new to SeaORM, no worries, we have your back. You only need to provide a database connection, and `seaography-cli` will generate the SeaORM entities together with a complete Rust project!\\n\\n## Design\\n\\nWe considered two approaches in our [initial discussion](https://github.com/SeaQL/summer-of-code/discussions/12): 1) blackbox query engine 2) code generator. The drawback with a blackbox query engine is it\'s difficult to customize or extend its behaviour, making it difficult to develop and operate in the long run. We opted the code generator approach, giving users full control and endless possibilities with the versatile async Rust ecosystem.\\n\\nThis project is separated into the following crates:\\n\\n* [`seaography`](https://github.com/SeaQL/seaography): The facade crate; exporting macros, structures and helper functions to turn SeaORM entities into GraphQL nodes.\\n\\n* [`seaography-cli`](https://github.com/SeaQL/seaography/tree/main/cli): The CLI tool; it generates SeaORM entities along with a full Rust project based on a user-provided database.\\n\\n* [`seaography-discoverer`](https://github.com/SeaQL/seaography/tree/main/discoverer): A helper crate used by the CLI tool to discover the database schema and transform into a generic format.\\n\\n* [`seaography-generator`](https://github.com/SeaQL/seaography/tree/main/generator): A helper crate used by the CLI tool to consume the database schema and generate a full Rust project.\\n\\n* [`seaography-derive`](https://github.com/SeaQL/seaography/tree/main/derive): A set of procedural macros to derive types and trait implementations on SeaORM entities, turning them into GraphQL nodes.\\n\\n## Features\\n\\n* Relational query (1-to-1, 1-to-N)\\n* Pagination on query\'s root entity\\n* Filter with operators (e.g. gt, lt, eq)\\n* Order by any column\\n\\n## Getting Started\\n\\nTo quick start, we have the following examples for you, alongside with the SQL scripts to initialize the database.\\n\\n* [MySQL](https://github.com/SeaQL/seaography/tree/main/examples/mysql)\\n* [PostgreSQL](https://github.com/SeaQL/seaography/tree/main/examples/postgres)\\n* [SQLite](https://github.com/SeaQL/seaography/tree/main/examples/sqlite)\\n\\nAll examples provide a web-based GraphQL playground when running, so you can inspect the GraphQL schema and make queries. We also hosted a [demo GraphQL playground](https://playground.sea-ql.org/seaography) in case you can\'t wait to play with it.\\n\\nFor more documentation, visit [www.sea-ql.org/Seaography](https://www.sea-ql.org/Seaography/).\\n\\n## What\'s Next?\\n\\nThis project passed the first milestone shipping the essential features, but it still has a long way to go. The next milestone would be:\\n\\n* Query enhancements\\n  * Filter related queries\\n  * Filter based on related queries properties\\n  * Paginate related queries\\n  * Order by related queries\\n* Cursor based pagination\\n* Single entity query\\n* Mutations\\n  * Insert single entity\\n  * Insert batch entities\\n  * Update single entity\\n  * Update batch entities using filter\\n  * Delete single entity\\n  * Delete batch entities\\n\\n## Conclusion\\n\\nSeaography is an ergonomic library that turns SeaORM entities into GraphQL nodes. It provides a set of utilities and combined with a code generator makes GraphQL API building a breeze.\\n\\nHowever, Seaography is still a new-born. Like all other open-source projects developed by passionate Rust developers, you can contribute to it if you also find the concept interesting. With its addition to the SeaQL ecosystem, we are one step closer to the vision of Rust being the best tool for data engineering.\\n\\n## People\\n\\nSeaography is created by:\\n\\n<div className=\\"container\\">\\n    <div className=\\"row\\">\\n        <div className=\\"col col--12 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/karatakis\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/7329022?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Panagiotis Karatakis\\n                    </div>\\n                    Summer of Code Contributor; developer of Seaography\\n                </div>\\n            </div>\\n        </div>\\n        <div className=\\"col col--12 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Chris Tsang\\n                    </div>\\n                    Summer of Code Mentor; lead developer of SeaQL\\n                </div>\\n            </div>\\n        </div>\\n        <div className=\\"col col--12 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Billy Chan\\n                    </div>\\n                    Summer of Code Mentor; core member of SeaQL\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>"},{"id":"2022-08-12-3k-github-stars","metadata":{"permalink":"/preview/pr-154/blog/2022-08-12-3k-github-stars","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-08-12-3k-github-stars.md","source":"@site/blog/2022-08-12-3k-github-stars.md","title":"Celebrating 3,000+ GitHub Stars \ud83c\udf89","description":"We are celebrating the milestone of reaching 3,000 GitHub stars across all SeaQL repositories!","date":"2022-08-12T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":7.93,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-08-12-3k-github-stars","title":"Celebrating 3,000+ GitHub Stars \ud83c\udf89","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Introducing Seaography \ud83e\udded","permalink":"/preview/pr-154/blog/2022-09-17-introducing-seaography"},"nextItem":{"title":"What\'s new in SeaQuery 0.26.0","permalink":"/preview/pr-154/blog/2022-08-05-whats-new-in-seaquery-0.26.0"}},"content":"We are celebrating the milestone of reaching 3,000 GitHub stars across all SeaQL repositories!\\n\\nThis wouldn\'t have happened without your support and contribution, so we want to thank the community for being with us along the way.\\n\\n## The Journey\\n\\nSeaQL.org was founded back in 2020. We devoted ourselves into developing open source libraries that help Rust developers to build data intensive applications. In the past two years, we published and maintained four open source libraries: [SeaQuery](https://github.com/SeaQL/sea-query), [SeaSchema](https://github.com/SeaQL/sea-schema), [SeaORM](https://github.com/SeaQL/sea-orm) and [StarfishQL](https://github.com/SeaQL/starfish-ql). Each library is designed to fill a niche in the Rust ecosystem, and they are made to play well with other Rust libraries.\\n\\n### 2020\\n\\n- Oct 2020: **SeaQL founded**\\n- Dec 2020: **SeaQuery first released**\\n\\n### 2021\\n\\n- Apr 2021: **SeaSchema first released**\\n- Aug 2021: **SeaORM first released**\\n- Nov 2021: SeaORM reached 0.4.0\\n- Dec 2021: SeaQuery reached 0.20.0\\n- Dec 2021: SeaSchema reached 0.4.0\\n\\n### 2022\\n\\n- Apr 2022: SeaQL selected as a Google Summer of Code 2022 [mentor organization](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)\\n- Apr 2022: **StarfishQL first released**\\n- Jul 2022: SeaQuery reached 0.26.2\\n- Jul 2022: SeaSchema reached 0.9.3\\n- Jul 2022: SeaORM reached 0.9.1\\n- Aug 2022: **SeaQL reached 3,000+ GitHub stars**\\n\\n## Where\'re We Now?\\n\\nWe\'re pleased by the adoption by the Rust community. We couldn\'t make it this far without your feedback and contributions.\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                4 \ud83d\udce6\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Open source projects\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                5 \ud83c\udfec\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Startups using SeaQL\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                1,972 \ud83c\udf88\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Dependent projects\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                131 \ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Contributors\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                1,061 \u2705\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Merged PRs & resolved issues\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                3,158 \u2b50\\n            </div>\\n            <div class=\\"col col--12\\">\\n                GitHub stars\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                432 \ud83d\udde3\ufe0f\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Discord members\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                87,937 \u2328\ufe0f\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Lines of Rust\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-top--md margin-bottom--md\\">\\n        <div class=\\"row row--no-gutters\\">\\n            <div class=\\"col col--12\\" style={{fontSize: \'38px\', lineHeight: \'38px\', fontWeight: \'bold\'}}>\\n                667,769 \ud83d\udcbf\\n            </div>\\n            <div class=\\"col col--12\\">\\n                Downloads on crates.io\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div style={{textAlign: \'right\'}}>\\n    <p></p>\\n    <p><small>* as of Aug 12</small></p>\\n</div>\\n\\n## Core Members\\n\\nOur team has grown from two people initially into four. We always welcome passionate engineers to join us!\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n                Founder. Led the initial development and maintaining the projects.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n                Founding member. Contributed many features and bug fixes. Keeps the community alive.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ikrivosheev\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/6786239?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Ivan Krivosheev\\n                </div>\\n                Joined in 2022. Contributed many features and bug fixes, most notably to SeaQuery.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shpun817\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/47468266?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sanford Pun\\n                </div>\\n                Developed StarfishQL and wrote SeaORM\'s tutorial.\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Special Thanks\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marco Napetti\\n                </div>\\n                Contributed transaction, streaming and tracing API to SeaORM.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nitnelave\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/796633?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    nitnelave\\n                </div>\\n                Contributed binder crate and other improvements to SeaQuery.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/samsamai\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/3764355?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sam Samai\\n                </div>\\n                Developed SeaORM\'s test suite and demo schema.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/scrblue\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1524936?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Daniel Lyne\\n                </div>\\n                Developed SeaSchema\'s Postgres implementation.\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/charleschege\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/33346042?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Charles Chege\\n                </div>\\n                Developed SeaSchema\'s SQLite implementation.\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Sponsors\\n\\nIf you are feeling generous, a small [donation](https://github.com/sponsors/SeaQL) will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Contributors\\n\\nMany features and enhancements are actually proposed and implemented by the community. We want to take this chance to thank all our contributors!\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12\\">\\n        <a alt=\\"SeaORM Contributors\\" href=\\"https://github.com/SeaQL/sea-orm/graphs/contributors\\">\\n            <img src=\\"https://opencollective.com/sea-orm/contributors.svg?width=1000&button=false\\" />\\n        </a>\\n    </div>\\n    <div class=\\"col col--12\\">\\n        <a alt=\\"SeaQuery Contributors\\" href=\\"https://github.com/SeaQL/sea-query/graphs/contributors\\">\\n            <img src=\\"https://opencollective.com/sea-query/contributors.svg?width=1000&button=false\\" />\\n        </a>\\n    </div>\\n    <div class=\\"col col--12\\">\\n        <a alt=\\"SeaSchema Contributors\\" href=\\"https://github.com/SeaQL/sea-schema/graphs/contributors\\">\\n            <img src=\\"https://opencollective.com/sea-schema/contributors.svg?width=1000&button=false\\" />\\n        </a>\\n    </div>\\n</div>\\n\\n## What\'s Next?\\n\\nWe have two ongoing [Summer of Code 2022 projects](https://www.sea-ql.org/blog/2022-06-02-summer-of-code-2022-intro/) to enrich the SeaQL ecosystem, planning to be released later this year. In the meantime, we\'re focusing on improving existing SeaQL libraries until reaching version 1.0, we\'d love to hear comments and feedback from the community.\\n\\nIf you like what we do, consider starring, commenting, sharing, contributing and together building for Rust\'s future!"},{"id":"2022-08-05-whats-new-in-seaquery-0.26.0","metadata":{"permalink":"/preview/pr-154/blog/2022-08-05-whats-new-in-seaquery-0.26.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-08-05-whats-new-in-seaquery-0.26.0.md","source":"@site/blog/2022-08-05-whats-new-in-seaquery-0.26.0.md","title":"What\'s new in SeaQuery 0.26.0","description":"\ud83c\udf89 We are pleased to release SeaQuery 0.26.0! Here are some feature highlights \ud83c\udf1f:","date":"2022-08-05T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":3.84,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Ivan Krivosheev","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-08-05-whats-new-in-seaquery-0.26.0","title":"What\'s new in SeaQuery 0.26.0","author":"SeaQL Team","author_title":"Ivan Krivosheev","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Celebrating 3,000+ GitHub Stars \ud83c\udf89","permalink":"/preview/pr-154/blog/2022-08-12-3k-github-stars"},"nextItem":{"title":"Engineering at SeaQL.org","permalink":"/preview/pr-154/blog/2022-07-30-engineering"}},"content":"\ud83c\udf89 We are pleased to release SeaQuery [`0.26.0`](https://github.com/SeaQL/sea-query/releases/tag/0.26.0)! Here are some feature highlights \ud83c\udf1f:\\n\\n## Dependency Upgrades\\n\\n[[#356](https://github.com/SeaQL/sea-query/issues/356)] We have upgraded a few major dependencies:\\n- Upgrade [`sqlx`](https://github.com/launchbadge/sqlx) to 0.6\\n- Upgrade [`time`](https://github.com/time-rs/time) to 0.3\\n- Upgrade [`uuid`](https://github.com/uuid-rs/uuid) to 1.0\\n- Upgrade [`bigdecimal`](https://github.com/akubera/bigdecimal-rs) to 0.3\\n- Upgrade [`ipnetwork`](https://github.com/achanda/ipnetwork) to 0.19\\n\\nNote that you might need to upgrade the corresponding dependency on your application as well.\\n\\n## VALUES lists\\n\\n[[#351](https://github.com/SeaQL/sea-query/issues/350)] Add support for VALUES lists\\n\\n```rust\\n// SELECT * FROM (VALUES (1, \'hello\'), (2, \'world\')) AS \\"x\\"\\nlet query = SelectStatement::new()\\n    .expr(Expr::asterisk())\\n    .from_values(vec![(1i32, \\"hello\\"), (2, \\"world\\")], Alias::new(\\"x\\"))\\n    .to_owned();\\n\\n assert_eq!(\\n     query.to_string(PostgresQueryBuilder), \\n     r#\\"SELECT * FROM (VALUES (1, \'hello\'), (2, \'world\')) AS \\"x\\"\\"#\\n );\\n```\\n\\n## Introduce sea-query-binder\\n\\n[[#273](https://github.com/SeaQL/sea-query/issues/273)] Native support SQLx without marcos\\n\\n```rust\\nuse sea_query_binder::SqlxBinder;\\n\\n// Create SeaQuery query with prepare SQLx\\nlet (sql, values) = Query::select()\\n    .columns([\\n        Character::Id,\\n        Character::Uuid,\\n        Character::Character,\\n        Character::FontSize,\\n        Character::Meta,\\n        Character::Decimal,\\n        Character::BigDecimal,\\n        Character::Created,\\n        Character::Inet,\\n        Character::MacAddress,\\n    ])\\n    .from(Character::Table)\\n    .order_by(Character::Id, Order::Desc)\\n    .build_sqlx(PostgresQueryBuilder);\\n\\n// Execute query\\nlet rows = sqlx::query_as_with::<_, CharacterStructChrono, _>(&sql, values)\\n    .fetch_all(&mut pool)\\n    .await?;\\n\\n// Print rows\\nfor row in rows.iter() {\\n    println!(\\"{:?}\\", row);\\n}\\n```\\n\\n## CASE WHEN statement support \\n\\n[[#304](https://github.com/SeaQL/sea-query/pull/304)] Add support for `CASE WHEN` statement\\n\\n```rust\\nlet query = Query::select()\\n    .expr_as(\\n        CaseStatement::new()\\n            .case(Expr::tbl(Glyph::Table, Glyph::Aspect).is_in(vec![2, 4]), Expr::val(true))\\n            .finally(Expr::val(false)),\\n        Alias::new(\\"is_even\\")\\n    )\\n    .from(Glyph::Table)\\n    .to_owned();\\n    \\nassert_eq!(\\n    query.to_string(PostgresQueryBuilder),\\n    r#\\"SELECT (CASE WHEN (\\"glyph\\".\\"aspect\\" IN (2, 4)) THEN TRUE ELSE FALSE END) AS \\"is_even\\" FROM \\"glyph\\"\\"#\\n);\\n```\\n\\n## Add support for Ip(4,6)Network and MacAddress\\n\\n[[#309](https://github.com/SeaQL/sea-query/pull/309)] Add support for Network types in PostgreSQL backend\\n\\n## Introduce sea-query-attr\\n\\n[[#296](https://github.com/SeaQL/sea-query/issues/296)] Proc-macro for deriving Iden enum from struct\\n\\n```rust\\nuse sea_query::gen_type_def;\\n\\n#[gen_type_def]\\npub struct Hello {\\n    pub name: String\\n}\\n\\nprintln!(\\"{:?}\\", HelloTypeDef::Name);\\n```\\n\\n## Add ability to alter foreign keys\\n\\n[[#299](https://github.com/SeaQL/sea-query/pull/299)] Add support for `ALTER` foreign Keys\\n\\n```rust\\nlet foreign_key_char = TableForeignKey::new()\\n    .name(\\"FK_character_glyph\\")\\n    .from_tbl(Char::Table)\\n    .from_col(Char::FontId)\\n    .from_col(Char::Id)\\n    .to_tbl(Glyph::Table)\\n    .to_col(Char::FontId)\\n    .to_col(Char::Id)\\n    .to_owned();\\n\\nlet table = Table::alter()\\n    .table(Character::Table)\\n    .add_foreign_key(&foreign_key_char)\\n    .to_owned();\\n\\nassert_eq!(\\n    table.to_string(PostgresQueryBuilder),\\n    vec![\\n        r#\\"ALTER TABLE \\"character\\"\\"#,\\n        r#\\"ADD CONSTRAINT \\"FK_character_glyph\\"\\"#,\\n        r#\\"FOREIGN KEY (\\"font_id\\", \\"id\\") REFERENCES \\"glyph\\" (\\"font_id\\", \\"id\\")\\"#,\\n        r#\\"ON DELETE CASCADE ON UPDATE CASCADE,\\"#,\\n    ]\\n    .join(\\" \\")\\n);\\n```\\n\\n## Select DISTINCT ON\\n\\n[[#250](https://github.com/SeaQL/sea-query/issues/250)]\\n\\n```rust\\nlet query = Query::select()\\n    .from(Char::Table)\\n    .distinct_on(vec![Char::Character])\\n    .column(Char::Character)\\n    .column(Char::SizeW)\\n    .column(Char::SizeH)\\n    .to_owned();\\n    \\n assert_eq!(\\n     query.to_string(PostgresQueryBuilder),\\n     r#\\"SELECT DISTINCT ON (\\"character\\") \\"character\\", \\"size_w\\", \\"size_h\\" FROM \\"character\\"\\"#\\n );\\n```\\n\\n## Miscellaneous Enhancements\\n\\n- [[#353](https://github.com/SeaQL/sea-query/pull/353)] Support `LIKE ... ESCAPE ...`  expression  \\n- [[#306](https://github.com/SeaQL/sea-query/pull/306)] Move `escape` and `unescape` string to backend\\n- [[#365](https://github.com/SeaQL/sea-query/pull/365)] Add method to make a column nullable\\n- [[#348](https://github.com/SeaQL/sea-query/pull/348)] Add `is` & `is_not` to Expr\\n- [[#349](https://github.com/SeaQL/sea-query/pull/349)] Add `CURRENT_TIMESTAMP` function\\n- [[#345](https://github.com/SeaQL/sea-query/pull/345)] Add `in_tuple` method to Expr\\n- [[#266](https://github.com/SeaQL/sea-query/pull/266)] Insert Default\\n- [[#324](https://github.com/SeaQL/sea-query/pull/324)] Make `sea-query-driver` an optional dependency\\n- [[#334](https://github.com/SeaQL/sea-query/pull/334)] Add `ABS` function\\n- [[#332](https://github.com/SeaQL/sea-query/pull/332)] Support `IF NOT EXISTS` when create index\\n- [[#314](https://github.com/SeaQL/sea-query/pull/314)] Support different `blob` types in MySQL\\n- [[#331](https://github.com/SeaQL/sea-query/pull/331)] Add `VarBinary` column type\\n- [[#335](https://github.com/SeaQL/sea-query/pull/335)] `RETURNING` expression supporting `SimpleExpr`\\n\\n## Integration Examples\\n\\nSeaQuery plays well with the other crates in the rust ecosystem. \\n\\n- [Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/postgres)\\n- [Rusqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite)\\n- [SQLx Any Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any)\\n- [SQLx Postgres Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres)\\n- [SQLx MySql Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql)\\n- [SQLx Sqlite Example](https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite)\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future."},{"id":"2022-07-30-engineering","metadata":{"permalink":"/preview/pr-154/blog/2022-07-30-engineering","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-07-30-engineering.md","source":"@site/blog/2022-07-30-engineering.md","title":"Engineering at SeaQL.org","description":"It\'s hard to pin down the exact date, but I think SeaQL.org was setup in July 2020, a little over a year ago. Over the course of the year, SeaORM went from 0.1 to 0.9 and the number of users kept growing. I would like to outline our engineering process in this blog post, and perhaps it can serve as a reference or guidance to prospective contributors and the future maintainer of this project.","date":"2022-07-30T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.25,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"Lead Developer","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2022-07-30-engineering","title":"Engineering at SeaQL.org","author":"Chris Tsang","author_title":"Lead Developer","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaQuery 0.26.0","permalink":"/preview/pr-154/blog/2022-08-05-whats-new-in-seaquery-0.26.0"},"nextItem":{"title":"What\'s new in SeaORM 0.9.0","permalink":"/preview/pr-154/blog/2022-07-17-whats-new-in-0.9.0"}},"content":"It\'s hard to pin down the exact date, but I think SeaQL.org was setup in July 2020, a little over a year ago. Over the course of the year, SeaORM went from 0.1 to 0.9 and the number of users kept growing. I would like to outline our engineering process in this blog post, and perhaps it can serve as a reference or guidance to prospective contributors and the future maintainer of this project.\\n\\nIn the open source world, the Benevolent Dictator for Life (BDL) model underpins a number of successful open source projects. That\'s not me! As a maintainer, I believe in an open, bottom-up, iterative and progressive approach. Let me explain each of these words and what they mean to me.\\n\\n### Open\\n\\nOpen as in source availability, but also engineering. We always welcome new contributors! We\'d openly discuss ideas and designs. I would often explain why a decision was made in the first place for various things. The project is structured not as a monorepo, but several interdependent repos. This reduces the friction for new contributors, because they can have a smaller field of vision to focus on solving one particular problem at hand.\\n\\n### Bottom-up\\n\\nWe rely on users to file feature requests, bug reports and of course pull requests to drive the project forward. The great thing is, for every feature / bug fix, there is a use case for it and a confirmation from a real user that it works and is reasonable. As a maintainer, I could not have first hand experience for all features and so could not understand some of the pain points.\\n\\n### Iterative\\n\\nOpen source software is imperfect, impermanent and incomplete. While I do have a grand vision in mind, we do not try rushing it all the way in one charge, nor keeping a project secret until it is \'complete\'. Good old \'release early, release often\' - we would release an initial working version of a tool, gather user feedback and improve upon it, often reimplementing a few things and break a few others - which brings us to the next point.\\n\\n### Progressive\\n\\nFavour progression. Always look forward and leave legacy behind. It does not mean that we would arbitrary break things, but when a decision is made, we\'d always imagine how the software *should be* without historic context. We\'d provide migrate paths and encourage users to move forward with us. After all, Rust is a young and evolving language! You may or may not know that `async` was just stabilized in 2020.\\n\\nEnough said for the philosophy, let\'s now talk about the actual engineering process.\\n\\n### 1. Idea & Design\\n\\nWe first have some vague idea on what problem we want to tackle. As we put in more details to the use case, we can define the problem and brainstorm solutions. Then we look for workable ways to implement that in Rust.\\n\\n### 2. Implementation\\n\\nAn initial proof of concept is appreciated. We iterate on the implementation to reduce the impact and improve the maintainability.\\n\\n### 3. Testing\\n\\nWe rely on automated tests. Every feature should come with corresponding tests, and a release is good if and only if all tests are green. Which means for features not covered by our test suite, it is an uncertainty to when we would break them. So if certain undocumented feature is important to you, we encourage you to add that to our test suite.\\n\\n### 4. Documentation\\n\\nCoding is not complete without documentation. Rust doc tests kill two birds with one stone and so is greatly appreciated. For SeaORM we have separate documentation repository and tutorial repository. It takes a lot of effort to maintain those to be up to date, and right now it\'s mostly done by our core contributors.\\n\\n### 5. Release\\n\\nWe run on a release train model, although the frequency varies. The ethos is to have small number breaking changes often. At one point, SeaQuery has a new release every week. SeaORM runs on monthly, although it more or less relaxes to bimonthly now. At any time, we maintain two branches, the latest release and master. PRs are always merged into master, and if it is non-breaking (and worthy) I would backport it to the release branch and make a minor release. At the end, I want to maintain momentum and move forward together with the community. Users can have a rough expectation on when merges will be released. And there are just **lots** of change we cannot avoid a breaking release as of the current state of the Rust ecosystem. Users are advised to upgrade regularly, and we ship along many small improvements to encourage that.\\n\\n## Conclusion\\n\\nOpen source software is a collaborative effort and thank you all who participated! Also a big thanks to SeaQL\'s core contributors who made wonders. If you have not already, I invite you to star all our repositories. If you want to support us materially, a small donation would make a big difference. SeaQL the organization is still in its infancy, and your support is vital to SeaQL\'s longevity and the prospect of the Rust community."},{"id":"2022-07-17-whats-new-in-0.9.0","metadata":{"permalink":"/preview/pr-154/blog/2022-07-17-whats-new-in-0.9.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-07-17-whats-new-in-0.9.0.md","source":"@site/blog/2022-07-17-whats-new-in-0.9.0.md","title":"What\'s new in SeaORM 0.9.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.9.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2022-07-17T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":15.83,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-07-17-whats-new-in-0.9.0","title":"What\'s new in SeaORM 0.9.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Engineering at SeaQL.org","permalink":"/preview/pr-154/blog/2022-07-30-engineering"},"nextItem":{"title":"Welcome Summer of Code 2022 Contributors","permalink":"/preview/pr-154/blog/2022-06-02-summer-of-code-2022-intro"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.9.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.9.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Dependency Upgrades\\n\\n[[#834](https://github.com/SeaQL/sea-orm/pull/834)] We have upgraded a few major dependencies:\\n- Upgrade [`sqlx`](https://github.com/launchbadge/sqlx) to 0.6\\n- Upgrade [`time`](https://github.com/time-rs/time) to 0.3\\n- Upgrade [`uuid`](https://github.com/uuid-rs/uuid) to 1.0\\n- Upgrade [`sea-query`](https://github.com/SeaQL/sea-query) to 0.26\\n- Upgrade [`sea-schema`](https://github.com/SeaQL/sea-schema) to 0.9\\n\\nNote that you might need to upgrade the corresponding dependency on your application as well.\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--8 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Proposed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/D1plo1d\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/145184?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Rob Gilson\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/boraarslan\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/44371603?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            boraarslan\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Contributed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Billy Chan\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Cursor Pagination\\n\\n[[#822](https://github.com/SeaQL/sea-orm/pull/822)] Paginate models based on column(s) such as the primary key.\\n\\n```rust\\n// Create a cursor that order by `cake`.`id`\\nlet mut cursor = cake::Entity::find().cursor_by(cake::Column::Id);\\n\\n// Filter paginated result by `cake`.`id` > 1 AND `cake`.`id` < 100\\ncursor.after(1).before(100);\\n\\n// Get first 10 rows (order by `cake`.`id` ASC)\\nlet rows: Vec<cake::Model> = cursor.first(10).all(db).await?;\\n\\n// Get last 10 rows (order by `cake`.`id` DESC but rows are returned in ascending order)\\nlet rows: Vec<cake::Model> = cursor.last(10).all(db).await?;\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Proposed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/lberezy\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/5207383?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Lucas Berezy\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--8 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Contributed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            \xc9mile Fugulin\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Billy Chan\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Insert On Conflict\\n\\n[[#791](https://github.com/SeaQL/sea-orm/pull/791)] Insert an active model with on conflict behaviour.\\n\\n```rust\\nlet orange = cake::ActiveModel {\\n    id: ActiveValue::set(2),\\n    name: ActiveValue::set(\\"Orange\\".to_owned()),\\n};\\n\\n// On conflict do nothing: \\n//   - INSERT INTO \\"cake\\" (\\"id\\", \\"name\\") VALUES (2, \'Orange\') ON CONFLICT (\\"name\\") DO NOTHING\\ncake::Entity::insert(orange.clone())\\n    .on_conflict(\\n        sea_query::OnConflict::column(cake::Column::Name)\\n            .do_nothing()\\n            .to_owned()\\n    )\\n    .exec(db)\\n    .await?;\\n\\n// On conflict do update:\\n//   - INSERT INTO \\"cake\\" (\\"id\\", \\"name\\") VALUES (2, \'Orange\') ON CONFLICT (\\"name\\") DO UPDATE SET \\"name\\" = \\"excluded\\".\\"name\\"\\ncake::Entity::insert(orange)\\n    .on_conflict(\\n        sea_query::OnConflict::column(cake::Column::Name)\\n            .update_column(cake::Column::Name)\\n            .to_owned()\\n    )\\n    .exec(db)\\n    .await?;\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Proposed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/baoyachi\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/10433001?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            baoyachi. Aka Rust Hairy crabs\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Contributed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/liberwang1013\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/16575148?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            liberwang1013\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Join Table with Custom Conditions and Table Alias\\n\\n[[#793](https://github.com/SeaQL/sea-orm/pull/793), [#852](https://github.com/SeaQL/sea-orm/pull/852)] Click [Custom Join Conditions](https://www.sea-ql.org/SeaORM/docs/next/relation/custom-join-condition) and [Custom Joins](https://www.sea-ql.org/SeaORM/docs/next/advanced-query/custom-joins) to learn more.\\n\\n```rust\\nassert_eq!(\\n    cake::Entity::find()\\n        .column_as(\\n            Expr::tbl(Alias::new(\\"fruit_alias\\"), fruit::Column::Name).into_simple_expr(),\\n            \\"fruit_name\\"\\n        )\\n        .join_as(\\n            JoinType::LeftJoin,\\n            cake::Relation::Fruit\\n                .def()\\n                .on_condition(|_left, right| {\\n                    Expr::tbl(right, fruit::Column::Name)\\n                        .like(\\"%tropical%\\")\\n                        .into_condition()\\n                }),\\n            Alias::new(\\"fruit_alias\\")\\n        )\\n        .build(DbBackend::MySql)\\n        .to_string(),\\n    [\\n        \\"SELECT `cake`.`id`, `cake`.`name`, `fruit_alias`.`name` AS `fruit_name` FROM `cake`\\",\\n        \\"LEFT JOIN `fruit` AS `fruit_alias` ON `cake`.`id` = `fruit_alias`.`cake_id` AND `fruit_alias`.`name` LIKE \'%tropical%\'\\",\\n    ]\\n    .join(\\" \\")\\n);\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Proposed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Chris Tsang\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Tuetuopay\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/4009336?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Tuetuopay\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nag763\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/55486724?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Lo\xefc\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Contributed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Billy Chan\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MattGson\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/20088009?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Matt\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/liberwang1013\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/16575148?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            liberwang1013\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## (de)serialize Custom JSON Type\\n\\n[[#794](https://github.com/SeaQL/sea-orm/pull/794)] JSON stored in the database could be deserialized into custom struct in Rust.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"json_struct\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    // JSON column defined in `serde_json::Value`\\n    pub json: Json,\\n    // JSON column defined in custom struct\\n    pub json_value: KeyValue,\\n    pub json_value_opt: Option<KeyValue>,\\n}\\n\\n// The custom struct must derive `FromJsonQueryResult`, `Serialize` and `Deserialize`\\n#[derive(Clone, Debug, PartialEq, Serialize, Deserialize, FromJsonQueryResult)]\\npub struct KeyValue {\\n    pub id: i32,\\n    pub name: String,\\n    pub price: f32,\\n    pub notes: Option<String>,\\n}\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Proposed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/mara214\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/37018485?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Mara Schulke\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Chris Tsang\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Contributed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Billy Chan\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Derived Migration Name\\n\\n[[#736](https://github.com/SeaQL/sea-orm/pull/736)] Introduce `DeriveMigrationName` procedural macros to infer migration name from the file name.\\n\\n```rust\\nuse sea_orm_migration::prelude::*;\\n\\n// Used to be...\\npub struct Migration;\\n\\nimpl MigrationName for Migration {\\n    fn name(&self) -> &str {\\n        \\"m20220120_000001_create_post_table\\"\\n    }\\n}\\n\\n// Now... derive `DeriveMigrationName`,\\n// no longer have to specify the migration name explicitly\\n#[derive(DeriveMigrationName)]\\npub struct Migration;\\n\\n#[async_trait::async_trait]\\nimpl MigrationTrait for Migration {\\n    async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .create_table( ... )\\n            .await\\n    }\\n\\n    async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n        manager\\n            .drop_table( ... )\\n            .await\\n    }\\n}\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Proposed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Chris Tsang\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--8 margin-bottom--md\\">\\n        <div class=\\"row\\">\\n            <div class=\\"col col--12 margin-bottom--md\\">\\n                Contributed by:\\n            </div>\\n        </div>\\n        <div class=\\"row\\">\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/smonv\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/8962973?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            smonv\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/inf0rm4tik3r\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/9355833?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Lukas Potthast\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\"col col--6 margin-bottom--md\\">\\n                <div class=\\"avatar\\">\\n                    <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                        <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                    </a>\\n                    <div class=\\"avatar__intro\\">\\n                        <div class=\\"avatar__name\\">\\n                            Billy Chan\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## SeaORM CLI Improvements\\n\\n- [[#735](https://github.com/SeaQL/sea-orm/pull/735)] Improve logging of generate entity command\\n- [[#588](https://github.com/SeaQL/sea-orm/pull/588)] Generate enum with numeric like variants\\n- [[#755](https://github.com/SeaQL/sea-orm/pull/755)] Allow old pending migration to be applied\\n- [[#837](https://github.com/SeaQL/sea-orm/pull/837)] Skip generating entity for ignored tables\\n- [[#724](https://github.com/SeaQL/sea-orm/pull/724)] Generate code for `time` crate\\n- [[#850](https://github.com/SeaQL/sea-orm/pull/850)] Add various blob column types\\n- [[#422](https://github.com/SeaQL/sea-orm/pull/422)] Generate entity files with Postgres\'s schema name\\n- [[#851](https://github.com/SeaQL/sea-orm/pull/851)] Skip checking connection string for credentials\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        Proposed & Contributed by:\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ttys3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/41882455?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    ttys3\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kyoto7250\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/50972773?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    kyoto7250\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/yb3616\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8839021?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    yb3616\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Bastian\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nahuakang\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/18533347?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Nahua\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/hunjixin\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/41407352?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Mike\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/frankhorv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/6849119?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Frank Horvath\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/maikelwever\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1009019?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Maikel Wever\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Miscellaneous Enhancements\\n\\n- [[#800](https://github.com/SeaQL/sea-orm/pull/800)] Added `sqlx_logging_level` to `ConnectOptions`\\n- [[#768](https://github.com/SeaQL/sea-orm/pull/768)] Added `num_items_and_pages` to `Paginator`\\n- [[#849](https://github.com/SeaQL/sea-orm/pull/849)] Added `TryFromU64` for `time`\\n- [[#853](https://github.com/SeaQL/sea-orm/pull/853)] Include column name in `TryGetError::Null`\\n- [[#778](https://github.com/SeaQL/sea-orm/pull/778)] Refactor stream metrics\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        Proposed & Contributed by:\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/SandaruKasa\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/50824690?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    SandaruKasa\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/fistons\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/972209?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Eric\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/dinhani\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1139781?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Renato Dinhani\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kyoto7250\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/50972773?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    kyoto7250\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--4 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marco Napetti\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Integration Examples\\n\\nSeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples [wanted](https://github.com/SeaQL/sea-orm/issues/269)!\\n\\n- [Actix v4 Example](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\n- [Axum Example](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\n- [GraphQL Example](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\n- [jsonrpsee Example](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\n- [Poem Example](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\n- [Rocket Example](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\n- [Salvo Example](https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example)\\n- [Tonic Example](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.10.x`](https://github.com/SeaQL/sea-orm/milestone/10)."},{"id":"2022-06-02-summer-of-code-2022-intro","metadata":{"permalink":"/preview/pr-154/blog/2022-06-02-summer-of-code-2022-intro","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-06-02-summer-of-code-2022-intro.md","source":"@site/blog/2022-06-02-summer-of-code-2022-intro.md","title":"Welcome Summer of Code 2022 Contributors","description":"We are thrilled to announce that we will bring in four contributors this summer! Two of them are sponsored by Google while two of them are sponsored by SeaQL.","date":"2022-06-02T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.29,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-06-02-summer-of-code-2022-intro","title":"Welcome Summer of Code 2022 Contributors","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.9.0","permalink":"/preview/pr-154/blog/2022-07-17-whats-new-in-0.9.0"},"nextItem":{"title":"What\'s new in SeaORM 0.8.0","permalink":"/preview/pr-154/blog/2022-05-15-whats-new-in-0.8.0"}},"content":"We are thrilled to announce that we will bring in four contributors this summer! Two of them are sponsored by Google while two of them are sponsored by SeaQL.\\n\\n### A GraphQL Framework on Top of SeaORM\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/karatakis\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7329022?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Panagiotis Karatakis\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\nI\'m Panagiotis, I live in Athens Greece and currently I pursue my second bachelors on economic sciences. My first bachelors was on computer science and I\'ve a great passion on studying and implementing enterprise software solutions. I know Rust the last year and I used it almost daily for a small startup project that me and my friends build for a startup competition.\\n\\nI\'ll be working on creating a CLI tool that will explore a database schema and then generate a ready to build `async-graphql` API. The tool will allow quick integration with the SeaQL and Rust ecosystems as well as GraphQL. To be more specific, for database exploring I\'ll use `sea-schema` and `sea-orm-codegen` for entity generation, my job is to glue those together with `async-graphql` library. You can read more [here](https://github.com/SeaQL/summer-of-code/discussions/12).\\n\\n### SQL Interpreter for Mock Testing\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/Samyak2\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/34161949?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Samyak Sarnayak\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\nI\'m Samyak Sarnayak, a final year Computer Science student from Bangalore, India. I started learning Rust around 6-7 months ago and it feels like I have found the perfect language for me :D. It does not have a runtime, has a great type system, really good compiler errors, good tooling, some functional programming patterns and metaprogramming. You can find more about me on my GitHub profile.\\n\\nI\'ll be working on a new SQL interpreter for mock testing. This will be built specifically for testing and so the emphasis will be on correctness - it can be slow but the operations must always be correct. I\'m hoping to build a working version of this and integrate it into the existing tests of SeaORM. Here is the [discussion](https://github.com/SeaQL/summer-of-code/discussions/11) for this project.\\n\\n### Support TiDB in the SeaQL Ecosystem\\n\\nEdit: This project was canceled.\\n\\n### Query Linter for SeaORM\\n\\nEdit: This project was canceled.\\n\\n## Mentors\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\nI am a strong believer in open source. I started my GitHub journey 10 years ago, when I published my first programming library. I had been looking for a programming language with speed, ergonomic and expressiveness. Until I found Rust.\\n\\nSeeing a niche and demand for data engineering tools in the Rust ecosystem, I founded SeaQL in 2020 and have been leading the development and maintaining the libraries since then.\\n\\n<br/>\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\nHey, this is Billy from Hong Kong. I\'ve been using open-source libraries ever since I started coding but it\'s until 2020, I dedicated myself to be a Rust open-source developer.\\n\\nI was also a full-stack developer specialized in formulating requirement specifications for user interfaces and database structures, implementing and testing both frontend and backend from ground up, finally releasing the MVP for production and maintaining it for years to come.\\n\\nI enjoy working with Rustaceans across the globe, building a better and sustainable ecosystem for Rust community. If you like what we do, consider starring, commenting, sharing and contributing, it would be much appreciated.\\n\\n<br/>\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--12 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo\\" href=\\"https://github.com/shpun817\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/47468266?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sanford Pun\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\nI\'m Sanford, an enthusiastic software engineer who enjoys problem-solving! I\'ve worked on Rust for a couple of years now. During my early days with Rust, I focused more on the field of graphics/image processing, where I fell in love with what the language has to offer! This year, I\'ve been exploring data engineering in the StarfishQL project.\\n\\nA toast to the endless potential of Rust!\\n\\n## Community\\n\\nIf you are interested in the projects and want to share your thoughts, please star and watch the [SeaQL/summer-of-code](https://github.com/SeaQL/summer-of-code) repository on GitHub and join us on our [Discord server](https://discord.com/invite/uCPdDXzbdv)!"},{"id":"2022-05-15-whats-new-in-0.8.0","metadata":{"permalink":"/preview/pr-154/blog/2022-05-15-whats-new-in-0.8.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-05-15-whats-new-in-0.8.0.md","source":"@site/blog/2022-05-15-whats-new-in-0.8.0.md","title":"What\'s new in SeaORM 0.8.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.8.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2022-05-15T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":7.2,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-05-15-whats-new-in-0.8.0","title":"What\'s new in SeaORM 0.8.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Welcome Summer of Code 2022 Contributors","permalink":"/preview/pr-154/blog/2022-06-02-summer-of-code-2022-intro"},"nextItem":{"title":"SeaORM FAQ.01","permalink":"/preview/pr-154/blog/2022-05-14-faq-01"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.8.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.8.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Migration Utilities Moved to `sea-orm-migration` crate\\n\\n[[#666](https://github.com/SeaQL/sea-orm/pull/666)] Utilities of SeaORM migration have been moved from `sea-schema` to `sea-orm-migration` crate. Users are advised to upgrade from older versions with the following steps:\\n\\n1. Bump `sea-orm` version to `0.8.0`.\\n2. Replace `sea-schema` dependency with `sea-orm-migration` in your `migration` crate.\\n    ```diff title=migration/Cargo.toml\\n    [dependencies]\\n    - sea-schema = { version = \\"^0.7.0\\", ... }\\n    + sea-orm-migration = { version = \\"^0.8.0\\" }\\n    ```\\n3. Find and replace `use sea_schema::migration::` with `use sea_orm_migration::` in your `migration` crate.\\n    ```diff\\n    - use sea_schema::migration::prelude::*;\\n    + use sea_orm_migration::prelude::*;\\n\\n    - use sea_schema::migration::*;\\n    + use sea_orm_migration::*;\\n    ```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Designed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Generating New Migration\\n\\n[[#656](https://github.com/SeaQL/sea-orm/pull/656)] You can create a new migration with the `migrate generate` subcommand. This simplifies the migration process, as new migrations no longer need to be added manually.\\n\\n```shell\\n# A migration file `MIGRATION_DIR/src/mYYYYMMDD_HHMMSS_create_product_table.rs` will be created.\\n# And, the migration file will be imported and included in the migrator located at `MIGRATION_DIR/src/lib.rs`.\\nsea-orm-cli migrate generate create_product_table\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed & Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/viktorbahr\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/8578264?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Viktor Bahr\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Inserting One with Default\\n\\n[[#589](https://github.com/SeaQL/sea-orm/pull/589)] Insert a row populate with default values. Note that the target table should have default values defined for all of its columns.\\n\\n```rust\\nlet pear = fruit::ActiveModel {\\n    ..Default::default() // all attributes are `NotSet`\\n};\\n\\n// The SQL statement:\\n//   - MySQL: INSERT INTO `fruit` VALUES ()\\n//   - SQLite: INSERT INTO \\"fruit\\" DEFAULT VALUES\\n//   - PostgreSQL: INSERT INTO \\"fruit\\" VALUES (DEFAULT) RETURNING \\"id\\", \\"name\\", \\"cake_id\\"\\nlet pear: fruit::Model = pear.insert(db).await?;\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Crypto-Virus\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/6034171?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Crypto-Virus\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Checking if an `ActiveModel` is changed\\n\\n[[#683](https://github.com/SeaQL/sea-orm/pull/683)] You can check whether any field in an `ActiveModel` is `Set` with the help of the `is_changed` method.\\n\\n```rust\\nlet mut fruit: fruit::ActiveModel = Default::default();\\nassert!(!fruit.is_changed());\\n\\nfruit.set(fruit::Column::Name, \\"apple\\".into());\\nassert!(fruit.is_changed());\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kudlatyamroth\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2165237?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Karol Fuksiewicz\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/kirawi\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/67773714?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Kirawi\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Minor Improvements\\n\\n- [[#670](https://github.com/SeaQL/sea-orm/pull/670)] Add `max_connections` option to `sea-orm-cli generate entity` subcommand\\n- [[#677](https://github.com/SeaQL/sea-orm/pull/677)] Derive `Eq` and `Clone` for `DbErr`\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed & Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/benluelo\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/57334811?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    benluelo\\n                </div>\\n            </div>\\n        </div>\\n        <br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/SebastienGllmt\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2608559?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sebastien Guillemot\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Integration Examples\\n\\nSeaORM plays well with the other crates in the async ecosystem. It can be integrated easily with common RESTful frameworks and also gRPC frameworks; check out our new [Tonic example](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example) to see how it works. More examples [wanted](https://github.com/SeaQL/sea-orm/issues/269)!\\n\\n- [Rocket Example](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\n- [Actix Example](https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example)\\n- [Axum Example](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example)\\n- [Poem Example](https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example)\\n- [GraphQL Example](https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example)\\n- [jsonrpsee Example](https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example)\\n- [Tonic Example](https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example)\\n\\n## Who\'s using SeaORM?\\n\\nThe following products are powered by SeaORM:\\n\\n<table>\\n  <tbody>\\n    <tr>\\n      <td><br/><a href=\\"https://caido.io/\\"><img src=\\"https://www.sea-ql.org/SeaORM/img/other/caido-logo.png\\" width=\\"250\\"/></a><br/>A lightweight web security auditing toolkit</td>\\n      <td><a href=\\"https://www.svix.com/\\"><img src=\\"https://www.sea-ql.org/SeaORM/img/other/svix-logo.svg\\" width=\\"250\\"/></a><br/>The enterprise ready webhooks service</td>\\n      <td><a href=\\"https://www.spyglass.fyi/\\"><img src=\\"https://www.sea-ql.org/SeaORM/img/other/spyglass-logo.svg\\" width=\\"250\\"/></a><br/>A personal search engine</td>\\n    </tr>\\n  </tbody>\\n</table>\\n\\nSeaORM is the foundation of [StarfishQL](https://github.com/SeaQL/starfish-ql), an experimental graph database and query engine.\\n\\nFor more projects, see [Built with SeaORM](https://github.com/SeaQL/sea-orm/blob/master/COMMUNITY.md#built-with-seaorm).\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zachary Vander Velden\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.9.x`](https://github.com/SeaQL/sea-orm/milestone/9).\\n\\n## GSoC 2022\\n\\nWe are super excited to be selected as a Google Summer of Code 2022 [mentor organization](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql). The application is now closed, but the program is about to start! If you have thoughts over how we are going to implement the [project ideas](https://github.com/SeaQL/summer-of-code/tree/main/2022), feel free to participate in the discussion."},{"id":"2022-05-14-faq-01","metadata":{"permalink":"/preview/pr-154/blog/2022-05-14-faq-01","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-05-14-faq-01.md","source":"@site/blog/2022-05-14-faq-01.md","title":"SeaORM FAQ.01","description":"FAQ.01 Why SeaORM does not nest objects for parent-child relation?","date":"2022-05-14T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":1.91,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2022-05-14-faq-01","title":"SeaORM FAQ.01","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.8.0","permalink":"/preview/pr-154/blog/2022-05-15-whats-new-in-0.8.0"},"nextItem":{"title":"Introducing StarfishQL","permalink":"/preview/pr-154/blog/2022-04-04-introducing-starfish-ql"}},"content":"## FAQ.01 Why SeaORM does not nest objects for parent-child relation?\\n\\n```rust\\nlet cake_with_fruits: Vec<(cake::Model, Vec<fruit::Model>)> =\\n    Cake::find().find_with_related(Fruit).all(db).await?;\\n```\\n\\nConsider the above API, `Cake` and `Fruit` are two separate models.\\n\\nIf you come from a dynamic language, you\'d probably used to:\\n\\n```rust\\nstruct Cake {\\n    id: u64,\\n    fruit: Fruit,\\n    ..\\n}\\n```\\n\\nIt\'s so convenient that you can simply:\\n\\n```rust\\nlet cake = Cake::find().one(db).await?;\\nprintln!(\\"Fruit = {}\\", cake.fruit.name);\\n```\\n\\nSweet right? Okay so, the problem with this pattern is that it does not fit well with Rust.\\n\\nLet\'s look at this playground: https://play.rust-lang.org/?version=stable&mode=debug&edition=2021&gist=6fb0a981189ace081fbb2aa04f50146b\\n\\n```rust\\nstruct Parent {\\n    a: u64,\\n    child: Option<Child>,\\n}\\n\\nstruct ParentWithBox {\\n    a: u64,\\n    child: Option<Box<Child>>,\\n}\\n\\nstruct Child {\\n    a: u64,\\n    b: u64,\\n    c: u64,\\n    d: u64,\\n}\\n\\nfn main() {\\n    dbg!(std::mem::size_of::<Parent>());\\n    dbg!(std::mem::size_of::<ParentWithBox>());\\n    dbg!(std::mem::size_of::<Child>());\\n}\\n```\\n\\nWhat\'s the output you guess?\\n\\n```log\\n[src/main.rs:21] std::mem::size_of::<Parent>() = 48\\n[src/main.rs:22] std::mem::size_of::<ParentWithBox>() = 16\\n[src/main.rs:23] std::mem::size_of::<Child>() = 32\\n```\\n\\nIn dynamic languages, objects are always held by pointers, and that maps to a `Box` in Rust. In Rust, we don\'t put objects in `Box`es by default, because it forces the object to be allocated on the heap. And that is an extra cost! Because objects are always first constructed on the stack and then being copied over to the heap.\\n\\nRef:\\n1. https://users.rust-lang.org/t/how-to-create-large-objects-directly-in-heap/26405\\n2. https://github.com/PoignardAzur/placement-by-return/blob/placement-by-return/text/0000-placement-by-return.md\\n\\nWe face the dilemma where we either put the object on the stack and waste some space (it takes up 48 bytes no matter `child` is `None` or not) or put the object in a box and waste some cycles.\\n\\nIf you are new to Rust, all these might be unfamiliar, but a Rust programmer has to consciously make decisions over memory management, and we don\'t want to make decisions on behalf of our users.\\n\\nThat said, there were proposals to add API with this style to SeaORM, and we might implement that in the future. Hopefully this would shed some light on the matter meanwhile."},{"id":"2022-04-04-introducing-starfish-ql","metadata":{"permalink":"/preview/pr-154/blog/2022-04-04-introducing-starfish-ql","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-04-04-introducing-starfish-ql.md","source":"@site/blog/2022-04-04-introducing-starfish-ql.md","title":"Introducing StarfishQL","description":"We are pleased to introduce StarfishQL to the Rust community today. StarfishQL is a graph database and query engine to enable graph analysis and visualization on the web. It is an experimental project, with its primary purpose to explore the dependency network of Rust crates published on crates.io.","date":"2022-04-04T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":11.42,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-04-04-introducing-starfish-ql","title":"Introducing StarfishQL","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"SeaORM FAQ.01","permalink":"/preview/pr-154/blog/2022-05-14-faq-01"},"nextItem":{"title":"What\'s new in SeaORM 0.7.0","permalink":"/preview/pr-154/blog/2022-03-26-whats-new-in-0.7.0"}},"content":"We are pleased to introduce [StarfishQL](https://www.sea-ql.org/StarfishQL/) to the Rust community today. StarfishQL is a graph database and query engine to enable graph analysis and visualization on the web. It is an experimental project, with its primary purpose to explore the dependency network of Rust crates published on crates.io.\\n\\n## Motivation\\n\\nStarfishQL is a framework for providing a graph database and a graph query engine that interacts with it.\\n\\nA concrete example (Freeport) involving the graph of crate dependency on [crates.io](https://crates.io/) is used for illustration. With this example, you can see StarfishQL in action.\\n\\nAt the end of the day, we\'re interested in performing graph analysis, that is to extract meaningful information out of plain graph data. To achieve that, we believe that visualization is a crucial aid.\\n\\nStarfishQL\'s query engine is designed to be able to incorporate different forms of visualization by using a flexible query language. However, the development of the project has been centred around the following, as showcased in our [demo apps](https://starfish-ql.sea-ql.org/).\\n\\n<div className=\\"row\\" id=\\"colourful-graphs\\">\\n    <div className=\\"col col--6 margin-bottom--md\\">\\n        <div className=\\"card item shadow--lw\\">\\n            <div className=\\"card__header\\">\\n                <a href=\\"https://starfish-ql.sea-ql.org/graph.html\\">\\n                    <h3>Top-N Dependencies</h3>\\n                </a>\\n            </div>\\n            <div className=\\"card__body\\">\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/graph.png\\" />\\n                <p>Traverse the dependency graph in the normal direction starting from the N most connected nodes.</p>\\n            </div>\\n        </div>\\n    </div>\\n    <div className=\\"col col--6 margin-bottom--md\\">\\n        <div className=\\"card item shadow--lw\\">\\n            <div className=\\"card__header\\">\\n                <a href=\\"https://starfish-ql.sea-ql.org/tree.html\\">\\n                    <h3>Dependencies & Dependents</h3>\\n                </a>\\n            </div>\\n            <div className=\\"card__body\\">\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/tree.png\\" />\\n                <p>Traverse the dependency tree in both forward and reverse directions starting from a particular node.</p>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Design\\n\\nIn general, a query engine takes input queries written in a specific query language (e.g. SQL statements), performs the necessary operations in the database, and then outputs the data of interest to the user application. You may also view a query engine as an abstraction layer such that the user can design queries simply in the supported query language and let the query engine do the rest.\\n\\nIn the case of a graph query engine, the output data is a graph ([wiki](https://en.wikipedia.org/wiki/Graph_(abstract_data_type))).\\n\\n![Graph query engine overview](https://www.sea-ql.org/StarfishQL/img/graph_query_engine_overview.png)\\n\\nIn the case of StarfishQL, the query language is a custom language we defined in the JSON format, which enables the engine to be highly accessible and portable.\\n\\n## Implementation\\n\\nIn the example of Freeport, StarfishQL consists of the following three components.\\n\\n### Graph Query Engine\\n\\nAs a core component of StarfishQL, the graph query engine is a Rust backend application powered by the [Rocket](https://crates.io/crates/rocket) web framework and the [SeaQL ecosystem](https://github.com/SeaQL).\\n\\nThe engine listens at the following endpoints for the corresponding operation:\\n- `/schema` - [Define/Reset the schema](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/defining-graph-schema)\\n- `/mutate` - [Perform mutate operations](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/mutate-operations)\\n- `/query` - [Perform queries](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/querying-graph-data)\\n\\nYou could also invoke the endpoints above programmatically.\\n\\nGraph data are stored in a relational database:\\n- [Metadata](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage) - Definition of each entity and relation, e.g. attributes of crates and dependency\\n- [Node Data](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage#storage-of-entities) - An instance of an entity, e.g. crate name and version number\\n- [Edge Data](https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage#storage-of-relations) - An instance of a relation, e.g. one crate depends on another\\n\\n### crates.io Crawler\\n\\nTo obtain the crate data to insert into the database, we used a [fast, non-disruptive crawler](https://www.sea-ql.org/StarfishQL/docs/architecture-of-crates-io-crawler/overview) on a local clone of the public index repo of crates.io.\\n\\n### Graph Visualization\\n\\nWe used [`d3.js`](https://d3js.org/) to create force-directed graphs to display the results. The two [colourful graphs](#colourful-graphs) above are such products.\\n\\n## Findings\\n\\nHere are some interesting findings we made during the process.\\n\\n<div className=\\"row\\">\\n    <div className=\\"col col--12 margin-bottom--md\\">\\n        <div className=\\"card item shadow--lw\\">\\n            <div className=\\"card__header\\">\\n                <h3>Top-10 Dependencies</h3>\\n            </div>\\n            <div className=\\"card__body\\">\\n                <p>List of top 10 crates order by different <a href=\\"https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/calculating-node-connectivity/#weight-decay-factors\\">decay modes</a>.</p>\\n                <div className=\\"row row--no-gutters\\">\\n                    <div className=\\"col col--4 padding-left--none padding-right--none\\">\\n                        <table>\\n                            <thead>\\n                                <tr>\\n                                    <th colspan=\\"2\\">Decay Mode: Immediate / Simple Connectivity</th>\\n                                </tr>\\n                                <tr>\\n                                    <th>crate</th>\\n                                    <th>connectivity</th>\\n                                </tr>\\n                            </thead>\\n                            <tbody>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/serde\\" target=\\"_blank\\">serde</a></td>\\n                                    <td>17,441</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/serde_json\\" target=\\"_blank\\">serde_json</a></td>\\n                                    <td>10,528</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/log\\" target=\\"_blank\\">log</a></td>\\n                                    <td>9,220</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/clap\\" target=\\"_blank\\">clap</a></td>\\n                                    <td>6,323</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/thiserror\\" target=\\"_blank\\">thiserror</a></td>\\n                                    <td>5,547</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/rand\\" target=\\"_blank\\">rand</a></td>\\n                                    <td>5,340</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/futures\\" target=\\"_blank\\">futures</a></td>\\n                                    <td>5,263</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/lazy_static\\" target=\\"_blank\\">lazy_static</a></td>\\n                                    <td>5,211</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/tokio\\" target=\\"_blank\\">tokio</a></td>\\n                                    <td>5,168</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/chrono\\" target=\\"_blank\\">chrono</a></td>\\n                                    <td>4,794</td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n                    <div className=\\"col col--4 padding-left--none padding-right--none\\">\\n                        <table>\\n                            <thead>\\n                                <tr>\\n                                    <th colspan=\\"2\\">Decay Mode: Medium (.5) / Complex Connectivity</th>\\n                                </tr>\\n                                <tr>\\n                                    <th>crate</th>\\n                                    <th>connectivity</th>\\n                                </tr>\\n                            </thead>\\n                            <tbody>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/quote\\" target=\\"_blank\\">quote</a></td>\\n                                    <td>4,126</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/syn\\" target=\\"_blank\\">syn</a></td>\\n                                    <td>4,069</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/pure-rust-locales\\" target=\\"_blank\\">pure-rust-locales</a></td>\\n                                    <td>4,067</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/reqwest\\" target=\\"_blank\\">reqwest</a></td>\\n                                    <td>3,950</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/proc-macro2\\" target=\\"_blank\\">proc-macro2</a></td>\\n                                    <td>3,743</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/num_threads\\" target=\\"_blank\\">num_threads</a></td>\\n                                    <td>3,555</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/value-bag\\" target=\\"_blank\\">value-bag</a></td>\\n                                    <td>3,506</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/futures-macro\\" target=\\"_blank\\">futures-macro</a></td>\\n                                    <td>3,455</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/time-macros\\" target=\\"_blank\\">time-macros</a></td>\\n                                    <td>3,450</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/thiserror-impl\\" target=\\"_blank\\">thiserror-impl</a></td>\\n                                    <td>3,416</td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n                    <div className=\\"col col--4 padding-left--none padding-right--none\\">\\n                        <table>\\n                            <thead>\\n                                <tr>\\n                                    <th colspan=\\"2\\">Decay Mode: None / Compound Connectivity</th>\\n                                </tr>\\n                                <tr>\\n                                    <th>crate</th>\\n                                    <th>connectivity</th>\\n                                </tr>\\n                            </thead>\\n                            <tbody>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/unicode-xid\\" target=\\"_blank\\">unicode-xid</a></td>\\n                                    <td>54,982</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/proc-macro2\\" target=\\"_blank\\">proc-macro2</a></td>\\n                                    <td>54,949</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/quote\\" target=\\"_blank\\">quote</a></td>\\n                                    <td>54,910</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/syn\\" target=\\"_blank\\">syn</a></td>\\n                                    <td>54,744</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/rustc-std-workspace-core\\" target=\\"_blank\\">rustc-std-workspace-core</a></td>\\n                                    <td>51,650</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/libc\\" target=\\"_blank\\">libc</a></td>\\n                                    <td>51,645</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/serde_derive\\" target=\\"_blank\\">serde_derive</a></td>\\n                                    <td>51,056</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/serde\\" target=\\"_blank\\">serde</a></td>\\n                                    <td>51,054</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/jobserver\\" target=\\"_blank\\">jobserver</a></td>\\n                                    <td>50,567</td>\\n                                </tr>\\n                                <tr>\\n                                    <td><a href=\\"https://crates.io/crates/cc\\" target=\\"_blank\\">cc</a></td>\\n                                    <td>50,566</td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n                </div>\\n                <p>\\n                    If we look at <i>Decay Mode: Immediate</i>, where the connectivity is simply the <b>number of immediate dependants</b>, we can see that\\n                    <a href=\\"https://crates.io/crates/serde\\" target=\\"_blank\\"><code>serde</code></a> and <a href=\\"https://crates.io/crates/serde_json\\" target=\\"_blank\\"><code>serde_json</code></a> are at the top. I guess that supports our decision of defining the query language in JSON.\\n                </p>\\n                <p>\\n                    <i>Decay Mode: None</i> tells another interesting story: when the connectivity is the <b>entire tree of dependants</b>, we are looking at the really core crates that are nested somewhere deeply inside the most crates. In other words, these are the ones that are built along with the most crates. Under this setting, the utility crates that interacts with the low-level, more fundamental aspects of Rust are ranked higher,like <a href=\\"https://crates.io/crates/quote\\" target=\\"_blank\\"><code>quote</code></a> with syntax trees, <a href=\\"https://crates.io/crates/proc-macro2\\" target=\\"_blank\\"><code>proc-macro2</code></a> with procedural macros, and <a href=\\"https://crates.io/crates/unicode-xid\\" target=\\"_blank\\"><code>unicode-xid</code></a> with Unicode checking.\\n                </p>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div className=\\"row\\">\\n    <div className=\\"col col--12 margin-bottom--md\\">\\n        <div className=\\"card item shadow--lw\\">\\n            <div className=\\"card__header\\">\\n                <h3>Number of crates without Dependencies</h3>\\n            </div>\\n            <div className=\\"card__body\\">\\n                <p>19,369 out of 79,972 crates, or 24% of the crates, do not depend on any crates.</p>\\n                <p>\\n                    e.g.&nbsp;\\n                    <a href=\\"https://crates.io/crates/a\\" target=\\"_blank\\">a</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/a-\\" target=\\"_blank\\">a-</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/a0\\" target=\\"_blank\\">a0</a>,&nbsp;\\n                    ...,&nbsp;\\n                    <a href=\\"https://crates.io/crates/zyx_test\\" target=\\"_blank\\">zyx_test</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/zz-buffer\\" target=\\"_blank\\">zz-buffer</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/z_table\\" target=\\"_blank\\">z_table</a>\\n                </p>\\n                <p>In other words, about 76% of the crates are standing on the shoulders of giants! \ud83d\udcaa</p>\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/crate_without_dependency_count.png\\" />\\n                <img src=\\"https://www.sea-ql.org/StarfishQL/img/crate_without_dependency_percentage.png\\" />\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div className=\\"row\\">\\n    <div className=\\"col col--12 margin-bottom--md\\">\\n        <div className=\\"card item shadow--lw\\">\\n            <div className=\\"card__header\\">\\n                <h3>Number of crates without Dependants</h3>\\n            </div>\\n            <div className=\\"card__body\\">\\n                <p>53,910 out of 79,972 crates, or 67% of the crates, have no dependants, i.e. no other crates depend on them.</p>\\n                <p>\\n                    e.g.&nbsp;\\n                    <a href=\\"https://crates.io/crates/a\\" target=\\"_blank\\">a</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/a-\\" target=\\"_blank\\">a-</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/a-bot\\" target=\\"_blank\\">a-bot</a>,&nbsp;\\n                    ...,&nbsp;\\n                    <a href=\\"https://crates.io/crates/zzp-tools\\" target=\\"_blank\\">zzp-tools</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/zzz\\" target=\\"_blank\\">zzz</a>,&nbsp;\\n                    <a href=\\"https://crates.io/crates/z_table\\" target=\\"_blank\\">z_table</a>\\n                </p>\\n                <p>We imagine many of those crates are binaries/executables, if only we could figure out a way to check that... \ud83e\udd14</p>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n*As of March 30, 2022*\\n\\n## Conclusion\\n\\nStarfishQL allows flexible and portable definition, manipulation, retrieval, and visualization of graph data.\\n\\nThe graph query engine built in Rust provides a nice interface for any web applications to access data in the relational graph database with stable performance and memory safety.\\n\\nAdmittedly, StarfishQL is still in its infancy, so every detail in the design and implementation is subject to change. Fortunately, the good thing about this is, like all other open-source projects developed by brilliant Rust developers, you can contribute to it if you also find the concept interesting. With its addition to the [SeaQL ecosystem](https://www.sea-ql.org/SeaORM/), together we are one step closer to the vision of Rust for data engineering.\\n\\n## People\\n\\nStarfishQL is created by the following SeaQL team members:\\n\\n<div className=\\"container\\">\\n    <div className=\\"row\\">\\n        <div className=\\"col col--3 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Chris Tsang\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div className=\\"col col--3 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Billy Chan\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div className=\\"col col--3 margin-bottom--md\\">\\n            <div className=\\"avatar\\">\\n                <a className=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shpun817\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/47468266?v=4\\" />\\n                </a>\\n                <div className=\\"avatar__intro\\">\\n                    <div className=\\"avatar__name\\">\\n                        Sanford Pun\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Contributing\\n\\nWe are super excited to be selected as a Google Summer of Code 2022 mentor organization!\\n\\nStarfishQL is one of the [GSoC project ideas](https://github.com/SeaQL/summer-of-code/blob/main/2022/README.md#2-a-graph-database-and-query-engine-codename-starfishql-for-graph-analysis-and-visualization) that opens for development proposals. Join us on GSoC 2022 by following the instructions on [GSoC Contributing Guide](https://github.com/SeaQL/summer-of-code/blob/main/2022/CONTRIBUTING.md)."},{"id":"2022-03-26-whats-new-in-0.7.0","metadata":{"permalink":"/preview/pr-154/blog/2022-03-26-whats-new-in-0.7.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-03-26-whats-new-in-0.7.0.md","source":"@site/blog/2022-03-26-whats-new-in-0.7.0.md","title":"What\'s new in SeaORM 0.7.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.7.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2022-03-26T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":7.09,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-03-26-whats-new-in-0.7.0","title":"What\'s new in SeaORM 0.7.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Introducing StarfishQL","permalink":"/preview/pr-154/blog/2022-04-04-introducing-starfish-ql"},"nextItem":{"title":"Google Summer of Code 2022","permalink":"/preview/pr-154/blog/gsoc-2022"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.7.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.7.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Update ActiveModel by JSON\\n\\n[[#492](https://github.com/SeaQL/sea-orm/pull/492)] If you want to save user input into the database you can easily convert JSON value into ActiveModel.\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Serialize, Deserialize)]\\n#[sea_orm(table_name = \\"fruit\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    #[serde(skip_deserializing)] // Skip deserializing\\n    pub id: i32,\\n    pub name: String,\\n    pub cake_id: Option<i32>,\\n}\\n```\\n\\nSet the attributes in ActiveModel with `set_from_json` method.\\n\\n```rust\\n// A ActiveModel with primary key set\\nlet mut fruit = fruit::ActiveModel {\\n    id: ActiveValue::Set(1),\\n    name: ActiveValue::NotSet,\\n    cake_id: ActiveValue::NotSet,\\n};\\n\\n// Note that this method will not alter the primary key values in ActiveModel\\nfruit.set_from_json(json!({\\n    \\"id\\": 8,\\n    \\"name\\": \\"Apple\\",\\n    \\"cake_id\\": 1,\\n}))?;\\n\\nassert_eq!(\\n    fruit,\\n    fruit::ActiveModel {\\n        id: ActiveValue::Set(1),\\n        name: ActiveValue::Set(\\"Apple\\".to_owned()),\\n        cake_id: ActiveValue::Set(Some(1)),\\n    }\\n);\\n```\\n\\nCreate a new ActiveModel from JSON value with the `from_json` method.\\n\\n```rust\\nlet fruit = fruit::ActiveModel::from_json(json!({\\n    \\"name\\": \\"Apple\\",\\n}))?;\\n\\nassert_eq!(\\n    fruit,\\n    fruit::ActiveModel {\\n        id: ActiveValue::NotSet,\\n        name: ActiveValue::Set(\\"Apple\\".to_owned()),\\n        cake_id: ActiveValue::NotSet,\\n    }\\n);\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/qyihua\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/13034668?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    qltk\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Support `time` crate in Model\\n\\n[[#602](https://github.com/SeaQL/sea-orm/pull/602)] You can define datetime column in Model with `time` crate. You can migrate your Model originally defined in `chrono` to `time` crate.\\n\\nModel defined in `chrono` crate.\\n\\n```rust\\nuse sea_orm::entity::prelude::*;\\n\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"transaction_log\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub date: Date, // chrono::NaiveDate\\n    pub time: Time, // chrono::NaiveTime\\n    pub date_time: DateTime, // chrono::NaiveDateTime\\n    pub date_time_tz: DateTimeWithTimeZone, // chrono::DateTime<chrono::FixedOffset>\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {}\\n\\nimpl ActiveModelBehavior for ActiveModel {}\\n```\\n\\nModel defined in `time` crate.\\n\\n```rust\\nuse sea_orm::entity::prelude::*;\\n\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"transaction_log\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub date: TimeDate, // time::Date\\n    pub time: TimeTime, // time::Time\\n    pub date_time: TimeDateTime, // time::PrimitiveDateTime\\n    pub date_time_tz: TimeDateTimeWithTimeZone, // time::OffsetDateTime\\n}\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\\npub enum Relation {}\\n\\nimpl ActiveModelBehavior for ActiveModel {}\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tasn\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/108670?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Tom Hacohen\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Delete by Primary Key\\n\\n[[#590](https://github.com/SeaQL/sea-orm/pull/590)] Instead of selecting `Model` from the database then deleting it. You could also delete a row from database directly by its primary key.\\n\\n```rust\\nlet res: DeleteResult = Fruit::delete_by_id(38).exec(db).await?;\\nassert_eq!(res.rows_affected, 1);\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/ShouvikGhosh2048\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/91585022?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shouvik Ghosh\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Ilqjx\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/53934234?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zhenwei Guo\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Paginate Results from Raw Query\\n\\n[[#617](https://github.com/SeaQL/sea-orm/pull/617)] You can paginate [`SelectorRaw`](https://docs.rs/sea-orm/0.6.0/sea_orm/struct.SelectorRaw.html) and fetch `Model` in batch.\\n\\n```rust\\nlet mut cake_pages = cake::Entity::find()\\n    .from_raw_sql(Statement::from_sql_and_values(\\n        DbBackend::Postgres,\\n        r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" WHERE \\"id\\" = $1\\"#,\\n        vec![1.into()],\\n    ))\\n    .paginate(db, 50);\\n \\nwhile let Some(cakes) = cake_pages.fetch_and_next().await? {\\n    // Do something on cakes: Vec<cake::Model>\\n}\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Bastian\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shinbunbun\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/34409044?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    shinbunbun\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Create Database Index\\n\\n[[#593](https://github.com/SeaQL/sea-orm/pull/593)] To create indexes in database instead of writing [`IndexCreateStatement`](https://docs.rs/sea-query/*/sea_query/index/struct.IndexCreateStatement.html) manually, you can derive it from `Entity` using [`Schema::create_index_from_entity`](https://docs.rs/sea-orm/0.5/sea_orm/schema/struct.Schema.html#method.create_index_from_entity).\\n\\n```rust\\nuse sea_orm::{sea_query, tests_cfg::*, Schema};\\n\\nlet builder = db.get_database_backend();\\nlet schema = Schema::new(builder);\\n\\nlet stmts = schema.create_index_from_entity(indexes::Entity);\\nassert_eq!(stmts.len(), 2);\\n\\nlet idx = sea_query::Index::create()\\n    .name(\\"idx-indexes-index1_attr\\")\\n    .table(indexes::Entity)\\n    .col(indexes::Column::Index1Attr)\\n    .to_owned();\\nassert_eq!(builder.build(&stmts[0]), builder.build(&idx));\\n\\nlet idx = sea_query::Index::create()\\n    .name(\\"idx-indexes-index2_attr\\")\\n    .table(indexes::Entity)\\n    .col(indexes::Column::Index2Attr)\\n    .to_owned();\\nassert_eq!(builder.build(&stmts[1]), builder.build(&idx));\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/grtlr\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/3404250?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Jochen G\xf6rtler\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nickb937\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1443207?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Nick Burrett\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zachary Vander Velden\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/deansheather\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/11241812?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Dean Sheather\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.8.x`](https://github.com/SeaQL/sea-orm/milestone/8).\\n\\n## GSoC 2022\\n\\nWe are super excited to be selected as a Google Summer of Code 2022 mentor organization. Prospective contributors, please visit our [GSoC 2022 Organization Profile](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)!"},{"id":"gsoc-2022","metadata":{"permalink":"/preview/pr-154/blog/gsoc-2022","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-03-08-gsoc-2022.md","source":"@site/blog/2022-03-08-gsoc-2022.md","title":"Google Summer of Code 2022","description":"GSoC 2022 Organization Profile","date":"2022-03-08T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":1.71,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"gsoc-2022","title":"Google Summer of Code 2022","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.7.0","permalink":"/preview/pr-154/blog/2022-03-26-whats-new-in-0.7.0"},"nextItem":{"title":"What\'s new in SeaORM 0.6.0","permalink":"/preview/pr-154/blog/2022-02-07-whats-new-in-0.6.0"}},"content":"[GSoC 2022 Organization Profile](https://summerofcode.withgoogle.com/programs/2022/organizations/seaql)\\n\\nWe are super excited to be selected as a Google Summer of Code 2022 mentor organization. Thank you everyone in the SeaQL community for your support and adoption!\\n\\nIn 2020, when we were developing systems in Rust, we noticed a missing piece in the ecosystem: an ORM that integrates well with the Rust async ecosystem. With that in mind, we designed SeaORM to have a familiar API that welcomes developers from node.js, Go, Python, PHP, Ruby and your favourite language.\\n\\nThe first piece of tool we released is [SeaQuery](https://github.com/SeaQL/sea-query), a query builder with a fluent API. It has a simplified AST that reflects SQL syntax. It frees you from stitching strings together in case you needed to construct SQL dynamically and safely, with the advantages of Rust typings.\\n\\nThe second piece of tool is [SeaSchema](https://github.com/SeaQL/sea-schema), a schema manager that allows you to discover and manipulate database schema. The type definition of the schema is database-specific and thus reflecting the features of MySQL, Postgres and SQLite tightly.\\n\\nThe third piece of tool is [SeaORM](https://github.com/SeaQL/sea-orm), an Object Relational Mapper for building web services in Rust, whether it\'s REST, gRPC or GraphQL. We have \\"async & dynamic\\" in mind, so developers from dynamic languages can feel right at home.\\n\\nBut why stops at three?\\n\\nThis is just the foundation to setup Rust to be the best language for data engineering, and we have many more ideas on our idea list!\\n\\nYour participation is what makes us unique; your adoption is what drives us forward.\\n\\nThank you everyone for all your karma, it\'s the Rust community here that makes it possible. We will gladly take the mission to nurture open source developers during GSoC.\\n\\nProspective contributors, stay in touch with us. We also welcome any discussion on the future of the Rust ecosystem and the SeaQL organization.\\n\\n[GSoC 2022 Idea List](https://github.com/SeaQL/summer-of-code/blob/main/2022/README.md)"},{"id":"2022-02-07-whats-new-in-0.6.0","metadata":{"permalink":"/preview/pr-154/blog/2022-02-07-whats-new-in-0.6.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-02-07-whats-new-in-0.6.0.md","source":"@site/blog/2022-02-07-whats-new-in-0.6.0.md","title":"What\'s new in SeaORM 0.6.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.6.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2022-02-07T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":6.4,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-02-07-whats-new-in-0.6.0","title":"What\'s new in SeaORM 0.6.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"Google Summer of Code 2022","permalink":"/preview/pr-154/blog/gsoc-2022"},"nextItem":{"title":"What\'s new in SeaORM 0.5.0","permalink":"/preview/pr-154/blog/2022-01-01-whats-new-in-0.5.0"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.6.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.6.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Migration\\n\\n[[#335](https://github.com/SeaQL/sea-orm/pull/335)] Version control you database schema with migrations written in SeaQuery or in raw SQL. View [migration docs](https://www.sea-ql.org/SeaORM/docs/migration/setting-up-migration) to learn more.\\n\\n1. Setup the migration directory by executing `sea-orm-cli migrate init`.\\n    ```\\n    migration\\n    \u251c\u2500\u2500 Cargo.toml\\n    \u251c\u2500\u2500 README.md\\n    \u2514\u2500\u2500 src\\n        \u251c\u2500\u2500 lib.rs\\n        \u251c\u2500\u2500 m20220101_000001_create_table.rs\\n        \u2514\u2500\u2500 main.rs\\n    ```\\n2. Defines the migration in SeaQuery.\\n    ```rust\\n    use sea_schema::migration::prelude::*;\\n\\n    pub struct Migration;\\n\\n    impl MigrationName for Migration {\\n        fn name(&self) -> &str {\\n            \\"m20220101_000001_create_table\\"\\n        }\\n    }\\n\\n    #[async_trait::async_trait]\\n    impl MigrationTrait for Migration {\\n        async fn up(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n            manager\\n                .create_table( ... )\\n                .await\\n        }\\n\\n        async fn down(&self, manager: &SchemaManager) -> Result<(), DbErr> {\\n            manager\\n                .drop_table( ... )\\n                .await\\n        }\\n    }\\n    ```\\n3. Apply the migration by executing `sea-orm-cli migrate`.\\n    ```shell\\n    $ sea-orm-cli migrate\\n    Applying all pending migrations\\n    Applying migration \'m20220101_000001_create_table\'\\n    Migration \'m20220101_000001_create_table\' has been applied\\n    ```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Designed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Support DateTimeUtc & DateTimeLocal in Model\\n\\n[[#489](https://github.com/SeaQL/sea-orm/pull/489)] Represents database\'s timestamp column in Model with attribute of type `DateTimeLocal` (`chrono::DateTime<Local>`) or `DateTimeUtc` (`chrono::DateTime<Utc>`).\\n\\n```rust\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"satellite\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    pub satellite_name: String,\\n    pub launch_date: DateTimeUtc,\\n    pub deployment_date: DateTimeLocal,\\n}\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/lz1998\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/9082086?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    lz1998\\n                </div>\\n            </div>\\n        </div>\\n        <br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/charleschege\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/33346042?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Charles\xb7Chege\\n                </div>\\n            </div>\\n        </div>\\n        <br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Mock Join Results\\n\\n[[#455](https://github.com/SeaQL/sea-orm/pull/455)] Constructs mock results of related model with tuple of model.\\n\\n```rust\\nlet db = MockDatabase::new(DbBackend::Postgres)\\n    // Mocking result of cake with its related fruit\\n    .append_query_results(vec![vec![(\\n        cake::Model {\\n            id: 1,\\n            name: \\"Apple Cake\\".to_owned(),\\n        },\\n        fruit::Model {\\n            id: 2,\\n            name: \\"Apple\\".to_owned(),\\n            cake_id: Some(1),\\n        },\\n    )]])\\n    .into_connection();\\n\\nassert_eq!(\\n    cake::Entity::find()\\n        .find_also_related(fruit::Entity)\\n        .all(&db)\\n        .await?,\\n    vec![(\\n        cake::Model {\\n            id: 1,\\n            name: \\"Apple Cake\\".to_owned(),\\n        },\\n        Some(fruit::Model {\\n            id: 2,\\n            name: \\"Apple\\".to_owned(),\\n            cake_id: Some(1),\\n        })\\n    )]\\n);\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Bastian\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/cemoktra\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15634263?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Bastian\\n                </div>\\n            </div>\\n        </div>\\n        <br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Support Max Connection Lifetime Option\\n\\n[[#493](https://github.com/SeaQL/sea-orm/pull/493)] You can set the maximum lifetime of individual connection with the `max_lifetime` method.\\n\\n```rust\\nlet mut opt = ConnectOptions::new(\\"protocol://username:password@host/database\\".to_owned());\\nopt.max_lifetime(Duration::from_secs(8))\\n    .max_connections(100)\\n    .min_connections(5)\\n    .connect_timeout(Duration::from_secs(8))\\n    .idle_timeout(Duration::from_secs(8))\\n    .sqlx_logging(true);\\n\\nlet db = Database::connect(opt).await?;\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n## SeaORM CLI & Codegen Updates\\n\\n- [[#433](https://github.com/SeaQL/sea-orm/pull/433)] Generates the `column_name` macro attribute for column which is not named in snake case\\n- [[#335](https://github.com/SeaQL/sea-orm/pull/335)] Introduces migration subcommands `sea-orm-cli migrate`\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Gabriel-Paulucci\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/43076727?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Gabriel Paulucci\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Sytten\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/2366731?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    \xc9mile Fugulin\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zachary Vander Velden\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.7.x`](https://github.com/SeaQL/sea-orm/milestone/7)."},{"id":"2022-01-01-whats-new-in-0.5.0","metadata":{"permalink":"/preview/pr-154/blog/2022-01-01-whats-new-in-0.5.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-01-01-whats-new-in-0.5.0.md","source":"@site/blog/2022-01-01-whats-new-in-0.5.0.md","title":"What\'s new in SeaORM 0.5.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.5.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2022-01-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":5.48,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-01-01-whats-new-in-0.5.0","title":"What\'s new in SeaORM 0.5.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.6.0","permalink":"/preview/pr-154/blog/2022-02-07-whats-new-in-0.6.0"},"nextItem":{"title":"What\'s new in SeaORM 0.4.0","permalink":"/preview/pr-154/blog/2021-11-19-whats-new-in-0.4.0"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.5.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.5.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Insert and Update Return `Model`\\n\\n[[#339](https://github.com/SeaQL/sea-orm/pull/339)] As asked and requested by many of our community members. You can now get the refreshed `Model` after insert or update operations. If you want to mutate the model and save it back to the database you can convert it into `ActiveModel` with the method `into_active_model`.\\n\\nBreaking Changes:\\n- `ActiveModel::insert` and `ActiveModel::update` return `Model` instead of `ActiveModel`\\n- Method `ActiveModelBehavior::after_save` takes `Model` as input instead of `ActiveModel`\\n\\n```rust\\n// Construct a `ActiveModel`\\nlet active_model = ActiveModel {\\n    name: Set(\\"Classic Vanilla Cake\\".to_owned()),\\n    ..Default::default()\\n};\\n// Do insert\\nlet cake: Model = active_model.insert(db).await?;\\nassert_eq!(\\n    cake,\\n    Model {\\n        id: 1,\\n        name: \\"Classic Vanilla Cake\\".to_owned(),\\n    }\\n);\\n\\n// Covert `Model` into `ActiveModel`\\nlet mut active_model = cake.into_active_model();\\n// Change the name of cake\\nactive_model.name = Set(\\"Chocolate Cake\\".to_owned());\\n// Do update\\nlet cake: Model = active_model.update(db).await?;\\nassert_eq!(\\n    cake,\\n    Model {\\n        id: 1,\\n        name: \\"Chocolate Cake\\".to_owned(),\\n    }\\n);\\n\\n// Do delete\\ncake.delete(db).await?;\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nicoulaj\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/3162?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Julien Nicoulaud\\n                </div>\\n            </div>\\n        </div>\\n        <br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/edg-l\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/15859336?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Edgar\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## `ActiveValue` Revamped\\n\\n[[#340](https://github.com/SeaQL/sea-orm/pull/340)] The `ActiveValue` is now defined as an enum instead of a struct. The public API of it remains unchanged, except `Unset` was deprecated and `ActiveValue::NotSet` should be used instead.\\n\\nBreaking Changes:\\n- Rename method `sea_orm::unchanged_active_value_not_intended_for_public_use` to `sea_orm::Unchanged`\\n- Rename method `ActiveValue::unset` to `ActiveValue::not_set`\\n- Rename method `ActiveValue::is_unset` to `ActiveValue::is_not_set`\\n- `PartialEq` of `ActiveValue` will also check the equality of state instead of just checking the equality of value\\n\\n```rust\\n/// Defines a stateful value used in ActiveModel.\\npub enum ActiveValue<V>\\nwhere\\n    V: Into<Value>,\\n{\\n    /// A defined [Value] actively being set\\n    Set(V),\\n    /// A defined [Value] remain unchanged\\n    Unchanged(V),\\n    /// An undefined [Value]\\n    NotSet,\\n}\\n```\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Designed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## SeaORM CLI & Codegen Updates\\n\\nInstall latest version of `sea-orm-cli`:\\n\\n```shell\\ncargo install sea-orm-cli\\n```\\n\\nUpdates related to entity files generation (`cargo generate entity`):\\n\\n- [[#348](https://github.com/SeaQL/sea-orm/pull/348)] Discovers and defines PostgreSQL enums\\n- [[#386](https://github.com/SeaQL/sea-orm/pull/386)] Supports SQLite database, you can generate entity files from all supported databases including MySQL, PostgreSQL and SQLite\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zachary Vander Velden\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/charleschege\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/33346042?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Charles\xb7Chege\\n                </div>\\n            </div>\\n        </div>\\n        <br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Tracing\\n\\n[[#373](https://github.com/SeaQL/sea-orm/pull/373)] You can trace the query executed by SeaORM with `debug-print` feature enabled and [`tracing-subscriber`](https://crates.io/crates/tracing-subscriber) up and running.\\n\\n```rust\\npub async fn main() {\\n    tracing_subscriber::fmt()\\n        .with_max_level(tracing::Level::DEBUG)\\n        .with_test_writer()\\n        .init();\\n\\n    // ...\\n}\\n```\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marco Napetti\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sakti\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/196178?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Sakti Dwi Cahyono\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zachary Vander Velden\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/praveenperera\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1775346?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Praveen Perera\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.6.x`](https://github.com/SeaQL/sea-orm/milestone/6)."},{"id":"2021-11-19-whats-new-in-0.4.0","metadata":{"permalink":"/preview/pr-154/blog/2021-11-19-whats-new-in-0.4.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-11-19-whats-new-in-0.4.0.md","source":"@site/blog/2021-11-19-whats-new-in-0.4.0.md","title":"What\'s new in SeaORM 0.4.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.4.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2021-11-19T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.38,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2021-11-19-whats-new-in-0.4.0","title":"What\'s new in SeaORM 0.4.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.5.0","permalink":"/preview/pr-154/blog/2022-01-01-whats-new-in-0.5.0"},"nextItem":{"title":"What\'s new in SeaORM 0.3.0","permalink":"/preview/pr-154/blog/2021-10-15-whats-new-in-0.3.0"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.4.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.4.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Rust Edition 2021\\n\\n[[#273](https://github.com/SeaQL/sea-orm/pull/273)] Upgrading SeaORM to [Rust Edition 2021](https://blog.rust-lang.org/2021/10/21/Rust-1.56.0.html#rust-2021) \ud83e\udd80\u2764\ud83d\udc1a!\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/sno2\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/43641633?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Carter Snook\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Enumeration\\n\\n[[#252](https://github.com/SeaQL/sea-orm/issues/252)] You can now use Rust enums in model where the values are mapped to a database string, integer or native enum. Learn more [here](https://www.sea-ql.org/SeaORM/docs/generate-entity/enumeration).\\n\\n```rust\\n#[derive(Debug, Clone, PartialEq, DeriveEntityModel)]\\n#[sea_orm(table_name = \\"active_enum\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    // Use our custom enum in a model\\n    pub category: Option<Category>,\\n    pub color: Option<Color>,\\n    pub tea: Option<Tea>,\\n}\\n\\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"String(Some(1))\\")]\\n// An enum serialized into database as a string value\\npub enum Category {\\n    #[sea_orm(string_value = \\"B\\")]\\n    Big,\\n    #[sea_orm(string_value = \\"S\\")]\\n    Small,\\n}\\n\\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\\n#[sea_orm(rs_type = \\"i32\\", db_type = \\"Integer\\")]\\n// An enum serialized into database as an integer value\\npub enum Color {\\n    #[sea_orm(num_value = 0)]\\n    Black,\\n    #[sea_orm(num_value = 1)]\\n    White,\\n}\\n\\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\\n#[sea_orm(rs_type = \\"String\\", db_type = \\"Enum\\", enum_name = \\"tea\\")]\\n// An enum serialized into database as a database native enum\\npub enum Tea {\\n    #[sea_orm(string_value = \\"EverydayTea\\")]\\n    EverydayTea,\\n    #[sea_orm(string_value = \\"BreakfastTea\\")]\\n    BreakfastTea,\\n}\\n```\\n\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Designed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Supports `RETURNING` Clause on PostgreSQL\\n\\n[[#183](https://github.com/SeaQL/sea-orm/issues/183)] When performing insert or update operation on `ActiveModel` against PostgreSQL, `RETURNING` clause will be used to perform select in a single SQL statement.\\n\\n```rust\\n// For PostgreSQL\\ncake::ActiveModel {\\n    name: Set(\\"Apple Pie\\".to_owned()),\\n    ..Default::default()\\n}\\n.insert(&postgres_db)\\n.await?;\\n\\nassert_eq!(\\n    postgres_db.into_transaction_log(),\\n    vec![Transaction::from_sql_and_values(\\n        DbBackend::Postgres,\\n        r#\\"INSERT INTO \\"cake\\" (\\"name\\") VALUES ($1) RETURNING \\"id\\", \\"name\\"\\"#,\\n        vec![\\"Apple Pie\\".into()]\\n    )]);\\n```\\n\\n```rust\\n// For MySQL & SQLite\\ncake::ActiveModel {\\n    name: Set(\\"Apple Pie\\".to_owned()),\\n    ..Default::default()\\n}\\n.insert(&other_db)\\n.await?;\\n\\nassert_eq!(\\n    other_db.into_transaction_log(),\\n    vec![\\n        Transaction::from_sql_and_values(\\n            DbBackend::MySql,\\n            r#\\"INSERT INTO `cake` (`name`) VALUES (?)\\"#,\\n            vec![\\"Apple Pie\\".into()]\\n        ),\\n        Transaction::from_sql_and_values(\\n            DbBackend::MySql,\\n            r#\\"SELECT `cake`.`id`, `cake`.`name` FROM `cake` WHERE `cake`.`id` = ? LIMIT ?\\"#,\\n            vec![15.into(), 1u64.into()]\\n        )]);\\n```\\n\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Proposed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/marlon-sousa\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/21093041?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marlon Brand\xe3o de Sousa\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        Contributed by:\\n        <br/><br/>\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Axum Integration Example\\n\\n[[#297](https://github.com/SeaQL/sea-orm/pull/297)] Added [Axum integration example](https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example). More examples [wanted](https://github.com/SeaQL/sea-orm/issues/269)!\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/YoshieraHuang\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/38752027?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Yoshiera\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Sponsor\\n\\nOur [GitHub Sponsor](https://github.com/sponsors/SeaQL) profile is up! If you feel generous, a small donation will be greatly appreciated.\\n\\nA big shout out to our first sponsors \ud83d\ude07:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/shanesveller\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/831?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Shane Sveller\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/exzachlyvv\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/46034847?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Zachary Vander Velden\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--6 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\">\\n                <img style={{width: \'100%\'}} src=\\"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\\"/>\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Unnamed Sponsor\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.5.x`](https://github.com/SeaQL/sea-orm/milestone/5)."},{"id":"2021-10-15-whats-new-in-0.3.0","metadata":{"permalink":"/preview/pr-154/blog/2021-10-15-whats-new-in-0.3.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-10-15-whats-new-in-0.3.0.md","source":"@site/blog/2021-10-15-whats-new-in-0.3.0.md","title":"What\'s new in SeaORM 0.3.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.3.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2021-10-15T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":4.63,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2021-10-15-whats-new-in-0.3.0","title":"What\'s new in SeaORM 0.3.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.4.0","permalink":"/preview/pr-154/blog/2021-11-19-whats-new-in-0.4.0"},"nextItem":{"title":"What\'s new in SeaORM 0.2.4","permalink":"/preview/pr-154/blog/2021-10-01-whats-new-in-0.2.4"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.3.0`](https://github.com/SeaQL/sea-orm/releases/tag/0.3.0) today! Here are some feature highlights \ud83c\udf1f:\\n\\n## Transaction\\n\\n[[#222](https://github.com/SeaQL/sea-orm/pull/222)] Use database transaction to perform atomic operations\\n\\nTwo transaction APIs are provided:\\n\\n- `closure` style. Will be committed on Ok and rollback on Err.\\n    ```rust\\n    // <Fn, A, B> -> Result<A, B>\\n    db.transaction::<_, _, DbErr>(|txn| {\\n        Box::pin(async move {\\n            bakery::ActiveModel {\\n                name: Set(\\"SeaSide Bakery\\".to_owned()),\\n                ..Default::default()\\n            }\\n            .save(txn)\\n            .await?;\\n\\n            bakery::ActiveModel {\\n                name: Set(\\"Top Bakery\\".to_owned()),\\n                ..Default::default()\\n            }\\n            .save(txn)\\n            .await?;\\n\\n            Ok(())\\n        })\\n    })\\n    .await;\\n    ```\\n\\n- RAII style. `begin` the transaction followed by `commit` or `rollback`. If `txn` goes out of scope, it\'d automatically rollback.\\n    ```rust\\n    let txn = db.begin().await?;\\n\\n    // do something with txn\\n\\n    txn.commit().await?;\\n    ```\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marco Napetti\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Chris Tsang\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Streaming\\n\\n[[#222](https://github.com/SeaQL/sea-orm/pull/222)] Use async stream on any `Select` for memory efficiency.\\n\\n```rust\\nlet mut stream = Fruit::find().stream(&db).await?;\\n\\nwhile let Some(item) = stream.try_next().await? {\\n    let item: fruit::ActiveModel = item.into();\\n    // do something with item\\n}\\n```\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Marco Napetti\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## API for custom logic on save & delete\\n\\n[[#210](https://github.com/SeaQL/sea-orm/pull/210)] We redefined the trait methods of `ActiveModelBehavior`. You can now perform custom validation before and after `insert`, `update`, `save`, `delete` actions. You can abort an action even after it is done, if you are inside a transaction.\\n\\n```rust\\nimpl ActiveModelBehavior for ActiveModel {\\n    // Override default values\\n    fn new() -> Self {\\n        Self {\\n            serial: Set(Uuid::new_v4()),\\n            ..ActiveModelTrait::default()\\n        }\\n    }\\n\\n    // Triggered before insert / update\\n    fn before_save(self, insert: bool) -> Result<Self, DbErr> {\\n        if self.price.as_ref() <= &0.0 {\\n            Err(DbErr::Custom(format!(\\n                \\"[before_save] Invalid Price, insert: {}\\",\\n                insert\\n            )))\\n        } else {\\n            Ok(self)\\n        }\\n    }\\n\\n    // Triggered after insert / update\\n    fn after_save(self, insert: bool) -> Result<Self, DbErr> {\\n        Ok(self)\\n    }\\n\\n    // Triggered before delete\\n    fn before_delete(self) -> Result<Self, DbErr> {\\n        Ok(self)\\n    }\\n\\n    // Triggered after delete\\n    fn after_delete(self) -> Result<Self, DbErr> {\\n        Ok(self)\\n    }\\n}\\n```\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MuhannadAlrusayni\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/14802524?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Muhannad\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Billy Chan\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Generate Entity Models That Derive Serialize / Deserialize\\n\\n[[#237](https://github.com/SeaQL/sea-orm/pull/237)] You can use `sea-orm-cli` to generate entity models that also derive serde `Serialize` / `Deserialize` traits.\\n\\n```rust\\n//! SeaORM Entity. Generated by sea-orm-codegen 0.3.0\\n\\nuse sea_orm::entity::prelude:: * ;\\nuse serde::{Deserialize, Serialize};\\n\\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Serialize, Deserialize)]\\n#[sea_orm(table_name = \\"cake\\")]\\npub struct Model {\\n    #[sea_orm(primary_key)]\\n    pub id: i32,\\n    #[sea_orm(column_type = \\"Text\\", nullable)]\\n    pub name: Option<String> ,\\n}\\n\\n// ...\\n```\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/elbart\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/48974?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Tim Eggert\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Introduce `DeriveIntoActiveModel` macro & `IntoActiveValue` Trait\\n\\n[[#240](https://github.com/SeaQL/sea-orm/pull/240)] introduced a new derive macro `DeriveIntoActiveModel` for implementing `IntoActiveModel` on structs. This is useful when creating your own struct with only partial fields of a model, for example as a form submission in a REST API.\\n\\n`IntoActiveValue` trait allows converting `Option<T>` into `ActiveValue<T>` with the method `into_active_value`.\\n\\n```rust\\n// Define regular model as usual\\n#[derive(Clone, Debug, PartialEq, DeriveModel, DeriveActiveModel)]\\n#[sea_orm(table_name = \\"users\\")]\\npub struct Model {\\n    pub id: Uuid,\\n    pub created_at: DateTimeWithTimeZone,\\n    pub updated_at: DateTimeWithTimeZone,\\n    pub email: String,\\n    pub password: String,\\n    pub full_name: Option<String>,\\n    pub phone: Option<String>,\\n}\\n\\n// Create a new struct with some fields omitted\\n#[derive(DeriveIntoActiveModel)]\\npub struct NewUser {\\n    // id, created_at and updated_at are omitted from this struct,\\n    // and will always be `ActiveValue::unset`\\n    pub email: String,\\n    pub password: String,\\n    // Full name is usually optional, but it can be required here\\n    pub full_name: String,\\n    // Option implements `IntoActiveValue`, and when `None` will be `unset`\\n    pub phone: Option<String>,\\n}\\n\\n#[derive(DeriveIntoActiveModel)]\\npub struct UpdateUser {\\n    // Option<Option<T>> allows for Some(None) to update the column to be NULL\\n    pub phone: Option<Option<String>>,\\n}\\n```\\n\\nContributed by:\\n\\n<div class=\\"row\\">\\n    <div class=\\"col col--3 margin-bottom--md\\">\\n        <div class=\\"avatar\\">\\n            <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Acidic9\\">\\n                <img src=\\"https://avatars.githubusercontent.com/u/16362377?v=4\\" />\\n            </a>\\n            <div class=\\"avatar__intro\\">\\n                <div class=\\"avatar__name\\">\\n                    Ari Seyhun\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.4.x`](https://github.com/SeaQL/sea-orm/milestone/4)."},{"id":"2021-10-01-whats-new-in-0.2.4","metadata":{"permalink":"/preview/pr-154/blog/2021-10-01-whats-new-in-0.2.4","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-10-01-whats-new-in-0.2.4.md","source":"@site/blog/2021-10-01-whats-new-in-0.2.4.md","title":"What\'s new in SeaORM 0.2.4","description":"\ud83c\udf89 We are pleased to release SeaORM 0.2.4 today! Some feature highlights:","date":"2021-10-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":2.61,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2021-10-01-whats-new-in-0.2.4","title":"What\'s new in SeaORM 0.2.4","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.3.0","permalink":"/preview/pr-154/blog/2021-10-15-whats-new-in-0.3.0"},"nextItem":{"title":"Introducing SeaORM \ud83d\udc1a","permalink":"/preview/pr-154/blog/2021-09-20-introducing-sea-orm"}},"content":"\ud83c\udf89 We are pleased to release SeaORM [`0.2.4`](https://github.com/SeaQL/sea-orm/releases/tag/0.2.4) today! Some feature highlights:\\n\\n## Better ergonomic when working with custom select list\\n\\n[[#208](https://github.com/SeaQL/sea-orm/pull/208)] Use [Select::into_values](https://docs.rs/sea-orm/0.2.4/sea_orm/entity/prelude/struct.Select.html#method.into_values) to quickly select a custom column list and destruct as tuple.\\n\\n```rust\\nuse sea_orm::{entity::*, query::*, tests_cfg::cake, DeriveColumn, EnumIter};\\n\\n#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]\\nenum QueryAs {\\n    CakeName,\\n    NumOfCakes,\\n}\\n\\nlet res: Vec<(String, i64)> = cake::Entity::find()\\n    .select_only()\\n    .column_as(cake::Column::Name, QueryAs::CakeName)\\n    .column_as(cake::Column::Id.count(), QueryAs::NumOfCakes)\\n    .group_by(cake::Column::Name)\\n    .into_values::<_, QueryAs>()\\n    .all(&db)\\n    .await?;\\n\\nassert_eq!(\\n    res,\\n    vec![(\\"Chocolate Forest\\".to_owned(), 2i64)]\\n);\\n```\\n\\nContributed by:\\n\\n<div class=\\"col col--3 margin-bottom--md\\">\\n    <div class=\\"avatar\\">\\n        <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MuhannadAlrusayni\\">\\n            <img src=\\"https://avatars.githubusercontent.com/u/14802524?v=4\\" />\\n        </a>\\n        <div class=\\"avatar__intro\\">\\n            <div class=\\"avatar__name\\">\\n                Muhannad\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Rename column name & column enum variant\\n\\n[[#209](https://github.com/SeaQL/sea-orm/pull/209)] Rename the column name and enum variant of a model attribute, especially helpful when the column name is a Rust keyword.\\n\\n```rust\\nmod my_entity {\\n    use sea_orm::entity::prelude::*;\\n\\n    #[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\\n    #[sea_orm(table_name = \\"my_entity\\")]\\n    pub struct Model {\\n        #[sea_orm(primary_key, enum_name = \\"IdentityColumn\\", column_name = \\"id\\")]\\n        pub id: i32,\\n        #[sea_orm(column_name = \\"type\\")]\\n        pub type_: String,\\n    }\\n\\n    //...\\n}\\n\\nassert_eq!(my_entity::Column::IdentityColumn.to_string().as_str(), \\"id\\");\\nassert_eq!(my_entity::Column::Type.to_string().as_str(), \\"type\\");\\n```\\n\\nContributed by:\\n\\n<div class=\\"container\\">\\n    <div class=\\"row\\">\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Billy Chan\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## `not` on a condition tree\\n\\n[[#145](https://github.com/SeaQL/sea-query/pull/145)] Build a complex condition tree with [Condition](https://docs.rs/sea-query/0.16.5/sea_query/query/struct.Condition.html).\\n\\n```rust\\nuse sea_orm::{entity::*, query::*, tests_cfg::cake, sea_query::Expr, DbBackend};\\n\\nassert_eq!(\\n    cake::Entity::find()\\n        .filter(\\n            Condition::all()\\n                .add(\\n                    Condition::all()\\n                        .not()\\n                        .add(Expr::val(1).eq(1))\\n                        .add(Expr::val(2).eq(2))\\n                )\\n                .add(\\n                    Condition::any()\\n                        .add(Expr::val(3).eq(3))\\n                        .add(Expr::val(4).eq(4))\\n                )\\n        )\\n        .build(DbBackend::Postgres)\\n        .to_string(),\\n    r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" WHERE (NOT (1 = 1 AND 2 = 2)) AND (3 = 3 OR 4 = 4)\\"#\\n);\\n```\\n\\nContributed by:\\n\\n<div class=\\"container\\">\\n    <div class=\\"row\\">\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nitnelave\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/796633?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        nitnelave\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/6xzo\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/36180574?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        6xzo\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n## Community\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\nHere is the roadmap for SeaORM [`0.3.x`](https://github.com/SeaQL/sea-orm/milestone/3)."},{"id":"2021-09-20-introducing-sea-orm","metadata":{"permalink":"/preview/pr-154/blog/2021-09-20-introducing-sea-orm","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-09-20-introducing-sea-orm.md","source":"@site/blog/2021-09-20-introducing-sea-orm.md","title":"Introducing SeaORM \ud83d\udc1a","description":"We are pleased to introduce SeaORM 0.2.2 to the Rust community today. It\'s our pleasure to have received feedback and contributions from awesome people to SeaQuery and SeaORM since 0.1.0.","date":"2021-09-20T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":5.71,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2021-09-20-introducing-sea-orm","title":"Introducing SeaORM \ud83d\udc1a","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.2.4","permalink":"/preview/pr-154/blog/2021-10-01-whats-new-in-0.2.4"},"nextItem":{"title":"Release Model","permalink":"/preview/pr-154/blog/2021-08-30-release-model"}},"content":"We are pleased to introduce SeaORM [`0.2.2`](https://github.com/SeaQL/sea-orm/releases/tag/0.2.2) to the Rust community today. It\'s our pleasure to have received feedback and contributions from awesome people to SeaQuery and SeaORM since `0.1.0`.\\n\\nRust is a wonderful language that can be used to build anything. One of the FAQs is \\"Are We Web Yet?\\", and if Rocket (or your favourite web framework) is Rust\'s Rail, then SeaORM is precisely Rust\'s ActiveRecord.\\n\\nSeaORM is an async ORM built from the ground up, designed to play well with the async ecosystem, whether it\'s actix, async-std, tokio or any web framework built on top.\\n\\nLet\'s have a quick tour of SeaORM.\\n\\n## Async\\n\\nHere is how you\'d execute multiple queries in parallel:\\n\\n```rust\\n// execute multiple queries in parallel\\nlet cakes_and_fruits: (Vec<cake::Model>, Vec<fruit::Model>) =\\n    futures::try_join!(Cake::find().all(&db), Fruit::find().all(&db))?;\\n```\\n\\n## Dynamic\\n\\nYou can use SeaQuery to build complex queries without \'fighting the ORM\':\\n\\n```rust\\n// build subquery with ease\\nlet cakes_with_filling: Vec<cake::Model> = cake::Entity::find()\\n    .filter(\\n        Condition::any().add(\\n            cake::Column::Id.in_subquery(\\n                Query::select()\\n                    .column(cake_filling::Column::CakeId)\\n                    .from(cake_filling::Entity)\\n                    .to_owned(),\\n            ),\\n        ),\\n    )\\n    .all(&db)\\n    .await?;\\n```\\n\\n[More on SeaQuery](https://docs.rs/sea-query/*/sea_query/)\\n\\n## Testable\\n\\nTo write unit tests, you can use our mock interface:\\n\\n```rust\\n// Setup mock connection\\nlet db = MockDatabase::new(DbBackend::Postgres)\\n    .append_query_results(vec![\\n        vec![\\n            cake::Model {\\n                id: 1,\\n                name: \\"New York Cheese\\".to_owned(),\\n            },\\n        ],\\n    ])\\n    .into_connection();\\n\\n// Perform your application logic\\nassert_eq!(\\n    cake::Entity::find().one(&db).await?,\\n    Some(cake::Model {\\n        id: 1,\\n        name: \\"New York Cheese\\".to_owned(),\\n    })\\n);\\n\\n// Compare it against the expected transaction log\\nassert_eq!(\\n    db.into_transaction_log(),\\n    vec![\\n        Transaction::from_sql_and_values(\\n            DbBackend::Postgres,\\n            r#\\"SELECT \\"cake\\".\\"id\\", \\"cake\\".\\"name\\" FROM \\"cake\\" LIMIT $1\\"#,\\n            vec![1u64.into()]\\n        ),\\n    ]\\n);\\n```\\n\\n[More on testing](https://www.sea-ql.org/SeaORM/docs/write-test/mock)\\n\\n## Service Oriented\\n\\nHere is an example `Rocket` handler with pagination:\\n\\n```rust\\n#[get(\\"/?<page>&<posts_per_page>\\")]\\nasync fn list(\\n    conn: Connection<Db>,\\n    page: Option<usize>,\\n    per_page: Option<usize>,\\n) -> Template {\\n    // Set page number and items per page\\n    let page = page.unwrap_or(1);\\n    let per_page = per_page.unwrap_or(10);\\n\\n    // Setup paginator\\n    let paginator = Post::find()\\n        .order_by_asc(post::Column::Id)\\n        .paginate(&conn, per_page);\\n    let num_pages = paginator.num_pages().await.unwrap();\\n\\n    // Fetch paginated posts\\n    let posts = paginator\\n        .fetch_page(page - 1)\\n        .await\\n        .expect(\\"could not retrieve posts\\");\\n\\n    Template::render(\\n        \\"index\\",\\n        context! {\\n            page: page,\\n            per_page: per_page,\\n            posts: posts,\\n            num_pages: num_pages,\\n        },\\n    )\\n}\\n```\\n\\n[Full Rocket example](https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example)\\n\\nWe are building more examples for other web frameworks too.\\n\\n## People\\n\\nSeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust\'s future.\\n\\n### Core Members\\n\\n<div class=\\"container\\">\\n    <div class=\\"row\\">\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/tyt2y3\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1782664?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Chris Tsang\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/billy1624\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/30400950?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Billy Chan\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n### Contributors\\n\\nAs a courtesy, here is the list of SeaQL\'s early contributors (in alphabetic order):\\n\\n<div class=\\"container\\">\\n    <div class=\\"row\\">\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Acidic9\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/16362377?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Ari Seyhun\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MozarellaMan\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/48062697?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Ayomide Bamidele\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/benarmstead\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/70973680?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Ben Armstead\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/bobbyng626\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/67236456?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Bobby Ng\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/scrblue\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/1524936?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Daniel Lyne\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Hirtol\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/55356909?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Hirtol\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/Follpvosten\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/22855787?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Sylvie Rinner\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nappa85\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/7566389?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Marco Napetti\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/code-mm\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/43041831?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Markus Merklinger\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/MuhannadAlrusayni\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/14802524?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Muhannad\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/nitnelave\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/796633?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        nitnelave\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/duchainer\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/11084784?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Rapha\xebl Ducha\xeene\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/RemiKalbe\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/8604600?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        R\xe9mi Kalbe\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n        <div class=\\"col col--3 margin-bottom--md\\">\\n            <div class=\\"avatar\\">\\n                <a class=\\"avatar__photo-link avatar__photo avatar__photo--sm\\" href=\\"https://github.com/samsamai\\">\\n                    <img src=\\"https://avatars.githubusercontent.com/u/3764355?v=4\\" />\\n                </a>\\n                <div class=\\"avatar__intro\\">\\n                    <div class=\\"avatar__name\\">\\n                        Sam Samai\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>"},{"id":"2021-08-30-release-model","metadata":{"permalink":"/preview/pr-154/blog/2021-08-30-release-model","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-08-30-release-model.md","source":"@site/blog/2021-08-30-release-model.md","title":"Release Model","description":"Today we will outline our release plan in the near future.","date":"2021-08-30T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":0.94,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2021-08-30-release-model","title":"Release Model","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"Introducing SeaORM \ud83d\udc1a","permalink":"/preview/pr-154/blog/2021-09-20-introducing-sea-orm"},"nextItem":{"title":"Hello World","permalink":"/preview/pr-154/blog/2021-08-07-hello-world"}},"content":"Today we will outline our release plan in the near future.\\n\\nOne of Rust\'s slogan is [Stability Without Stagnation](https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#stability-without-stagnation), and SeaQL\'s take on it, is \'progression without stagnation\'.\\n\\nBefore reaching `1.0`, we will be releasing every week, incorporating the latest changes and merged pull requests. There will be at most one incompatible release per month, so you will be expecting `0.2` in Sep 2021 and `0.9` in Apr 2022. We will decide by then whether the next release is an incremental `0.10` or a stable `1.0`.\\n\\nAfter that, a major release will be rolled out every year. So you will probably be expecting a `2.0` in 2023.\\n\\nAll of these is only made possible with a solid infrastructure. While we have a [test suite](https://github.com/SeaQL/sea-orm/actions), its coverage will likely never be enough. We urge you to submit test cases to SeaORM if a particular feature is of importance to you.\\n\\nWe hope that a rolling release model will provide momentum to the community and propell us forward in the near future."},{"id":"2021-08-07-hello-world","metadata":{"permalink":"/preview/pr-154/blog/2021-08-07-hello-world","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-08-07-hello-world.md","source":"@site/blog/2021-08-07-hello-world.md","title":"Hello World","description":"After 8 months of secrecy, SeaORM is now public!","date":"2021-08-07T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":0.35,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2021-08-07-hello-world","title":"Hello World","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"Release Model","permalink":"/preview/pr-154/blog/2021-08-30-release-model"},"nextItem":{"title":"Welcome to SeaQL","permalink":"/preview/pr-154/blog/2021-07-01-welcome"}},"content":"After [8 months of secrecy](https://github.com/SeaQL/sea-query/discussions/9), SeaORM is now public!\\n\\nThe Rust async ecosystem is definitely thriving, with Tokio [announcing Axum](https://tokio.rs/blog/2021-07-announcing-axum) a week before.\\n\\nWe are now busy doing the brush ups to head towards our announcement in Sep.\\n\\nIf you stumbled upon us just now, well, hello! We sincerely invite you to be our alpha tester."},{"id":"2021-07-01-welcome","metadata":{"permalink":"/preview/pr-154/blog/2021-07-01-welcome","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-07-01-welcome.md","source":"@site/blog/2021-07-01-welcome.md","title":"Welcome to SeaQL","description":"One year ago, when we were writing data processing algorithms in Rust, we needed an async library to interface with a database. Back then, there weren\'t many choices. So we have to write our own.","date":"2021-07-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":1,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2021-07-01-welcome","title":"Welcome to SeaQL","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"Hello World","permalink":"/preview/pr-154/blog/2021-08-07-hello-world"}},"content":"One year ago, when we were writing data processing algorithms in Rust, we needed an async library to interface with a database. Back then, there weren\'t many choices. So we have to write our own.\\n\\nDecember last year, we released [SeaQuery](https://github.com/SeaQL/sea-query), and received welcoming responses from the community. We decided to push the project further and develop a full blown async ORM.\\n\\nIt has been a bumpy ride, as designing an async ORM requires working within and sometimes around Rust\'s unique type system. After several iterations of experimentation, I think we\'ve attained a balance between static & dynamic and compile-time & run-time that it offers benefits of the Rust language while still be familiar and easy-to-work-with for those who come from other languages.\\n\\nSeaORM is tentative to be released in Sep 2021 and stabilize in May 2022. We hope that SeaORM will become a go-to choice for working with databases in Rust and that the Rust language will be adopted by more organizations in building applications.\\n\\nIf you are intrigued like I do, please stay in touch and join the community.\\n\\n[Share your thoughts here](https://github.com/SeaQL/seaql.github.io/discussions/3)."}]}}')}}]);