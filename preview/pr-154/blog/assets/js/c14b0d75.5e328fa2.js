"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[729],{829:e=>{e.exports=JSON.parse('{"permalink":"/preview/pr-154/blog/2022-01-01-whats-new-in-0.5.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2022-01-01-whats-new-in-0.5.0.md","source":"@site/blog/2022-01-01-whats-new-in-0.5.0.md","title":"What\'s new in SeaORM 0.5.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.5.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2022-01-01T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/preview/pr-154/blog/tags/news"}],"readingTime":5.48,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2022-01-01-whats-new-in-0.5.0","title":"What\'s new in SeaORM 0.5.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.6.0","permalink":"/preview/pr-154/blog/2022-02-07-whats-new-in-0.6.0"},"nextItem":{"title":"What\'s new in SeaORM 0.4.0","permalink":"/preview/pr-154/blog/2021-11-19-whats-new-in-0.4.0"}}')},6341:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>o});var t=s(829),n=s(4848),r=s(8453);const i={slug:"2022-01-01-whats-new-in-0.5.0",title:"What's new in SeaORM 0.5.0",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/SeaORM/img/SeaQL.png",tags:["news"]},l=void 0,c={authorsImageUrls:[void 0]},o=[{value:"Insert and Update Return <code>Model</code>",id:"insert-and-update-return-model",level:2},{value:"<code>ActiveValue</code> Revamped",id:"activevalue-revamped",level:2},{value:"SeaORM CLI &amp; Codegen Updates",id:"seaorm-cli--codegen-updates",level:2},{value:"Tracing",id:"tracing",level:2},{value:"Sponsor",id:"sponsor",level:2},{value:"Community",id:"community",level:2}];function d(e){const a={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["\ud83c\udf89 We are pleased to release SeaORM ",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/releases/tag/0.5.0",children:(0,n.jsx)(a.code,{children:"0.5.0"})})," today! Here are some feature highlights \ud83c\udf1f:"]}),"\n",(0,n.jsxs)(a.h2,{id:"insert-and-update-return-model",children:["Insert and Update Return ",(0,n.jsx)(a.code,{children:"Model"})]}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/339",children:"#339"}),"] As asked and requested by many of our community members. You can now get the refreshed ",(0,n.jsx)(a.code,{children:"Model"})," after insert or update operations. If you want to mutate the model and save it back to the database you can convert it into ",(0,n.jsx)(a.code,{children:"ActiveModel"})," with the method ",(0,n.jsx)(a.code,{children:"into_active_model"}),"."]}),"\n",(0,n.jsx)(a.p,{children:"Breaking Changes:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.code,{children:"ActiveModel::insert"})," and ",(0,n.jsx)(a.code,{children:"ActiveModel::update"})," return ",(0,n.jsx)(a.code,{children:"Model"})," instead of ",(0,n.jsx)(a.code,{children:"ActiveModel"})]}),"\n",(0,n.jsxs)(a.li,{children:["Method ",(0,n.jsx)(a.code,{children:"ActiveModelBehavior::after_save"})," takes ",(0,n.jsx)(a.code,{children:"Model"})," as input instead of ",(0,n.jsx)(a.code,{children:"ActiveModel"})]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-rust",children:'// Construct a `ActiveModel`\nlet active_model = ActiveModel {\n    name: Set("Classic Vanilla Cake".to_owned()),\n    ..Default::default()\n};\n// Do insert\nlet cake: Model = active_model.insert(db).await?;\nassert_eq!(\n    cake,\n    Model {\n        id: 1,\n        name: "Classic Vanilla Cake".to_owned(),\n    }\n);\n\n// Covert `Model` into `ActiveModel`\nlet mut active_model = cake.into_active_model();\n// Change the name of cake\nactive_model.name = Set("Chocolate Cake".to_owned());\n// Do update\nlet cake: Model = active_model.update(db).await?;\nassert_eq!(\n    cake,\n    Model {\n        id: 1,\n        name: "Chocolate Cake".to_owned(),\n    }\n);\n\n// Do delete\ncake.delete(db).await?;\n'})}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Proposed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/nicoulaj",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/3162?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Julien Nicoulaud"})})})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/edg-l",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/15859336?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Edgar"})})})]})]}),(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Contributed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/billy1624",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/30400950?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Billy Chan"})})})]})]})]}),"\n",(0,n.jsxs)(a.h2,{id:"activevalue-revamped",children:[(0,n.jsx)(a.code,{children:"ActiveValue"})," Revamped"]}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/340",children:"#340"}),"] The ",(0,n.jsx)(a.code,{children:"ActiveValue"})," is now defined as an enum instead of a struct. The public API of it remains unchanged, except ",(0,n.jsx)(a.code,{children:"Unset"})," was deprecated and ",(0,n.jsx)(a.code,{children:"ActiveValue::NotSet"})," should be used instead."]}),"\n",(0,n.jsx)(a.p,{children:"Breaking Changes:"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["Rename method ",(0,n.jsx)(a.code,{children:"sea_orm::unchanged_active_value_not_intended_for_public_use"})," to ",(0,n.jsx)(a.code,{children:"sea_orm::Unchanged"})]}),"\n",(0,n.jsxs)(a.li,{children:["Rename method ",(0,n.jsx)(a.code,{children:"ActiveValue::unset"})," to ",(0,n.jsx)(a.code,{children:"ActiveValue::not_set"})]}),"\n",(0,n.jsxs)(a.li,{children:["Rename method ",(0,n.jsx)(a.code,{children:"ActiveValue::is_unset"})," to ",(0,n.jsx)(a.code,{children:"ActiveValue::is_not_set"})]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.code,{children:"PartialEq"})," of ",(0,n.jsx)(a.code,{children:"ActiveValue"})," will also check the equality of state instead of just checking the equality of value"]}),"\n"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-rust",children:"/// Defines a stateful value used in ActiveModel.\npub enum ActiveValue<V>\nwhere\n    V: Into<Value>,\n{\n    /// A defined [Value] actively being set\n    Set(V),\n    /// A defined [Value] remain unchanged\n    Unchanged(V),\n    /// An undefined [Value]\n    NotSet,\n}\n"})}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Designed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/tyt2y3",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1782664?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Chris Tsang"})})})]})]}),(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Contributed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/billy1624",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/30400950?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Billy Chan"})})})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"seaorm-cli--codegen-updates",children:"SeaORM CLI & Codegen Updates"}),"\n",(0,n.jsxs)(a.p,{children:["Install latest version of ",(0,n.jsx)(a.code,{children:"sea-orm-cli"}),":"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-shell",children:"cargo install sea-orm-cli\n"})}),"\n",(0,n.jsxs)(a.p,{children:["Updates related to entity files generation (",(0,n.jsx)(a.code,{children:"cargo generate entity"}),"):"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/348",children:"#348"}),"] Discovers and defines PostgreSQL enums"]}),"\n",(0,n.jsxs)(a.li,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/386",children:"#386"}),"] Supports SQLite database, you can generate entity files from all supported databases including MySQL, PostgreSQL and SQLite"]}),"\n"]}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Proposed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/exzachlyvv",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/46034847?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Zachary Vander Velden"})})})]})]}),(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Contributed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/charleschege",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/33346042?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Charles\xb7Chege"})})})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/billy1624",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/30400950?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Billy Chan"})})})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"tracing",children:"Tracing"}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/373",children:"#373"}),"] You can trace the query executed by SeaORM with ",(0,n.jsx)(a.code,{children:"debug-print"})," feature enabled and ",(0,n.jsx)(a.a,{href:"https://crates.io/crates/tracing-subscriber",children:(0,n.jsx)(a.code,{children:"tracing-subscriber"})})," up and running."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-rust",children:"pub async fn main() {\n    tracing_subscriber::fmt()\n        .with_max_level(tracing::Level::DEBUG)\n        .with_test_writer()\n        .init();\n\n    // ...\n}\n"})}),"\n",(0,n.jsx)(a.p,{children:"Contributed by:"}),"\n",(0,n.jsx)("div",{class:"row",children:(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/nappa85",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/7566389?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Marco Napetti"})})})]})})}),"\n",(0,n.jsx)(a.h2,{id:"sponsor",children:"Sponsor"}),"\n",(0,n.jsxs)(a.p,{children:["Our ",(0,n.jsx)(a.a,{href:"https://github.com/sponsors/SeaQL",children:"GitHub Sponsor"})," profile is up! If you feel generous, a small donation will be greatly appreciated."]}),"\n",(0,n.jsx)(a.p,{children:"A big shout out to our sponsors \ud83d\ude07:"}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/sakti",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/196178?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Sakti Dwi Cahyono"})})})]})}),(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/shanesveller",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/831?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Shane Sveller"})})})]})}),(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/exzachlyvv",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/46034847?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Zachary Vander Velden"})})})]})}),(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/praveenperera",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1775346?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Praveen Perera"})})})]})}),(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",children:(0,n.jsx)("img",{style:{width:"100%"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Unnamed Sponsor"})})})]})})]}),"\n",(0,n.jsx)(a.h2,{id:"community",children:"Community"}),"\n",(0,n.jsx)(a.p,{children:"SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust's future."}),"\n",(0,n.jsxs)(a.p,{children:["Here is the roadmap for SeaORM ",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/milestone/6",children:(0,n.jsx)(a.code,{children:"0.6.x"})}),"."]})]})}function h(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>l});var t=s(6540);const n={},r=t.createContext(n);function i(e){const a=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(r.Provider,{value:a},e.children)}}}]);