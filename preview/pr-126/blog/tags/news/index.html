<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">43 posts tagged with &quot;news&quot; | SeaQL</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.sea-ql.org/preview/pr-126/blog/img/SeaQL logo.png"><meta data-rh="true" name="twitter:image" content="https://www.sea-ql.org/preview/pr-126/blog/img/SeaQL logo.png"><meta data-rh="true" property="og:url" content="https://www.sea-ql.org/preview/pr-126/blog/tags/news/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="rust, orm, SeaORM, SeaQuery, SeaSchema, Seaography, StarfishQL, database, sql, mysql, sqlite, postgresql, rocket, tokio, sqlx, actix, async-std"><meta data-rh="true" property="og:title" content="43 posts tagged with &quot;news&quot; | SeaQL"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/preview/pr-126/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.sea-ql.org/preview/pr-126/blog/tags/news/"><link data-rh="true" rel="alternate" href="https://www.sea-ql.org/preview/pr-126/blog/tags/news/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.sea-ql.org/preview/pr-126/blog/tags/news/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SLLZ32J41K-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/preview/pr-126/blog/rss.xml" title="SeaQL RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/preview/pr-126/blog/atom.xml" title="SeaQL Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="SeaQL" href="/preview/pr-126/blog/opensearch.xml">

<script src="/sea-ql.js"></script><link rel="stylesheet" href="/preview/pr-126/blog/assets/css/styles.a030ab01.css">
<link rel="preload" href="/preview/pr-126/blog/assets/js/runtime~main.cb4149fe.js" as="script">
<link rel="preload" href="/preview/pr-126/blog/assets/js/main.0d57e8cc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(e){}return e}()||function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,e("light"))}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_PCgB" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.sea-ql.org" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/preview/pr-126/blog/img/SeaQL.png" alt="SeaQL Logo" class="themedImage_UDB6 themedImage--light_OOpg"><img src="/preview/pr-126/blog/img/SeaQL.png" alt="SeaQL Logo" class="themedImage_UDB6 themedImage--dark_x9sk"></div><b class="navbar__title text--truncate">SeaQL</b></a><a href="https://www.sea-ql.org/blog/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="navbar__items navbar__items--right"><div class="toggle_A1c4 colorModeToggle_FW7F"><button class="clean-btn toggleButton_mRKA toggleButtonDisabled_vdTW" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_HZzd"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_VFql"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_uzTm"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_wzUr"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_bVtN thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_UE_A margin-bottom--md">All Posts</div><ul class="sidebarItemList_e48N clean-list"><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-07-25-whats-new-in-seaorm-1.0/">What&#x27;s new in SeaORM 1.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-07-01-graphql-support-with-loco-seaography/">Adding GraphQL Support to Loco with Seaography</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-05-28-getting-started-with-loco-seaorm/">Getting Started with Loco &amp; SeaORM</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-05-20-async-rainbow-bridge/">The rainbow bridge between sync and async Rust</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-05-05-redis-kafka-data-sink/">Building a Redis / Kafka Data Sink</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x/">What&#x27;s new in SeaORM 1.0-rc.x</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-01-23-whats-new-in-seaorm-0.12.x/">What&#x27;s new in SeaORM 0.12.x</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2024-01-18-community-survey-2023/">SeaQL Community Survey 2023 Results</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-11-25-openuk-award/">OpenUK Award 2023 üèÜ</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-11-22-async-runtime-generic/">Writing Async Runtime Generic Library</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-09-06-whats-new-in-sea-streamer-0.3/">What&#x27;s new in SeaStreamer 0.3</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-08-12-announcing-seaorm-0.12/">Announcing SeaORM 0.12 üêö</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-04-03-intro-sea-streamer/">Introducing SeaStreamer üåä</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-02-08-whats-new-in-seaorm-0.11.0/">What&#x27;s new in SeaORM 0.11.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-02-05-faq-02/">SeaORM FAQ.02</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-01-28-internship-at-seaql/">Internship @ SeaQL</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2023-01-01-call-for-contributors-n-reviewers/">Call for Contributors and Reviewers üì¢</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-12-30-whats-new-in-seaquery-0.28.0/">What&#x27;s new in SeaQuery 0.28.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-12-02-whats-new-in-seaography-0.3.0/">What&#x27;s new in Seaography 0.3.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-11-10-whats-new-in-0.10.x/">What&#x27;s new in SeaORM 0.10.x</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io/">Toggle Stacked Download Graph in crates.io</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-10-31-whats-new-in-seaquery-0.27.0/">What&#x27;s new in SeaQuery 0.27.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-09-27-getting-started-with-seaography/">Getting Started with Seaography</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-09-17-introducing-seaography/">Introducing Seaography üß≠</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-08-12-3k-github-stars/">Celebrating 3,000+ GitHub Stars üéâ</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-08-05-whats-new-in-seaquery-0.26.0/">What&#x27;s new in SeaQuery 0.26.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-07-30-engineering/">Engineering at SeaQL.org</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-07-17-whats-new-in-0.9.0/">What&#x27;s new in SeaORM 0.9.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-06-02-summer-of-code-2022-intro/">Welcome Summer of Code 2022 Contributors</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-05-15-whats-new-in-0.8.0/">What&#x27;s new in SeaORM 0.8.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-05-14-faq-01/">SeaORM FAQ.01</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-04-04-introducing-starfish-ql/">Introducing StarfishQL</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-03-26-whats-new-in-0.7.0/">What&#x27;s new in SeaORM 0.7.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/gsoc-2022/">Google Summer of Code 2022</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-02-07-whats-new-in-0.6.0/">What&#x27;s new in SeaORM 0.6.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2022-01-01-whats-new-in-0.5.0/">What&#x27;s new in SeaORM 0.5.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-11-19-whats-new-in-0.4.0/">What&#x27;s new in SeaORM 0.4.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-10-15-whats-new-in-0.3.0/">What&#x27;s new in SeaORM 0.3.0</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-10-01-whats-new-in-0.2.4/">What&#x27;s new in SeaORM 0.2.4</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-09-20-introducing-sea-orm/">Introducing SeaORM üêö</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-08-30-release-model/">Release Model</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-08-07-hello-world/">Hello World</a></li><li class="sidebarItem_hui4"><a class="sidebarItemLink_I85r" href="/preview/pr-126/blog/2021-07-01-welcome/">Welcome to SeaQL</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>43 posts tagged with &quot;news&quot;</h1><a href="/preview/pr-126/blog/tags/">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 1.0!"><link itemprop="image" href="https://www.sea-ql.org/blog/img/SeaORM%201.0%20Banner.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-07-25-whats-new-in-seaorm-1.0/">What&#x27;s new in SeaORM 1.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-07-25T00:00:00.000Z" itemprop="datePublished">July 25, 2024</time> ¬∑ <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/blog/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" alt="SeaORM 1.0 Banner" src="/blog/img/SeaORM%201.0%20Banner.png" class="img_WBRq"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/1.0" target="_blank" rel="noopener noreferrer"><code>1.0</code></a>!</p><p>This blog post summarizes the new features and enhancements introduced in SeaORM <code>1.0</code>:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="refreshed-migration-schema-definition">Refreshed migration schema definition<a href="#refreshed-migration-schema-definition" class="hash-link" aria-label="Direct link to Refreshed migration schema definition" title="Direct link to Refreshed migration schema definition">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2099" target="_blank" rel="noopener noreferrer">#2099</a> We are aware that SeaORM&#x27;s migration scripts can sometimes look verbose. Thanks to the clever design made by Loco, we&#x27;ve refreshed the schema definition syntax.</p><p>An old migration script looks like this:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">if_not_exists</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">auto_increment</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">primary_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unique_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, using the new schema helpers, you can define the schema with a simplified syntax!</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Remember to import `sea_orm_migration::schema::*`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm_migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">schema</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveMigrationName)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">if_not_exists</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">pk_auto</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Primary key with auto-increment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// UUID column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string_uniq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// String column with unique and not null constraint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Password</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// String column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ApiKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unique_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ResetToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Nullable string column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ResetSentAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Nullable timestamp column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">EmailVerificationToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">EmailVerificationSentAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">EmailVerifiedAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are three variants for each commonly used column type:</p><ul><li><code>&lt;COLUMN_TYPE&gt;()</code> helper function, e.g. <code>string()</code>, define a non-null string column</li><li><code>&lt;COLUMN_TYPE&gt;_null()</code> helper function, e.g. <code>string_null()</code>, define a nullable string column</li><li><code>&lt;COLUMN_TYPE&gt;_uniq()</code> helper function, e.g. <code>string_uniq()</code>, define a non-null and unique string column</li></ul><p>The new schema helpers can be used by importing <code>sea_orm_migration::schema::*</code>. The migration library is fully backward compatible, so there is no rush to migrate old scripts. The new syntax is recommended for new scripts, and all examples in the SeaORM repository have been updated for demonstration. For advanced use cases, the old SeaQuery syntax can still be used.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="reworked-sqlite-type-mappings">Reworked SQLite Type Mappings<a href="#reworked-sqlite-type-mappings" class="hash-link" aria-label="Direct link to Reworked SQLite Type Mappings" title="Direct link to Reworked SQLite Type Mappings">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2077" target="_blank" rel="noopener noreferrer">sea-orm#2077</a> <a href="https://github.com/SeaQL/sea-query/pull/735" target="_blank" rel="noopener noreferrer">sea-query#735</a> <a href="https://github.com/SeaQL/sea-schema/pull/117" target="_blank" rel="noopener noreferrer">sea-schema#117</a> We&#x27;ve reworked the type mappings for SQLite across the SeaQL ecosystem, such that SeaQuery and SeaSchema are now reciprocal to each other. Migrations written with SeaQuery can be rediscovered by <code>sea-orm-cli</code> and generate compatible entities! In other words, the roundtrip is complete.</p><p>Data types will be mapped to SQLite types with a custom naming scheme following SQLite&#x27;s affinity rule:</p><ul><li><code>INTEGER</code>: <code>integer</code>, <code>tiny_integer</code>, <code>small_integer</code>, <code>big_integer</code> and <code>boolean</code> are stored as <code>integer</code></li><li><code>REAL</code>: <code>float</code>, <code>double</code>, <code>decimal</code> and <code>money</code> are stored as <code>real</code></li><li><code>BLOB</code>: <code>blob</code> and <code>varbinary_blob</code> are stored as <code>blob</code></li><li><code>TEXT</code>: all other data types are stored as <code>text</code>, including <code>string</code>, <code>char</code>, <code>text</code>, <code>json</code>, <code>uuid</code>, <code>date</code>, <code>time</code>, <code>datetime</code>, <code>timestamp</code>, etc.</li></ul><p>To illustrate,</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;strange&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">auto_increment</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">primary_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">tiny_integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int3&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">small_integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int4&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">big_integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;string1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;string2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">string_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;char1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;char2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">char_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;json_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;uuid_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;decimal1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;decimal2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">decimal_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;money1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">money</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;money2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">money_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;float_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">float</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;double_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">double</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;date_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;time_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;datetime_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">date_time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;boolean_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">boolean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;binary2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;binary3&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">var_binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;CREATE TABLE &quot;strange&quot; (&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int1&quot; integer,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int2&quot; tinyint,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int3&quot; smallint,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int4&quot; bigint,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;string1&quot; varchar,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;string2&quot; varchar(24),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;char1&quot; char,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;char2&quot; char(24),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;text_col&quot; text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;json_col&quot; json_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;uuid_col&quot; uuid_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;decimal1&quot; real,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;decimal2&quot; real(12, 4),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;money1&quot; real_money,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;money2&quot; real_money(12, 4),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;float_col&quot; float,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;double_col&quot; double,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;date_col&quot; date_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;time_col&quot; time_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;datetime_col&quot; datetime_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;boolean_col&quot; boolean,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;binary2&quot; blob(1024),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;binary3&quot; varbinary_blob(1024)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The full type mapping table is <a href="https://docs.rs/sea-query/0.31.0-rc.4/sea_query/table/enum.ColumnType.html" target="_blank" rel="noopener noreferrer">documented here</a>:</p><table><thead><tr><th>ColumnType</th><th>MySQL data type</th><th>PostgreSQL data type</th><th>SQLite data type</th></tr></thead><tbody><tr><td>Char</td><td>char</td><td>char</td><td>char</td></tr><tr><td>String</td><td>varchar</td><td>varchar</td><td>varchar</td></tr><tr><td>Text</td><td>text</td><td>text</td><td>text</td></tr><tr><td>TinyInteger</td><td>tinyint</td><td>smallint</td><td>tinyint</td></tr><tr><td>SmallInteger</td><td>smallint</td><td>smallint</td><td>smallint</td></tr><tr><td>Integer</td><td>int</td><td>integer</td><td>integer</td></tr><tr><td>BigInteger</td><td>bigint</td><td>bigint</td><td>integer</td></tr><tr><td>TinyUnsigned</td><td>tinyint unsigned</td><td>smallint</td><td>tinyint</td></tr><tr><td>SmallUnsigned</td><td>smallint unsigned</td><td>smallint</td><td>smallint</td></tr><tr><td>Unsigned</td><td>int unsigned</td><td>integer</td><td>integer</td></tr><tr><td>BigUnsigned</td><td>bigint unsigned</td><td>bigint</td><td>integer</td></tr><tr><td>Float</td><td>float</td><td>real</td><td>float</td></tr><tr><td>Double</td><td>double</td><td>double precision</td><td>double</td></tr><tr><td>Decimal</td><td>decimal</td><td>decimal</td><td>real</td></tr><tr><td>DateTime</td><td>datetime</td><td>timestamp without time zone</td><td>datetime_text</td></tr><tr><td>Timestamp</td><td>timestamp</td><td>timestamp</td><td>timestamp_text</td></tr><tr><td>TimestampWithTimeZone</td><td>timestamp</td><td>timestamp with time zone</td><td>timestamp_with_timezone_text</td></tr><tr><td>Time</td><td>time</td><td>time</td><td>time_text</td></tr><tr><td>Date</td><td>date</td><td>date</td><td>date_text</td></tr><tr><td>Year</td><td>year</td><td>N/A</td><td>N/A</td></tr><tr><td>Interval</td><td>N/A</td><td>interval</td><td>N/A</td></tr><tr><td>Binary</td><td>binary</td><td>bytea</td><td>blob</td></tr><tr><td>VarBinary</td><td>varbinary</td><td>bytea</td><td>varbinary_blob</td></tr><tr><td>Bit</td><td>bit</td><td>bit</td><td>N/A</td></tr><tr><td>VarBit</td><td>bit</td><td>varbit</td><td>N/A</td></tr><tr><td>Boolean</td><td>bool</td><td>bool</td><td>boolean</td></tr><tr><td>Money</td><td>decimal</td><td>money</td><td>real_money</td></tr><tr><td>Json</td><td>json</td><td>json</td><td>json_text</td></tr><tr><td>JsonBinary</td><td>json</td><td>jsonb</td><td>jsonb_text</td></tr><tr><td>Uuid</td><td>binary(16)</td><td>uuid</td><td>uuid_text</td></tr><tr><td>Enum</td><td>ENUM(...)</td><td>ENUM_NAME</td><td>enum_text</td></tr><tr><td>Array</td><td>N/A</td><td>DATA_TYPE[]</td><td>N/A</td></tr><tr><td>Cidr</td><td>N/A</td><td>cidr</td><td>N/A</td></tr><tr><td>Inet</td><td>N/A</td><td>inet</td><td>N/A</td></tr><tr><td>MacAddr</td><td>N/A</td><td>macaddr</td><td>N/A</td></tr><tr><td>LTree</td><td>N/A</td><td>ltree</td><td>N/A</td></tr></tbody></table><h3 class="anchor anchorWithStickyNavbar_w1X2" id="introduce-primarykeyarity-with-arity-constant">Introduce <code>PrimaryKeyArity</code> with <code>ARITY</code> Constant<a href="#introduce-primarykeyarity-with-arity-constant" class="hash-link" aria-label="Direct link to introduce-primarykeyarity-with-arity-constant" title="Direct link to introduce-primarykeyarity-with-arity-constant">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2185" target="_blank" rel="noopener noreferrer">#2185</a> Introduce <code>PrimaryKeyArity</code> with <code>ARITY</code> constant</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">get_arity_of</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">E</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EntityTrait</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">E</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">PrimaryKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">iter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// before; runtime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">E</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">PrimaryKey</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">PrimaryKeyTrait</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ValueType</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">PrimaryKeyArity</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token constant" style="color:rgb(129, 31, 63)">ARITY</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// now; compile-time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="associate-activemodel-to-entitytrait">Associate <code>ActiveModel</code> to <code>EntityTrait</code><a href="#associate-activemodel-to-entitytrait" class="hash-link" aria-label="Direct link to associate-activemodel-to-entitytrait" title="Direct link to associate-activemodel-to-entitytrait">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2186" target="_blank" rel="noopener noreferrer">#2186</a> Associate <code>ActiveModel</code> to <code>EntityTrait</code></p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">pub trait EntityTrait: EntityName {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type Model: ModelTrait&lt;Entity = Self&gt; + FromQueryResult;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   type ActiveModel: ActiveModelBehavior&lt;Entity = Self&gt;;</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type Column: ColumnTrait;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type Relation: RelationTrait;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type PrimaryKey: PrimaryKeyTrait + PrimaryKeyToColumn&lt;Column = Self::Column&gt;;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   // ...</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="auto-generated-activeenum-string-values-and-model-column-names">Auto Generated ActiveEnum String Values and Model Column Names<a href="#auto-generated-activeenum-string-values-and-model-column-names" class="hash-link" aria-label="Direct link to Auto Generated ActiveEnum String Values and Model Column Names" title="Direct link to Auto Generated ActiveEnum String Values and Model Column Names">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2170" target="_blank" rel="noopener noreferrer">#2170</a> Added <code>rename_all</code> attribute to <code>DeriveEntityModel</code> &amp; <code>DeriveActiveEnum</code></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;user&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, rename_all = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;camelCase&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    first_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// firstName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(column_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;lAsTnAmE&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    last_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// lAsTnAmE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(EnumIter, DeriveActiveEnum)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rs_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;String&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, db_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;String(StringLen::None)&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, rename_all = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;camelCase&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">TestEnum</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">DefaultVariant</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// defaultVariant</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rename = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;kebab-case&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">VariantKebabCase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// variant-kebab-case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rename = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;snake_case&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">VariantSnakeCase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// variant_snake_case</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;CuStOmStRiNgVaLuE&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">CustomStringValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// CuStOmStRiNgVaLuE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="enhancements">Enhancements<a href="#enhancements" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2137" target="_blank" rel="noopener noreferrer">#2137</a> <code>DerivePartialModel</code> macro attribute <code>entity</code> now supports <code>syn::Type</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DerivePartialModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(entity = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;&lt;entity::Model as ModelTrait&gt;::Entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">EntityNameNotAIdent</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(from_col = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;foo2&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _foo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(from_col = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;bar2&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _bar</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2146" target="_blank" rel="noopener noreferrer">#2146</a> Added <code>RelationDef::from_alias()</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LeftJoin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake_filling</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">rev</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            cf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LeftJoin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake_filling</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Filling</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SELECT `cake`.`id`, `cake`.`name` FROM `cake`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;LEFT JOIN `cake_filling` AS `cf` ON `cake`.`id` = `cf`.`cake_id`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;LEFT JOIN `filling` ON `cf`.`filling_id` = `filling`.`id`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>Added <code>QuerySelect::tbl_col_as</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2256" target="_blank" rel="noopener noreferrer">#2256</a>Added non-TLS runtime</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2244" target="_blank" rel="noopener noreferrer">#2244</a>Added <code>Insert::on_conflict_do_nothing</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2255" target="_blank" rel="noopener noreferrer">#2255</a>Migration schema nullable column set NULL explicitly</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2194" target="_blank" rel="noopener noreferrer">#2194</a>Added <code>ActiveValue::set_if_not_equals()</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2197" target="_blank" rel="noopener noreferrer">#2197</a>Added <code>ActiveValue::try_as_ref()</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2228" target="_blank" rel="noopener noreferrer">#2228</a>Added <code>QuerySelect::order_by_with_nulls</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2233" target="_blank" rel="noopener noreferrer">#2233</a>Expose <code>get_xxx_connection_pool</code> by default</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2148" target="_blank" rel="noopener noreferrer">#2148</a> Added <code>QueryResult::column_names</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2199" target="_blank" rel="noopener noreferrer">#2199</a> <!-- -->[sea-orm-macro]<!-- --> Add <code>@generated</code> in generated code</li><li><a href="https://github.com/SeaQL/sea-orm/pull/1665" target="_blank" rel="noopener noreferrer">#1665</a> <!-- -->[sea-orm-macro]<!-- --> Qualify traits in <code>DeriveActiveModel</code> macro</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2064" target="_blank" rel="noopener noreferrer">#2064</a> <!-- -->[sea-orm-cli]<!-- --> Fix <code>migrate generate</code> on empty <code>mod.rs</code> files</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2145" target="_blank" rel="noopener noreferrer">#2145</a> Renamed <code>ConnectOptions::pool_options()</code> to <code>ConnectOptions::sqlx_pool_options()</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2145" target="_blank" rel="noopener noreferrer">#2145</a> Made <code>sqlx_common</code> private, hiding <code>sqlx_error_to_xxx_err</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2077" target="_blank" rel="noopener noreferrer">#2077</a>, <a href="https://github.com/SeaQL/sea-orm/pull/2078" target="_blank" rel="noopener noreferrer">#2078</a> Rework SQLite type mappings</li><li>MySQL <code>money</code> type maps to <code>decimal</code></li><li>MySQL <code>blob</code> types moved to <code>extension::mysql::MySqlType</code>; <code>ColumnDef::blob()</code> now takes no parameters</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryLen</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Blob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Blob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TinyBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TinyBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MediumBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MediumBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LongBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LongBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;CREATE TABLE `binary_type` (&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`binlen` binary(32),&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`bin` binary(1),&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`b` blob,&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`tb` tinyblob,&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`mb` mediumblob,&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`lb` longblob&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;)&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>ColumnDef::binary()</code> sets column type as <code>binary</code> with default length of <code>1</code></li><li>Removed <code>BlobSize</code> enum</li><li>Added <code>StringLen</code> to represent length of <code>varchar</code> / <code>varbinary</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/// Length for var-char/binary; default to 255</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">StringLen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// String size</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">N</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">u32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[default]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">None</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>ValueType::columntype()</code> of <code>Vec&lt;u8&gt;</code> maps to <code>VarBinary(StringLen::None)</code></li><li><code>ValueType::columntype()</code> of <code>String</code> maps to <code>String(StringLen::None)</code></li><li><code>ColumnType::Bit</code> maps to <code>bit</code> for Postgres</li><li><code>ColumnType::Binary</code> and <code>ColumnType::VarBinary</code> map to <code>bytea</code> for Postgres</li><li><code>Value::Decimal</code> and <code>Value::BigDecimal</code> map to <code>real</code> for SQLite</li><li><code>ColumnType::Year(Option&lt;MySqlYear&gt;)</code> changed to <code>ColumnType::Year</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="bug-fixes">Bug Fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2241" target="_blank" rel="noopener noreferrer">#2241</a> Set schema search path in Postgres without enclosing single quote</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2254" target="_blank" rel="noopener noreferrer">#2254</a> <!-- -->[sea-orm-cli]<!-- --> Generate <code>has_one</code> relation for foreign key of unique index / constraint</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="upgrades">Upgrades<a href="#upgrades" class="hash-link" aria-label="Direct link to Upgrades" title="Direct link to Upgrades">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2267" target="_blank" rel="noopener noreferrer">#2267</a> Upgrade <code>time</code> to <code>0.3.36</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2088" target="_blank" rel="noopener noreferrer">#2088</a> Upgrade <code>strum</code> to <code>0.26</code></li><li>Upgrade <code>sea-schema</code> to <code>0.15.0</code></li><li>Upgrade <code>sea-query-binder</code> to <code>0.6.0</code></li><li>Upgrade <code>sea-query</code> to <code>0.31.0</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="house-keeping">House Keeping<a href="#house-keeping" class="hash-link" aria-label="Direct link to House Keeping" title="Direct link to House Keeping">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2177" target="_blank" rel="noopener noreferrer">#2177</a> Reduce warnings in integration tests</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2140" target="_blank" rel="noopener noreferrer">#2140</a> Improved Actix example to return 404 not found on unexpected inputs</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2154" target="_blank" rel="noopener noreferrer">#2154</a> Deprecated Actix v3 example</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2136" target="_blank" rel="noopener noreferrer">#2136</a> Re-enabled <code>rocket_okapi</code> example</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="release-planning">Release Planning<a href="#release-planning" class="hash-link" aria-label="Direct link to Release Planning" title="Direct link to Release Planning">‚Äã</a></h2><p>After the stablization, we hope that SeaORM can offer a stable API surface that developers can use in production for the years to come.</p><p>We&#x27;d not have more than 2 major releases in a year, and each major release will be maintained for at least 1 year. It&#x27;s still tentative, but that&#x27;s what we have in mind for now. Moreoever, it will actually allow us to ship new features more frequently!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sql-server-support">SQL Server Support<a href="#sql-server-support" class="hash-link" aria-label="Direct link to SQL Server Support" title="Direct link to SQL Server Support">‚Äã</a></h2><p>We&#x27;ve been planning <a href="https://www.sea-ql.org/SeaORM-X/" target="_blank" rel="noopener noreferrer">SQL Server for SeaORM</a> for a while, but it was put aside in 2023 (which I regretted). Anyway SQL Server support is coming soon! It will first be offered as a closed beta to our partners. If you are interested, please join our <a href="https://forms.office.com/r/1MuRPJmYBR" target="_blank" rel="noopener noreferrer">waiting list</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.</p><p>A big shout out to our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">sponsors</a> üòá:</p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="gold-sponsors">Gold Sponsors<a href="#gold-sponsors" class="hash-link" aria-label="Direct link to Gold Sponsors" title="Direct link to Gold Sponsors">‚Äã</a></h4><a href="https://osmos.io/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/static/sponsors/Osmos.svg#light" width="238" class="img_WBRq"><img loading="lazy" src="https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark" width="238" class="img_WBRq"></a><h4 class="anchor anchorWithStickyNavbar_w1X2" id="github-sponsors">GitHub Sponsors<a href="#github-sponsors" class="hash-link" aria-label="Direct link to GitHub Sponsors" title="Direct link to GitHub Sponsors">‚Äã</a></h4><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/tugascript" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/64930104?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Afonso Barracha</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/marcusbuffett" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1834328?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marcus Buffett</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/ktanaka101" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/10344925?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Kentaro Tanaka</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/siketyan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/12772118?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Naoki Ikeguchi</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/milesgranger" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/13764397?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Miles Granger</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/data-intuitive" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/15045722?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Data Intuitive</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/mmuellersoppart" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16762461?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marlon Mueller-Soppart</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/anshap1719" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/19164745?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Anshul Sanghi</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/yuly3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/25814001?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">MasakiMiyazaki</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/manfredcml" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/27536502?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Manfred Lee</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/kallydev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/36319157?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">KallyDev</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/ellik159" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46644287?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">ellik159</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/caido" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/78991750?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Caido</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Coolpany-SE" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/96304487?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Coolpany SE</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rustacean-sticker-pack-">Rustacean Sticker Pack ü¶Ä<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack ü¶Ä" title="Direct link to Rustacean Sticker Pack ü¶Ä">‚Äã</a></h2><p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p><p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p><p>Sticker Pack Contents:</p><ul><li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li><li>Mascot of SeaQL: Terres the Hermit Crab</li><li>Mascot of Rust: Ferris the Crab</li><li>The Rustacean word</li></ul><p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer"><img loading="lazy" style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg" class="img_WBRq"></a></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="In this tutorial, we would add a GraphQL endpoint with Seaography based on our Loco starter application. Read our first tutorial of the series, Getting Started with Loco &amp; SeaORM, if you haven&#x27;t."><link itemprop="image" href="https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-07-01-graphql-support-with-loco-seaography/">Adding GraphQL Support to Loco with Seaography</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-07-01T00:00:00.000Z" itemprop="datePublished">July 1, 2024</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/30400950?v=4" alt="Billy Chan" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Billy Chan</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" src="/blog/img/Loco%20x%20SeaORM.png" class="img_WBRq"><p>In this tutorial, we would add a GraphQL endpoint with <a href="https://github.com/SeaQL/seaography" target="_blank" rel="noopener noreferrer">Seaography</a> based on our Loco starter application. Read our first tutorial of the series, <a href="https://www.sea-ql.org/blog/2024-05-28-getting-started-with-loco-seaorm/" target="_blank" rel="noopener noreferrer">Getting Started with Loco &amp; SeaORM</a>, if you haven&#x27;t.</p><p>The full source code can be found <a href="https://github.com/SeaQL/sea-orm/tree/master/examples/loco_seaography" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="what-is-seaography">What is Seaography<a href="#what-is-seaography" class="hash-link" aria-label="Direct link to What is Seaography" title="Direct link to What is Seaography">‚Äã</a></h2><p>Seaography is a GraphQL framework for building GraphQL resolvers using SeaORM entities. It ships with a CLI tool that can generate ready-to-compile Rust GraphQL servers from existing MySQL, Postgres and SQLite databases.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="adding-dependency">Adding Dependency<a href="#adding-dependency" class="hash-link" aria-label="Direct link to Adding Dependency" title="Direct link to Adding Dependency">‚Äã</a></h2><p>Modify <code>Cargo.toml</code> and add a few more dependencies: <code>seaography</code>, <code>async-graphql</code>, <code>async-graphql-axum</code> and <code>lazy_static</code>.</p><div class="language-toml codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_seaography/Cargo.toml</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-toml codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token key property">seaography</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;1.0.0-rc.4&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">features</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;with-decimal&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;with-chrono&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">async-graphql</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;7.0&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">features</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;decimal&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;chrono&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;dataloader&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;dynamic-schema&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">async-graphql-axum</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;7.0&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">lazy_static</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;1.4&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">tower-service</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0.3&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="setting-up-seaorm-entities-for-seaography">Setting up SeaORM Entities for Seaography<a href="#setting-up-seaorm-entities-for-seaography" class="hash-link" aria-label="Direct link to Setting up SeaORM Entities for Seaography" title="Direct link to Setting up SeaORM Entities for Seaography">‚Äã</a></h2><p>Seaography Entities are basically SeaORM Entities with some additions. They are fully compatible with SeaORM.</p><p>You can generate Seaography Entities by using <code>sea-orm-cli</code> with the extra <code>--seaography</code> flag.</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">sea-orm-cli generate entity </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-o</span><span class="token plain"> src/models/_entities </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-u</span><span class="token plain"> postgres://loco:loco@localhost:5432/loco_seaography_development </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--seaography</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_seaography/src/models/_entities/notes.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">use sea_orm::entity::prelude::*;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">use serde::{Serialize, Deserialize};</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[sea_orm(table_name = &quot;notes&quot;)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub struct Model {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub created_at: DateTime,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub updated_at: DateTime,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   #[sea_orm(primary_key)]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub id: i32,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub title: Option&lt;String&gt;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub content: Option&lt;String&gt;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub enum Relation {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   #[sea_orm(has_many = &quot;super::files::Entity&quot;)]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Files,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">impl Related&lt;super::files::Entity&gt; for Entity {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   fn to() -&gt; RelationDef {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       Relation::Files.def()</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> // Defining `RelatedEntity` to relate one entity with another</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> #[derive(Copy, Clone, Debug, EnumIter, DeriveRelatedEntity)]</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> pub enum RelatedEntity {</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">     #[sea_orm(entity = &quot;super::files::Entity&quot;)]</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">     Files,</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> }</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We can see that a new enum <code>RelatedEntity</code> is generated in the Entity files. This helps Seaography to locate the related Entities for making relational queries.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="implementing-graphql-query-root">Implementing GraphQL Query Root<a href="#implementing-graphql-query-root" class="hash-link" aria-label="Direct link to Implementing GraphQL Query Root" title="Direct link to Implementing GraphQL Query Root">‚Äã</a></h2><p>We have finished setting up SeaORM entity for Seaography. Now, we implement the query root of Seaography where we bridge SeaORM and Async GraphQL with the help of Seaography.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_seaography/src/graphql/query_root.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">dynamic</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">DatabaseConnection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">seaography</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">Builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BuilderContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">crate</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">models</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">_entities</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">lazy_static</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">lazy_static!</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ref</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">CONTEXT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BuilderContext</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BuilderContext</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DatabaseConnection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    depth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    complexity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaError</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Builder of Seaography query root</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> builder </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token constant" style="color:rgb(129, 31, 63)">CONTEXT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Register SeaORM entities</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">seaography</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">register_entities!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// List all models we want to include in the GraphQL endpoint here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Configure async GraphQL limits</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> builder</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">schema_builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// The depth is the number of nesting levels of the field</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">limit_depth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">depth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// The complexity is the number of fields in the query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">limit_complexity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">complexity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Finish up with including SeaORM database connection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">finish</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="writing-loco-controller-to-handle-graphql-endpoint">Writing Loco Controller to Handle GraphQL Endpoint<a href="#writing-loco-controller-to-handle-graphql-endpoint" class="hash-link" aria-label="Direct link to Writing Loco Controller to Handle GraphQL Endpoint" title="Direct link to Writing Loco Controller to Handle GraphQL Endpoint">‚Äã</a></h2><p>For convenience we use the built-in GraphQL playground UI in <code>async-graphql</code> to test the GraphQL endpoint. And handle the GraphQL request with <code>async_graphql_axum</code> and Seaography.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_seaography/src/controllers/graphql.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">http</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">axum</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">body</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">extract</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Request</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">loco_rs</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">tower_service</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Service</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">crate</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">graphql</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">query_root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// GraphQL playground UI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// The `GraphQLPlaygroundConfig` take one parameter</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// which is the URL of the GraphQL handler: `/api/graphql`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/api/graphql&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">graphql_handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">AppContext</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Request</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Body</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">DEPTH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">const</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">COMPLEXITY</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Construct the the GraphQL query root</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">query_root</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">DEPTH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">COMPLEXITY</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// GraphQL handler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> graphql_handler </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">async_graphql_axum</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Execute GraphQL request and fetch the results</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> graphql_handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">call</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">req</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">routes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Routes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Define route</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Routes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// We put all GraphQL route behind `graphql` prefix</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">prefix</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;graphql&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// GraphQL playground page is a GET request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// GraphQL handler is a POST request</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">post</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">graphql_handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="opening-graphql-playground">Opening GraphQL Playground<a href="#opening-graphql-playground" class="hash-link" aria-label="Direct link to Opening GraphQL Playground" title="Direct link to Opening GraphQL Playground">‚Äã</a></h2><p>Compile and run the Loco application, then visit <a href="http://localhost:3000/api/graphql" target="_blank" rel="noopener noreferrer">http://localhost:3000/api/graphql</a>.</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> run start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    Finished </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable" style="color:rgb(9, 134, 88)">dev</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"> profile </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">unoptimized + debuginfo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain">.60s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     Running </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable" style="color:rgb(9, 134, 88)">target/debug/loco_seaography-cli start</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.173924Z  INFO app: loco_rs::config: loading environment from </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">selected_path</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;config/development.yaml&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.180447Z  WARN app: loco_rs::boot: pretty backtraces are enabled </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">this is great </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> development but has a runtime cost </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> production. disable with </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable" style="color:rgb(9, 134, 88)">logger.pretty_backtrace</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> your config yaml</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.272392Z  INFO app: loco_rs::db: auto migrating </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.275198Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.280720Z  INFO app: sea_orm_migration::migrator: No pending migrations </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.281280Z  INFO app: loco_rs::boot: initializers loaded </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">initializers</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.308827Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/_ping </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.308936Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/_health </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309021Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309088Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309158Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes/:id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309234Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">DELETE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes/:id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309286Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes/:id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309334Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/register </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309401Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/verify </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309471Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/login </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309572Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/forgot </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309662Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/reset </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309752Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/user/current </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309827Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/files/upload/:notes_id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309910Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/files/list/:notes_id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.309997Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/files/view/:files_id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.310088Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/graphql </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.310172Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/graphql </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.310469Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding limit payload </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">data</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;5mb&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.310615Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding log trace </span><span class="token function" style="color:rgb(0, 0, 255)">id</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.310934Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding cors </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-06-24T08:04:52.311008Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding etag layer </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                      ‚ñÑ     ‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                 ‚ñÄ  ‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  ‚ñÑ       ‚ñÄ     ‚ñÑ  ‚ñÑ ‚ñÑ‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                    ‚ñÑ ‚ñÄ‚ñÑ‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        ‚ñÑ     ‚ñÄ    ‚ñÄ  ‚ñÄ‚ñÑ‚ñÄ‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                          ‚ñÄ‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ  ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ   ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñÄ‚ñÄ‚ñà</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñÄ‚ñà</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñÄ‚ñÄ‚ñÄ ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñÑ‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñÑ‚ñÑ‚ñÑ ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   ‚ñÄ‚ñÄ‚ñÄ‚ñà‚ñà‚ñÑ ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ  ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ  ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ ‚ñà‚ñà‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                https://loco.rs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">environment: development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   database: automigrate</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     logger: debug</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">compilation: debug</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      modes: server</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">listening on </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">:3000</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="creating-notes">Creating Notes<a href="#creating-notes" class="hash-link" aria-label="Direct link to Creating Notes" title="Direct link to Creating Notes">‚Äã</a></h2><p>Create a new notes with the GraphQL mutator.</p><div class="language-graphql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-graphql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">mutation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property-query property-mutation">notesCreateOne</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attr-name" style="color:rgb(255, 0, 0)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token attr-name" style="color:rgb(255, 0, 0)">id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token attr-name" style="color:rgb(255, 0, 0)">title</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token description string" style="color:rgb(163, 21, 21)">&quot;</span><span class="token description string language-markdown" style="color:rgb(163, 21, 21)">Notes 001</span><span class="token description string" style="color:rgb(163, 21, 21)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token attr-name" style="color:rgb(255, 0, 0)">content</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token description string" style="color:rgb(163, 21, 21)">&quot;</span><span class="token description string language-markdown" style="color:rgb(163, 21, 21)">Content 001</span><span class="token description string" style="color:rgb(163, 21, 21)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token attr-name" style="color:rgb(255, 0, 0)">createdAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token description string" style="color:rgb(163, 21, 21)">&quot;</span><span class="token description string language-markdown" style="color:rgb(163, 21, 21)">2024-06-24 00:00:00</span><span class="token description string" style="color:rgb(163, 21, 21)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token attr-name" style="color:rgb(255, 0, 0)">updatedAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-06-24 00:00:00&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">title</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">content</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">createdAt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">updatedAt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20Seaography%20create.png" class="img_WBRq"></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="querying-notes">Querying Notes<a href="#querying-notes" class="hash-link" aria-label="Direct link to Querying Notes" title="Direct link to Querying Notes">‚Äã</a></h2><p>Query notes with its related files.</p><div class="language-graphql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-graphql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">query</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token object">notes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token object">nodes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">title</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">content</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token object">files</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token object">nodes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">filePath</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20Seaography%20query.png" class="img_WBRq"></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="adding-user-authentication-to-graphql-endpoint">Adding User Authentication to GraphQL Endpoint<a href="#adding-user-authentication-to-graphql-endpoint" class="hash-link" aria-label="Direct link to Adding User Authentication to GraphQL Endpoint" title="Direct link to Adding User Authentication to GraphQL Endpoint">‚Äã</a></h2><p>Our GraphQL handler can be accessed without user authentication. Next, we want to only allow logged in user to access the GraphQL handler.</p><p>To do so, we add <code>_auth: auth::JWT</code> to the <code>graphql_handler</code> function.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_seaography/src/controllers/graphql.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">async fn graphql_handler(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   _auth: auth::JWT,</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   State(ctx): State&lt;AppContext&gt;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   req: Request&lt;Body&gt;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">) -&gt; Result&lt;Response&gt; {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   const DEPTH: usize = 10;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   const COMPLEXITY: usize = 100;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   // Construct the the GraphQL query root</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   let schema = query_root::schema(ctx.db.clone(), DEPTH, COMPLEXITY).unwrap();</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   // GraphQL handler</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   let mut graphql_handler = async_graphql_axum::GraphQL::new(schema);</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   // Execute GraphQL request and fetch the results</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   let res = graphql_handler.call(req).await.unwrap();</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Ok(res)</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, run the Loco application and visit the GraphQL playground again. You should see unauthorize error.</p><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20Seaography%20unauthorize.png" class="img_WBRq"></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="adding-authentication-header-to-graphql-playground">Adding Authentication header to GraphQL Playground<a href="#adding-authentication-header-to-graphql-playground" class="hash-link" aria-label="Direct link to Adding Authentication header to GraphQL Playground" title="Direct link to Adding Authentication header to GraphQL Playground">‚Äã</a></h2><p>First, we generate a valid authorization token by logging in the user account with the corresponding email and password:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/auth/login&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--data-raw </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;{</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;email&quot;: &quot;cwchan.billy@gmail.com&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;password&quot;: &quot;password&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;token&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIwN2NjMDk5Ni03YWYxLTQ5YmYtYmY2NC01OTg4ZjFhODM2OTkiLCJleHAiOjE3MTk4MjIzMzN9.CgKp_aE-DyAuBJIvFGJ6l68ooAlEiJGhjWeaetDtHrupaYDm0ldVxf24vj3fPgkCqZ_njv2129n2pSCzHOjaow&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;pid&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;07cc0996-7af1-49bf-bf64-5988f1a83699&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Billy&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;is_verified&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Go to the setting page of GraphQL playground. And add a new header under <code>request. globalHeaders</code>:</p><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20Seaography%20authorization.png" class="img_WBRq"></p><p>Then, we can access GraphQL handler as usual.</p><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20Seaography%20query.png" class="img_WBRq"></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>Adding GraphQL support to Loco application is easy with the help of Seaography. It is an ergonomic library that turns SeaORM entities into GraphQL nodes and provides a set of utilities and combined with a code generator makes GraphQL API building a breeze.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sql-server-support">SQL Server Support<a href="#sql-server-support" class="hash-link" aria-label="Direct link to SQL Server Support" title="Direct link to SQL Server Support">‚Äã</a></h2><p><a href="https://www.sea-ql.org/SeaORM-X/" target="_blank" rel="noopener noreferrer">SQL Server for SeaORM</a> is now available as a closed beta. If you are interested`, please signup <a href="https://forms.office.com/r/1MuRPJmYBR" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Migrating from <code>sea-orm</code> to <code>sea-orm-x</code> is straightforward with two simple steps. First, update the existing <code>sea-orm</code> dependency to <code>sea-orm-x</code> and enable the <code>sqlz-mssql</code> feature. Note that you might need to patch SeaORM dependency for the upstream dependencies.</p><div class="language-toml codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">Cargo.toml</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-toml codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token key property">sea-orm</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">features</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;runtime-async-std-rustls&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;sqlz-mssql&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">sea-orm-migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x/sea-orm-migration&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Patch SeaORM dependency for the upstream dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token table class-name" style="color:rgb(38, 127, 153)">patch.crates-io</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">sea-orm</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">sea-orm-migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x/sea-orm-migration&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Second, update the connection string to connect to the MSSQL database.</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># If the schema is `dbo`, simply write:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mssql://username:password@host/database</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Or, specify the schema name by providing an extra `currentSchema` query param.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mssql://username:password@host/database?currentSchema</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">my_schema</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># You can trust peer certificate by providing an extra trustCertificate query param.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mssql://username:password@host/database?trustCertificate</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">true</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SeaORM X has full Loco support and integrate seamlessly with many web frameworks:</p><ul><li>Actix</li><li>Axum</li><li>Async GraphQL</li><li>jsonrpsee</li><li>Loco</li><li>Poem</li><li>Salvo</li><li>Tonic</li></ul><p>Happy Coding!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="In this tutorial, we would create a REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads in Loco."><link itemprop="image" href="https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-05-28-getting-started-with-loco-seaorm/">Getting Started with Loco &amp; SeaORM</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-05-28T00:00:00.000Z" itemprop="datePublished">May 28, 2024</time> ¬∑ <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/30400950?v=4" alt="Billy Chan" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Billy Chan</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" src="/blog/img/Loco%20x%20SeaORM.png" class="img_WBRq"><p>In this tutorial, we would create a REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads in Loco.</p><p>The full source code can be found <a href="https://github.com/SeaQL/sea-orm/tree/master/examples/loco_starter" target="_blank" rel="noopener noreferrer">here</a>. The documentation of the REST API is available <a href="https://documenter.getpostman.com/view/34752358/2sA3QmEF5q" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="what-is-loco">What is Loco?<a href="#what-is-loco" class="hash-link" aria-label="Direct link to What is Loco?" title="Direct link to What is Loco?">‚Äã</a></h2><p><a href="https://loco.rs/" target="_blank" rel="noopener noreferrer">Loco</a> is a Rails inspired web framework for Rust. It includes many Rails feature with Rust ergonomics. Loco integrates seamlessly with SeaORM, offering a first-class development experience!</p><ul><li>Controllers and routing via <a href="https://github.com/tokio-rs/axum" target="_blank" rel="noopener noreferrer">axum</a></li><li>Models, migration, and ActiveRecord via <a href="https://www.sea-ql.org/SeaORM/" target="_blank" rel="noopener noreferrer">SeaORM</a></li><li>Views via <a href="https://serde.rs/json.html" target="_blank" rel="noopener noreferrer">serde</a></li><li>Seamless, Background jobs via <a href="https://github.com/film42/sidekiq-rs" target="_blank" rel="noopener noreferrer">sidekiq-rs</a>, multi modal: in process, out of process, async via Tokio</li><li><a href="https://loco.rs/blog/hello-world/" target="_blank" rel="noopener noreferrer">...and more</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rest-api-starter-template">REST API Starter Template<a href="#rest-api-starter-template" class="hash-link" aria-label="Direct link to REST API Starter Template" title="Direct link to REST API Starter Template">‚Äã</a></h2><p>Install <code>loco-cli</code>:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> loco-cli</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>loco-cli</code> provides three starter templates:</p><ul><li>SaaS Starter</li><li>Rest API Starter</li><li>Lightweight Service Starter</li></ul><p>For this tutorial, we want the &quot;Rest API Starter&quot; template:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ loco new</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚úî  You are inside a </span><span class="token function" style="color:rgb(0, 0, 255)">git</span><span class="token plain"> repository. Do you wish to continue? ¬∑ Yes</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚úî  App name? ¬∑ loco_starter</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚úî  What would you like to build? ¬∑ Rest API </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">with DB and user auth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">üöÇ Loco app generated successfully in:</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">/sea-orm/examples/loco_starter</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, we need to setup our PostgreSQL database.</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-p</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5432</span><span class="token plain">:5432 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">POSTGRES_USER</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">loco </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">POSTGRES_DB</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">loco_starter_development </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">POSTGRES_PASSWORD</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;loco&quot;</span><span class="token plain"> postgres:15.3-alpine</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If you want to use MySQL or SQLite as the database. Please update the <code>database.uri</code> configuration in <code>loco_starter/config/development.yaml</code>. And enable the corresponding database backend feature flag of SeaORM in <code>loco_starter/Cargo.toml</code>.</p><p>Now, start our REST application:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> loco start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    Finished </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable" style="color:rgb(9, 134, 88)">dev</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"> profile </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">unoptimized + debuginfo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> target</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">s</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> 1m 42s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     Running </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable" style="color:rgb(9, 134, 88)">target/debug/loco_starter-cli start</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.724350Z  INFO app: loco_rs::config: loading environment from </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">selected_path</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;config/development.yaml&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.740338Z  WARN app: loco_rs::boot: pretty backtraces are enabled </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">this is great </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> development but has a runtime cost </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> production. disable with </span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token variable" style="color:rgb(9, 134, 88)">logger.pretty_backtrace</span><span class="token variable" style="color:rgb(9, 134, 88)">`</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> your config yaml</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.833747Z  INFO app: loco_rs::db: auto migrating </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.845983Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.850231Z  INFO app: sea_orm_migration::migrator: Applying migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20220101_000001_users&#x27;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.864095Z  INFO app: sea_orm_migration::migrator: Migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20220101_000001_users&#x27;</span><span class="token plain"> has been applied </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.865799Z  INFO app: sea_orm_migration::migrator: Applying migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20231103_114510_notes&#x27;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.873653Z  INFO app: sea_orm_migration::migrator: Migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20231103_114510_notes&#x27;</span><span class="token plain"> has been applied </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.875645Z  INFO app: loco_rs::boot: initializers loaded </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">initializers</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906072Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/_ping </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906176Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/_health </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906264Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906335Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906414Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes/:id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906501Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">DELETE</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes/:id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906558Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/notes/:id </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906609Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/register </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906680Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/verify </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906753Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/login </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906838Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/forgot </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.906931Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">POST</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/auth/reset </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.907012Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">GET</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> /api/user/current </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.907309Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding limit payload </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">data</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;5mb&quot;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.907440Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding log trace </span><span class="token function" style="color:rgb(0, 0, 255)">id</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.907714Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding cors </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T06:56:42.907788Z  INFO app: loco_rs::controller::app_routes: </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">Middleware</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> Adding etag layer </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                      ‚ñÑ     ‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                 ‚ñÄ  ‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                  ‚ñÑ       ‚ñÄ     ‚ñÑ  ‚ñÑ ‚ñÑ‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                    ‚ñÑ ‚ñÄ‚ñÑ‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        ‚ñÑ     ‚ñÄ    ‚ñÄ  ‚ñÄ‚ñÑ‚ñÄ‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                                          ‚ñÄ‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ  ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ   ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ‚ñÑ ‚ñÄ‚ñÄ‚ñà</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñÄ‚ñà</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñÄ‚ñÄ‚ñÄ ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñÑ‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà       ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñÑ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñÑ‚ñÑ‚ñÑ ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà  ‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñà   ‚ñà‚ñà‚ñà ‚ñà‚ñà‚ñà‚ñà‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   ‚ñÄ‚ñÄ‚ñÄ‚ñà‚ñà‚ñÑ ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ  ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ  ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ ‚ñà‚ñà‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ‚ñÄ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                https://loco.rs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">environment: development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">   database: automigrate</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     logger: debug</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">compilation: debug</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      modes: server</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">listening on </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain">:3000</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>From the log messages printed above, we saw:</p><ul><li>Database migrations have been applied</li><li>All available REST API</li></ul><p>To check if the application listen for requests:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/_ping&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ok&quot;</span><span class="token plain">:true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="user-management">User Management<a href="#user-management" class="hash-link" aria-label="Direct link to User Management" title="Direct link to User Management">‚Äã</a></h2><p>The starter template comes with a basic user management module.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="registration">Registration<a href="#registration" class="hash-link" aria-label="Direct link to Registration" title="Direct link to Registration">‚Äã</a></h3><p>It is a common practice to send a verification email to the provided email. However, that would requires a SMTP server and this is not the focus of this blog post. So, I will skip the email verification:</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/controllers/auth.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">#[debug_handler]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">async fn register(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   State(ctx): State&lt;AppContext&gt;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Json(params): Json&lt;RegisterParams&gt;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">) -&gt; Result&lt;Response&gt; {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   let res = users::Model::create_with_password(&amp;ctx.db, &amp;params).await;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   let user = match res {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       Ok(user) =&gt; user,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       Err(err) =&gt; {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           tracing::info!(</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">               message = err.to_string(),</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">               user_email = &amp;params.email,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">               &quot;could not register user&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           );</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           return format::json(());</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   };</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   // Skip email verification, all new registrations are considered verified</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   let _user = user</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">       .into_active_model()</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">       .verified(&amp;ctx.db)</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">       .await?;</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   // Skip sending verification email as we don&#x27;t have a mail server</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   /*</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   let user = user</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       .into_active_model()</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       .set_email_verification_sent(&amp;ctx.db)</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       .await?;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   AuthMailer::send_welcome(&amp;ctx, &amp;user).await?;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   */</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   format::json(())</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Compile and run the application, then register a new user account:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/auth/register&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--data-raw </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;{</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;name&quot;: &quot;Billy&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;email&quot;: &quot;cwchan.billy@gmail.com&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;password&quot;: &quot;password&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">null</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="login">Login<a href="#login" class="hash-link" aria-label="Direct link to Login" title="Direct link to Login">‚Äã</a></h3><p>You should see there is a new row of <code>user</code> in the database.</p><p>Next, we login the user account with the corresponding email and password:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/auth/login&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">--data-raw </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;{</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;email&quot;: &quot;cwchan.billy@gmail.com&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;password&quot;: &quot;password&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;token&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;pid&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;11d01af3-6fe2-44f3-89f0-c02cec39741d&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Billy&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;is_verified&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="authentication">Authentication<a href="#authentication" class="hash-link" aria-label="Direct link to Authentication" title="Direct link to Authentication">‚Äã</a></h3><p>The JWT token above will be used in user authentication. You must set the <code>Authorization</code> header to access any REST endpoint that requires user login.</p><p>For example, fetching the user info of the current user:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/user/current&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--header</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;pid&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;11d01af3-6fe2-44f3-89f0-c02cec39741d&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Billy&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;email&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cwchan.billy@gmail.com&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="handling-rest-requests">Handling REST Requests<a href="#handling-rest-requests" class="hash-link" aria-label="Direct link to Handling REST Requests" title="Direct link to Handling REST Requests">‚Äã</a></h2><p>The starter application comes with a notes controller for the <code>notes</code> table.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="create-notes">Create Notes<a href="#create-notes" class="hash-link" aria-label="Direct link to Create Notes" title="Direct link to Create Notes">‚Äã</a></h3><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/notes&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--header</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--data</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;{</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;title&quot;: &quot;Getting Started with Loco &amp; SeaORM&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    &quot;content&quot;: &quot;In this tutorial, we would create an REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads.&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;created_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:43:45.408449&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;updated_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:43:45.408449&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;title&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Getting Started with Loco &amp; SeaORM&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;content&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;In this tutorial, we would create an REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="list-notes">List Notes<a href="#list-notes" class="hash-link" aria-label="Direct link to List Notes" title="Direct link to List Notes">‚Äã</a></h3><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/notes&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--header</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;created_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:43:45.408449&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;updated_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:43:45.408449&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;title&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Getting Started with Loco &amp; SeaORM&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;content&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;In this tutorial, we would create an REST notepad backend starting from scratch and adding a new REST endpoint to handle file uploads.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;created_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:45:38.973130&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;updated_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:45:38.973130&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;title&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Introducing SeaORM X&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;content&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SeaORM X is built on top of SeaORM with support for SQL Server&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="get-notes">Get Notes<a href="#get-notes" class="hash-link" aria-label="Direct link to Get Notes" title="Direct link to Get Notes">‚Äã</a></h3><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--location</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;http://localhost:3000/api/notes/2&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--header</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJwaWQiOiIxMWQwMWFmMy02ZmUyLTQ0ZjMtODlmMC1jMDJjZWMzOTc0MWQiLCJleHAiOjE3MTY3OTU3NjR9.i1OElxy33rkorkxk6QpTG1Kg4_Q8O0jqBJ2i82nltkcQYZsLmSSnrxtdtlfdvV0ccJ3hQA3JoY9L13cjz2uSCw&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;created_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:45:38.973130&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;updated_at&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2024-05-20T08:45:38.973130&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;title&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Introducing SeaORM X&quot;</span><span class="token plain">,</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;content&quot;</span><span class="token builtin class-name" style="color:rgb(38, 127, 153)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SeaORM X is built on top of SeaORM with support for SQL Server&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="handling-file-uploads">Handling File Uploads<a href="#handling-file-uploads" class="hash-link" aria-label="Direct link to Handling File Uploads" title="Direct link to Handling File Uploads">‚Äã</a></h2><p>Next, we will add a file upload feature where user can upload files that is related to the notes.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="file-table-migration">File Table Migration<a href="#file-table-migration" class="hash-link" aria-label="Direct link to File Table Migration" title="Direct link to File Table Migration">‚Äã</a></h3><p>Create a migration file for the new <code>files</code> table. Each row of <code>files</code> reference a specific <code>notes</code> in the database.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/migration/src/m20240520_173001_files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm_migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">schema</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">m20231103_114510_notes</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveMigrationName)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token function" style="color:rgb(0, 0, 255)">table_auto</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">pk_auto</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotesId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">FilePath</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">foreign_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token class-name" style="color:rgb(38, 127, 153)">ForeignKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;FK_files_notes_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotesId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">down</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">drop_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">drop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveIden)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Files</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">NotesId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">FilePath</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, we need to enable the new migration.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/migration/src/lib.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">#![allow(elided_lifetimes_in_paths)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#![allow(clippy::wildcard_imports)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub use sea_orm_migration::prelude::*;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mod m20220101_000001_users;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mod m20231103_114510_notes;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> mod m20240520_173001_files;</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub struct Migrator;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[async_trait::async_trait]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">impl MigratorTrait for Migrator {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   fn migrations() -&gt; Vec&lt;Box&lt;dyn MigrationTrait&gt;&gt; {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       vec![</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           Box::new(m20220101_000001_users::Migration),</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           Box::new(m20231103_114510_notes::Migration),</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">           Box::new(m20240520_173001_files::Migration),</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       ]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Compile and start the application, it should run our new migration on startup.</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> loco start</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T09:39:59.607525Z  INFO app: loco_rs::db: auto migrating </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T09:39:59.611997Z  INFO app: sea_orm_migration::migrator: Applying all pending migrations </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T09:39:59.621699Z  INFO app: sea_orm_migration::migrator: Applying migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20240520_173001_files&#x27;</span><span class="token plain"> </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token number" style="color:rgb(9, 134, 88)">2024</span><span class="token plain">-05-20T09:39:59.643886Z  INFO app: sea_orm_migration::migrator: Migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20240520_173001_files&#x27;</span><span class="token plain"> has been applied </span><span class="token assign-left variable" style="color:rgb(9, 134, 88)">environment</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">development</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">.</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="file-model-definition">File Model Definition<a href="#file-model-definition" class="hash-link" aria-label="Direct link to File Model Definition" title="Direct link to File Model Definition">‚Äã</a></h3><p>Define <code>files</code> entity model.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/models/_entities/files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">serde</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">Deserialize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Serialize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq, Serialize, Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;files&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> created_at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> updated_at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> notes_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> file_path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        belongs_to = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;super::notes::Entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        from = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Column::NotesId&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        to = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;super::notes::Column::Id&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Related</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">notes</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">to</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RelationDef</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Implement the <code>ActiveModelBehavior</code> in the parent module.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/models/files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">_entities</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">files</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// extend activemodel below (keep comment for generators)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="file-controller">File Controller<a href="#file-controller" class="hash-link" aria-label="Direct link to File Controller" title="Direct link to File Controller">‚Äã</a></h3><p>Controller is where we handle the file uploading, listing and viewing.</p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="upload-file">Upload File<a href="#upload-file" class="hash-link" aria-label="Direct link to Upload File" title="Direct link to Upload File">‚Äã</a></h4><p>The following upload handler allows multiple files to be uploaded in a single POST request.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/controllers/files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[debug_handler]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">upload</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _auth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">auth</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token constant" style="color:rgb(129, 31, 63)">JWT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">notes_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Path</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">AppContext</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> multipart</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Multipart</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Collect all uploaded files</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> files </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Iterate all files in the POST body</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">field</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> multipart</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next_field</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">map_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">tracing</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">error!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">error </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could not readd multipart&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BadRequest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could not readd multipart&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Get the file name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> file_name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> field</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">file_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">file_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> file_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            _ </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">return</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BadRequest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;file name not found&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Get the file content as bytes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> content </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> field</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">bytes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">map_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">err</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">tracing</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">error!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">error </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain">err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could not readd bytes&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BadRequest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could not readd bytes&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Create a folder to store the uploaded file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> now </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">chrono</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">offset</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Local</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">now</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">format</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;%Y%m%d_%H%M%S&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> uuid </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">uuid</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new_v4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> folder </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{now}_{uuid}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> upload_folder </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">PathBuf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token constant" style="color:rgb(129, 31, 63)">UPLOAD_DIR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">folder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">fs</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create_dir_all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">upload_folder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Write the file into the newly created folder</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> path </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> upload_folder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">file_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> f </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">fs</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">OpenOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">open</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write_all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">content</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        f</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">flush</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Record the file upload in database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">files</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            notes_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">notes_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            file_path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">strip_prefix</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token constant" style="color:rgb(129, 31, 63)">UPLOAD_DIR</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">format</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Try uploading multiple files in a single POST request:</p><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM%20upload%20file.png" class="img_WBRq"></p><p>All uploaded files are saved into the <code>uploads</code> directory:</p><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM%20upload%20directory.png" class="img_WBRq"></p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="list-file">List File<a href="#list-file" class="hash-link" aria-label="Direct link to List File" title="Direct link to List File">‚Äã</a></h4><p>List all <code>files</code> that are related to a specific <code>notes_id</code>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/controllers/files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[debug_handler]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">list</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _auth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">auth</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token constant" style="color:rgb(129, 31, 63)">JWT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">notes_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Path</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">AppContext</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Fetch all files uploaded for a specific notes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> files </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">files</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">filter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">files</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotesId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">notes_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">order_by_asc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">files</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">format</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">files</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM%20list%20file.png" class="img_WBRq"></p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="view-file">View File<a href="#view-file" class="hash-link" aria-label="Direct link to View File" title="Direct link to View File">‚Äã</a></h4><p>View a specific <code>files</code>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/controllers/files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[debug_handler]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">view</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _auth</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">auth</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token constant" style="color:rgb(129, 31, 63)">JWT</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">files_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Path</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">State</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">AppContext</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Response</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Fetch the file info from database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">files</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find_by_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">files_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;File not found&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Stream the file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> file </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">fs</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">File</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">open</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{UPLOAD_DIR}/{}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">file_path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stream </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ReaderStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">file</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> body </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">format</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">render</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">response</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://www.sea-ql.org/blog/img/Loco%20x%20SeaORM%20view%20file.png" class="img_WBRq"></p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="file-controller-routes">File Controller Routes<a href="#file-controller-routes" class="hash-link" aria-label="Direct link to File Controller Routes" title="Direct link to File Controller Routes">‚Äã</a></h4><p>Add our newly defined files handler to the application routes.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/controllers/files.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">routes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Routes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Bind the routes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Routes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">prefix</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;files&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/upload/:notes_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">post</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">upload</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/list/:notes_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">list</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/view/:files_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">view</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/src/app.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">pub struct App;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[async_trait]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">impl Hooks for App {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   // ...</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   fn routes(_ctx: &amp;AppContext) -&gt; AppRoutes {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       AppRoutes::with_default_routes()</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           .prefix(&quot;/api&quot;)</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           .add_route(controllers::notes::routes())</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           .add_route(controllers::auth::routes())</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">           .add_route(controllers::user::routes())</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">           .add_route(controllers::files::routes())</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   // ...</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="extra-rust-dependencies">Extra Rust Dependencies<a href="#extra-rust-dependencies" class="hash-link" aria-label="Direct link to Extra Rust Dependencies" title="Direct link to Extra Rust Dependencies">‚Äã</a></h4><p>Remember to enable <code>multipart</code> in <code>axum</code> and add <code>tokio-util</code> dependency.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">loco_starter/Cargo.toml</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"> axum = &quot;0.7.1&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> axum = { version = &quot;0.7.1&quot;, features = [&quot;multipart&quot;] }</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> tokio-util = &quot;0.7.11&quot;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sql-server-support">SQL Server Support<a href="#sql-server-support" class="hash-link" aria-label="Direct link to SQL Server Support" title="Direct link to SQL Server Support">‚Äã</a></h2><p><a href="https://www.sea-ql.org/SeaORM-X/" target="_blank" rel="noopener noreferrer">SQL Server for SeaORM</a> is now available as a closed beta. If you are interested, please signup <a href="https://forms.office.com/r/1MuRPJmYBR" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Migrating from <code>sea-orm</code> to <code>sea-orm-x</code> is straightforward with two simple steps. First, update the existing <code>sea-orm</code> dependency to <code>sea-orm-x</code> and enable the <code>sqlz-mssql</code> feature. Note that you might need to patch SeaORM dependency for the upstream dependencies.</p><div class="language-toml codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">Cargo.toml</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-toml codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token key property">sea-orm</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">features</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;runtime-async-std-rustls&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;sqlz-mssql&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">sea-orm-migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x/sea-orm-migration&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Patch SeaORM dependency for the upstream dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token table class-name" style="color:rgb(38, 127, 153)">patch.crates-io</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">sea-orm</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token key property">sea-orm-migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">path</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;&lt;SEA_ORM_X_ROOT&gt;/sea-orm-x/sea-orm-migration&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Second, update the connection string to connect to the MSSQL database.</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># If the schema is `dbo`, simply write:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mssql://username:password@host/database</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Or, specify the schema name by providing an extra `currentSchema` query param.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mssql://username:password@host/database?currentSchema</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">my_schema</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># You can trust peer certificate by providing an extra trustCertificate query param.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">mssql://username:password@host/database?trustCertificate</span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain">true</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>SeaORM X has full Loco support and integrate seamlessly with many web frameworks:</p><ul><li>Actix</li><li>Axum</li><li>Async GraphQL</li><li>jsonrpsee</li><li>Loco</li><li>Poem</li><li>Salvo</li><li>Tonic</li></ul><p>Happy Coding!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="This story stems from the saying &quot;What Color is Your Function?&quot; as a criticism to the async implementation of common programming languages. Well, Rust also falls into the category of &quot;colored functions&quot;. So in this blog post, let&#x27;s see how we can design systems to effectively combine sync and async code."><link itemprop="image" href="https://www.sea-ql.org/blog/img/async-rainbow-bridge.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-05-20-async-rainbow-bridge/">The rainbow bridge between sync and async Rust</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-05-20T00:00:00.000Z" itemprop="datePublished">May 20, 2024</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" src="/blog/img/async-rainbow-bridge.png" class="img_WBRq"><p>This story stems from the saying &quot;What Color is Your Function?&quot; as a criticism to the async implementation of common programming languages. Well, Rust also falls into the category of &quot;colored functions&quot;. So in this blog post, let&#x27;s see how we can design systems to effectively combine sync and async code.</p><p>Rainbow bridge is a reference to the bridge in Thor that teleports you between different realms - a perfect analogy!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="background">Background<a href="#background" class="hash-link" aria-label="Direct link to Background" title="Direct link to Background">‚Äã</a></h2><p>Sync code can be blocking IO, or expensive computation. Async code is usually network IO where you&#x27;d wait for results.</p><p>In both cases, we want to maximize concurrency, such that the program can make full use of the CPU instead of sitting there idle. A common approach is message passing, where we package tasks and send them to different workers for execution.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sync---sync">Sync -&gt; Sync<a href="#sync---sync" class="hash-link" aria-label="Direct link to Sync -&gt; Sync" title="Direct link to Sync -&gt; Sync">‚Äã</a></h2><p>Let&#x27;s start with the classic example, pure sync code. There exists <a href="https://doc.rust-lang.org/std/sync/mpsc/index.html" target="_blank" rel="noopener noreferrer">std::sync::mpsc</a> in the standard library, so let&#x27;s take a look.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">sync</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mpsc</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">channel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// create an unbounded channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">channel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// never blocks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Hello&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> handle </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">thread</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">move</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// wait until there is a message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{message}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">handle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Bye&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Prints (<a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=4eecb3216b6b10477849f5648bb026f4" target="_blank" rel="noopener noreferrer">Playground</a>):</p><div class="language-log codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-log codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">Hello</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Bye</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, we&#x27;ll make a more elaborate example: a program that spawns a number of worker threads to perform some &#x27;expensive&#x27; computation. The main thread would dispatch the tasks to those threads and in turn collect the results via another channel.</p><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    tasks    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   result</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îÇ             ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï° worker thread 1 ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îÇ main thread ‚îÇ             ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§             ‚ï†‚ïê‚ïê‚ïê‚ïê‚ï° main thread ‚îÇ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îÇ             ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï° worker thread 2 ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              </span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>First, setup the channels.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">channel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> senders </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token constant" style="color:rgb(129, 31, 63)">THREADS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">channel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// tasks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    senders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">thread</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">move</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">worker</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The worker thread looks like:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">worker</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Receiver</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Task</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Sender</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Done</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, dispatch tasks.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> c </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token constant" style="color:rgb(129, 31, 63)">TASKS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> task </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">some_random_task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    senders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">c </span><span class="token operator" style="color:rgb(0, 0, 0)">%</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">THREADS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, we can collect results.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token constant" style="color:rgb(129, 31, 63)">TASKS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{result:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Full source code can be found <a href="https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/multi-thread-matrix" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="async---async">Async -&gt; Async<a href="#async---async" class="hash-link" aria-label="Direct link to Async -&gt; Async" title="Direct link to Async -&gt; Async">‚Äã</a></h2><p>Next, we&#x27;ll migrate to async land. Using <a href="https://docs.rs/tokio/latest/tokio/sync/mpsc/index.html" target="_blank" rel="noopener noreferrer">tokio::sync::mpsc</a>, it&#x27;s very similar to the above example, except every operation is <code>async</code> and thus imposes additional restrictions to lifetimes. (The trick is, just move / clone. Don&#x27;t borrow)</p><p><code>tokio</code>&#x27;s <code>unbounded_channel</code> is the equivalent to <code>std</code>&#x27;s <code>channel</code>. Otherwise it&#x27;s very similar. The <code>spawn</code> method takes in a <code>Future</code>; since the worker needs to take in the channels, we construct an async closure with <code>async move {}</code>.</p><table><thead><tr><th>std</th><th>tokio</th></tr></thead><tbody><tr><td>(unbounded) <a href="https://doc.rust-lang.org/std/sync/mpsc/fn.channel.html" target="_blank" rel="noopener noreferrer"><code>channel</code></a></td><td><a href="https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.unbounded_channel.html" target="_blank" rel="noopener noreferrer"><code>unbounded_channel</code></a></td></tr><tr><td><a href="https://doc.rust-lang.org/std/sync/mpsc/fn.sync_channel.html" target="_blank" rel="noopener noreferrer"><code>sync_channel</code></a></td><td>(bounded) <a href="https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.channel.html" target="_blank" rel="noopener noreferrer"><code>channel</code></a></td></tr></tbody></table><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">unbounded_channel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> senders </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token constant" style="color:rgb(129, 31, 63)">WORKERS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">unbounded_channel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    senders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">push</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">move</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">drop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// &lt;-- ?</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Why do we need to drop the <code>result</code> sender? This is one of the foot gun: <code>tokio</code> would swallow panics originated within the task, and so if that happened, the program would never exit. By dropping the last copy of <code>result</code> in scope, the channel would automatically close <em>after</em> all tasks exit, which in turn would triggle up to our <code>collector</code>.</p><p>The rest is almost the same.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> tasks</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">iter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">enumerate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    senders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">i </span><span class="token operator" style="color:rgb(0, 0, 0)">%</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">WORKERS</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">drop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">senders</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">tasks</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{result:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Full source code can be found <a href="https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/tokio-mpsc" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="flume-mpmc">Flume mpmc<a href="#flume-mpmc" class="hash-link" aria-label="Direct link to Flume mpmc" title="Direct link to Flume mpmc">‚Äã</a></h3><h4 class="anchor anchorWithStickyNavbar_w1X2" id="mpmc---multi-producer-multi-consumer">mpmc - multi producer, multi consumer<a href="#mpmc---multi-producer-multi-consumer" class="hash-link" aria-label="Direct link to mpmc - multi producer, multi consumer" title="Direct link to mpmc - multi producer, multi consumer">‚Äã</a></h4><p>The previous examples have a flaw: we have to spawn multiple <code>mpsc</code> channels to send tasks, which is:</p><ol><li>clumsy. we need to keep a list of <code>senders</code></li><li>not the most efficient. is round-robin the best way of distributing tasks? some of the workers may remain idle</li></ol><p>Here is the ideal setup:</p><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">                      tasks   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   result</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï° worker thread 1 ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îÇ main thread ‚ïû‚ïê‚ïê‚ïê‚ï£           ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§            ‚ï†‚ïê‚ïê‚ïê‚ï° main thread ‚îÇ </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï° worker thread 2 ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                              ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò              </span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s rewrite our example using <a href="https://docs.rs/flume/latest/flume/" target="_blank" rel="noopener noreferrer">Flume</a>. But first, know the mapping between <code>tokio</code> and <code>flume</code>:</p><table><thead><tr><th>Tokio</th><th>Flume</th></tr></thead><tbody><tr><td><a href="https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.unbounded_channel.html" target="_blank" rel="noopener noreferrer"><code>unbounded_channel</code></a></td><td><a href="https://docs.rs/flume/latest/flume/fn.unbounded.html" target="_blank" rel="noopener noreferrer"><code>unbounded</code></a> (channel)</td></tr><tr><td>(bounded) <a href="https://docs.rs/tokio/latest/tokio/sync/mpsc/fn.channel.html" target="_blank" rel="noopener noreferrer"><code>channel</code></a></td><td><a href="https://docs.rs/flume/latest/flume/fn.bounded.html" target="_blank" rel="noopener noreferrer">bounded</a> (channel)</td></tr><tr><td><code>send</code></td><td><code>send</code></td></tr><tr><td><code>recv</code></td><td><code>recv_async</code></td></tr></tbody></table><p>In <code>tokio</code>, the method is exclusive: <code>async fn recv(&amp;mut self)</code>; in <code>flume</code>, the method is <code>fn recv_async(&amp;self) -&gt; RecvFut</code>. The type signature already told you the distinction between <code>mpsc</code> vs <code>mpmc</code>! It is wrong to use the blocking <code>recv</code> method in async context in <code>flume</code>, but sadly the compiler would not warn you about it.</p><p>The channel setup is now slightly simpler:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">unbounded</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// task</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">unbounded</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// result</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token constant" style="color:rgb(129, 31, 63)">WORKERS</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> receiver </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">move</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            result</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We no longer have to dispatch tasks ourselves. All workers share the same task queue, and thus workers would fetch the next task as soon as the previous one is finished - effectively load balance among themselves!</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> task </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">tasks </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">task</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> _ </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">tasks</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> collector</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{result:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Full source code can be found <a href="https://github.com/SeaQL/FireDBG.Rust.Testbench/tree/main/flume-mpmc" target="_blank" rel="noopener noreferrer">here</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sync---async">Sync -&gt; Async<a href="#sync---async" class="hash-link" aria-label="Direct link to Sync -&gt; Async" title="Direct link to Sync -&gt; Async">‚Äã</a></h2><p>In the final example, let&#x27;s consider a program that is mostly sync, but has a few async operations that we want to handle in a background thread. </p><p>In the example below, our blocking operation is &#x27;reading from stdin&#x27; from the main thread. And we send those lines to an async thread to handle.</p><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îÇ main thread ‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï° async thread ‚îÇ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It follows the usual 3 steps:</p><ol><li>create a flume channel</li><li>pass the receiver end to a worker thread</li><li>send tasks over the channel</li></ol><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">unbounded</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// flume channel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">thread</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">move</span><span class="token plain"> </span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// this runtime is single-threaded</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> rt </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">runtime</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new_current_thread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">enable_all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        rt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">block_on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> line </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// this blocks the current thread until there is a new line</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">stdin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">read_line</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> line</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">break</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// this means stdin is closed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">panic!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{e:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is the handler:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Receiver</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> receiver</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">recv_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token function" style="color:rgb(0, 0, 255)">process</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It doesn&#x27;t look much different from the <code>async -&gt; async</code> example, the only difference is one side is sync! Full source code can be found <a href="https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-file/src/bin/stdin-to-file.rs" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="graceful-shutdown">Graceful shutdown<a href="#graceful-shutdown" class="hash-link" aria-label="Direct link to Graceful shutdown" title="Direct link to Graceful shutdown">‚Äã</a></h3><p>The above code has a problem: we never know whether a line has been processed. If the program has an exit mechanism from handling <code>sigint</code>, there is a possibility of exiting before all the lines has been processed.</p><p>Let&#x27;s see how we can shutdown properly.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> handle </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">thread</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// running is an AtomicBool</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> running</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">load</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ordering</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Acquire</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> line </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">read_line_from_stdin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">line</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">drop</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">handle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The shutdown sequence has 3 steps:</p><ol start="0"><li>we first obtain the <code>JoinHandle</code> to the thread</li><li>we drop all copies of <code>sender</code>, effectively closing the channel</li><li>in the worker thread, <code>receiver.recv_async()</code> would result in an error, as stated in the <a href="https://docs.rs/flume/latest/flume/struct.Receiver.html#method.recv_async" target="_blank" rel="noopener noreferrer">docs</a><blockquote><p>Asynchronously receive a value from the channel, returning an error if all senders have been dropped.</p></blockquote></li><li>the worker thread finishes, joining the main thread</li></ol><h2 class="anchor anchorWithStickyNavbar_w1X2" id="async---sync">Async -&gt; Sync<a href="#async---sync" class="hash-link" aria-label="Direct link to Async -&gt; Sync" title="Direct link to Async -&gt; Sync">‚Äã</a></h2><p>The other way around is equally simple, as illustrated in <a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/blocking.rs" target="_blank" rel="noopener noreferrer">SeaStreamer&#x27;s example</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><table><thead><tr><th></th><th>sync</th><th>async</th></tr></thead><tbody><tr><td>to spawn worker</td><td><a href="https://doc.rust-lang.org/std/thread/fn.spawn.html" target="_blank" rel="noopener noreferrer"><code>std::thread::spawn</code></a></td><td><a href="https://docs.rs/tokio/latest/tokio/task/fn.spawn.html" target="_blank" rel="noopener noreferrer"><code>tokio::task::spawn</code></a></td></tr><tr><td>concurrency</td><td>multi-threaded</td><td>can be multi-threaded or single-threaded</td></tr><tr><td>worker is</td><td><code>FnOnce</code></td><td><code>Future</code></td></tr><tr><td>send message with</td><td><code>send</code></td><td><code>send</code></td></tr><tr><td>receive message with</td><td><code>recv</code></td><td><code>recv_async</code></td></tr><tr><td>waiting for messages</td><td>blocking</td><td>yield to runtime</td></tr></tbody></table><p>In this article we discussed:</p><ol><li>Multi-threaded parallelism in sync realm</li><li>Concurrency in async realm - with <code>tokio</code> and <code>flume</code></li><li>Bridging sync and async code with <code>flume</code></li></ol><p>Now you already learnt the powers of <code>flume</code>, but there is more!</p><p>In the next episode, hopefully we will get to discuss other interesting features of <code>flume</code> - bounded channels and &#x27;rendezvous channels&#x27;. Follow our <a href="https://twitter.com/sea_ql" target="_blank" rel="noopener noreferrer">X / Twitter</a> for updates!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rustacean-sticker-pack-">Rustacean Sticker Pack ü¶Ä<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack ü¶Ä" title="Direct link to Rustacean Sticker Pack ü¶Ä">‚Äã</a></h2><p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p><p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p><p>Sticker Pack Contents:</p><ul><li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li><li>Mascot of SeaQL: Terres the Hermit Crab</li><li>Mascot of Rust: Ferris the Crab</li><li>The Rustacean word</li></ul><p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer"><img loading="lazy" style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg" class="img_WBRq"></a></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="This tutorial shows you how to use Rust to build a system that:"><link itemprop="image" href="https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-05-05-redis-kafka-data-sink/">Building a Redis / Kafka Data Sink</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-05-05T00:00:00.000Z" itemprop="datePublished">May 5, 2024</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" src="https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png" class="img_WBRq"><p>This tutorial shows you how to use Rust to build a system that:</p><ol><li>Subscribe to a real-time websocket data feed</li><li>Stream the data to Kafka / Redis</li><li>Save the data into a SQL database</li></ol><p>Here, we&#x27;ll employ a micro-services architecture, and split the functionality into two apps:</p><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îÇ Websocket Data Feed ‚îÇ ---&gt;   Redis / Kafka   ---&gt; ‚îÇ SQL Data Sink ‚îÇ</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In stream processing, we often use the terms &quot;source&quot; / &quot;sink&quot;, but a data sink is simply a stream consumer that persists the data into a store.</p><p>On the source side, we&#x27;d use <a href="https://github.com/SeaQL/sea-streamer" target="_blank" rel="noopener noreferrer">SeaStreamer</a>. On the sink side, we&#x27;d be using <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer">SeaORM</a>. Below are the supported technologies; for the rest of this article, we&#x27;ll be using <code>Redis</code> and <code>SQLite</code> because they&#x27;re easy to setup.</p><table><thead><tr><th>SeaStreamer</th><th>SeaORM</th></tr></thead><tbody><tr><td>Kafka, Redis</td><td>MySQL, Postgres, SQLite, SQL Server<sup id="fnref-1-870cc4"><a href="#fn-1-870cc4" class="footnote-ref">1</a></sup></td></tr></tbody></table><p>To get started, you can quickly start a Redis instance via Docker:</p><div class="language-sh codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sh codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-d</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--name</span><span class="token plain"> redis </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-p</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">6379</span><span class="token plain">:6379 redis</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="1-websocket-subscription">1. Websocket subscription<a href="#1-websocket-subscription" class="hash-link" aria-label="Direct link to 1. Websocket subscription" title="Direct link to 1. Websocket subscription">‚Äã</a></h2><p>Let&#x27;s write a websocket subscriber in Rust. Here we&#x27;d use the awesome <a href="https://crates.io/crates/async-tungstenite" target="_blank" rel="noopener noreferrer">async-tungstenite</a> library.</p><p>We&#x27;d subscribe to the <code>GBP/USD</code> price feed from Kraken, API documentation can be found <a href="https://docs.kraken.com/websockets/#message-spread" target="_blank" rel="noopener noreferrer">here</a>. NB: they&#x27;re not real FX data, but should be good enough for demo.</p><p>Step 1, create a websocket connection:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> ws</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">async_tungstenite</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect_async</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;wss://ws.kraken.com/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Step 2, send a subscription request:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">ws</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;{ &quot;event&quot;: &quot;subscribe&quot;, &quot;pair&quot;: [&quot;GBP/USD&quot;], &quot;subscription&quot;: { &quot;name&quot;: &quot;spread&quot; } }&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Step 3, stream the messages:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> ws</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> data </span><span class="token operator" style="color:rgb(0, 0, 0)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;{&quot;event&quot;:&quot;heartbeat&quot;}&quot;#</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token keyword" style="color:rgb(0, 0, 255)">continue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{data}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">bail!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Socket error: {e}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">None</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">bail!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Stream ended&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        e </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">bail!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Unexpected message {e:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="2-redis--kafka-stream-producer">2. Redis / Kafka Stream Producer<a href="#2-redis--kafka-stream-producer" class="hash-link" aria-label="Direct link to 2. Redis / Kafka Stream Producer" title="Direct link to 2. Redis / Kafka Stream Producer">‚Äã</a></h2><p>Step 1, create a <code>SeaStreamer</code> instance connecting to Redis / Kafka:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> streamer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaStreamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;redis://localhost&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaConnectOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are a bunch of different options for <a href="https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisConnectOptions.html" target="_blank" rel="noopener noreferrer">Redis</a> &amp; <a href="https://docs.rs/sea-streamer-kafka/0.5.0/sea_streamer_kafka/struct.KafkaConnectOptions.html" target="_blank" rel="noopener noreferrer">Kafka</a> respectively, you can refer to SeaStreamer&#x27;s <a href="https://www.sea-ql.org/SeaStreamer/" target="_blank" rel="noopener noreferrer">documentation</a>.</p><p>Step 2, create a producer:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> producer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaProducer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_producer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;GBP_USD&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Stream Key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Producer Options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There aren&#x27;t any specific options for Producer.</p><p>Step 3, decode the messages:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SpreadMessage</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">serde_json</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">serde_json</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here, we use the awesome <a href="https://crates.io/crates/serde" target="_blank" rel="noopener noreferrer"><code>serde</code></a> library to perform message parsing and conversion:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// The raw message looks like: [80478222,[&quot;1.25475&quot;,&quot;1.25489&quot;,&quot;1714946803.030088&quot;,&quot;949.74917071&quot;,&quot;223.36195920&quot;],&quot;spread&quot;,&quot;GBP/USD&quot;]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Serialize, Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">SpreadMessage</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[allow(dead_code)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[serde(skip_serializing)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    channel_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// placeholder; not needed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// nested object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    channel_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    pair</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Serialize, Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Spread</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    bid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ask</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[serde(with = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;timestamp_serde&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// custom serde</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    timestamp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Timestamp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    bid_vol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ask_vol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Step 4, send the messages:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> ws</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SpreadMessage</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">serde_json</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">serde_json</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            producer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// &lt;--</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that the <a href="https://docs.rs/sea-streamer/latest/sea_streamer/trait.Producer.html#method.send" target="_blank" rel="noopener noreferrer"><code>producer.send</code></a> call is not <code>async/await</code>, and this is a crucial detail! This removes the stream processing bottleneck. Behind the scene, messages will be buffered and handled on a different thread, so that your input stream can run as close to real-time as possible.</p><p>Here is the complete <a href="https://github.com/SeaQL/sea-streamer/tree/main/examples/price-feed" target="_blank" rel="noopener noreferrer"><code>price-feed</code></a> app which you can checkout from the SeaStreamer repository:</p><div class="language-log codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-log codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ cd examples/price-feed</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ cargo run</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Connecting ..</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Connected.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Subscribed.</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">{&quot;spread&quot;:{&quot;bid&quot;:&quot;1.25495&quot;,&quot;ask&quot;:&quot;1.25513&quot;,&quot;timestamp&quot;:&quot;2024-05-05T16:31:00.961214&quot;,&quot;bid_vol&quot;:&quot;61.50588918&quot;,&quot;ask_vol&quot;:&quot;787.90883861&quot;},&quot;channel_name&quot;:&quot;spread&quot;,&quot;pair&quot;:&quot;GBP/USD&quot;}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">..</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="3-sql-data-sink">3. SQL Data Sink<a href="#3-sql-data-sink" class="hash-link" aria-label="Direct link to 3. SQL Data Sink" title="Direct link to 3. SQL Data Sink">‚Äã</a></h2><p>Step 1, create a stream consumer:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> streamer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaStreamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">streamer_uri</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> consumer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">stream_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaConsumerOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are a bunch of different options for <a href="https://docs.rs/sea-streamer-redis/latest/sea_streamer_redis/struct.RedisConsumerOptions.html" target="_blank" rel="noopener noreferrer">Redis</a> &amp; <a href="https://docs.rs/sea-streamer-kafka/0.5.0/sea_streamer_kafka/struct.KafkaConsumerOptions.html" target="_blank" rel="noopener noreferrer">Kafka</a> respectively, you can refer to SeaStreamer&#x27;s <a href="https://github.com/SeaQL/sea-streamer/tree/main/examples/" target="_blank" rel="noopener noreferrer">examples</a>. Here we use the default, which is a real-time state-less stream consumer.</p><p>Step 2, create a database:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> opt </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;sqlite://my_db.sqlite?mode=rwc&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">max_connections</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sqlx_logging</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> db </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We set <code>max_connections</code> to <code>1</code>, because our data sink will not do concurrent inserts anyway.</p><p>Here is the <code>Entity</code>:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Clone, PartialEq, Eq, DeriveEntityModel, Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;event&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[serde(default)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> timestamp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> bid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> ask</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> bid_vol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> ask_vol</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The table shall be named <code>event</code> and we derive <code>Deserialize</code> on the Model.</p><p>We will use the following helper method to create the database table, where the schema is derived from the Entity:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">create_tables</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbConn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> builder </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get_database_backend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stmt </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table_from_entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">if_not_exists</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">log</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">info!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{stmt}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">execute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stmt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is especially handy for SQLite, where the app owns the database schema. For other databases, you&#x27;d probably use the <a href="https://www.sea-ql.org/SeaORM/docs/next/migration/setting-up-migration/" target="_blank" rel="noopener noreferrer">SeaORM migration system</a>.</p><p>Step 3, insert the data into database:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> message </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> payload </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> json </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> payload</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Item</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">serde_json</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> spread </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">id </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">NotSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// let the db assign primary key</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    spread</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">save</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In a few lines of code, we:</p><ol><li>receive the message from Redis</li><li>decode the message as JSON</li><li>convert the message into a SeaORM Model</li><li>insert the Model into database</li></ol><p>Run the <a href="https://github.com/SeaQL/sea-streamer/tree/main/examples/sea-orm-sink" target="_blank" rel="noopener noreferrer"><code>sea-orm-sink</code></a> app in another terminal:</p><div class="language-log codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-log codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ cd examples/sea-orm-sink</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ RUST_LOG=info cargo run</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[INFO  sea_streamer_sea_orm_sink] CREATE TABLE IF NOT EXISTS &quot;event&quot; ( &quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT, &quot;timestamp&quot; varchar NOT NULL, &quot;bid&quot; varchar NOT NULL, &quot;ask&quot; varchar NOT NULL, &quot;bid_vol&quot; varchar NOT NULL, &quot;ask_vol&quot; varchar NOT NULL )</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[INFO  sea_streamer_sea_orm_sink] {&quot;spread&quot;:{&quot;bid&quot;:&quot;1.25495&quot;,&quot;ask&quot;:&quot;1.25513&quot;,&quot;timestamp&quot;:&quot;2024-05-05T16:31:00.961214&quot;,&quot;bid_vol&quot;:&quot;61.50588918&quot;,&quot;ask_vol&quot;:&quot;787.90883861&quot;},&quot;channel_name&quot;:&quot;spread&quot;,&quot;pair&quot;:&quot;GBP/USD&quot;}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>That&#x27;s it! Now you can inspect the data with your favourite database GUI and write some SQL queries:</p><img loading="lazy" alt="screenshot of SQLite database" src="/blog/img/2024-05-05-redis-kafka-data-sink-sqlite.png" class="img_WBRq"><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>In this article, we covered:</p><ol><li>Micro-services architecture in stream processing</li><li>Async real-time programming in Rust</li><li>The awesomeness of the SeaQL and Rust ecosystem<sup id="fnref-2-870cc4"><a href="#fn-2-870cc4" class="footnote-ref">2</a></sup></li></ol><p>Here are a few suggestions how you can take it from here:</p><ol><li>Stream the data to a &quot;big database&quot; like MySQL or Postgres</li><li>Subscribe to more streams and sink to more tables</li><li>Buffer the events and insert the data in batches to achieve higher throughput, further reads:<ul><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs" target="_blank" rel="noopener noreferrer">https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs</a></li><li><a href="https://github.com/SeaQL/FireDBG.for.Rust/blob/main/indexer/src/main.rs" target="_blank" rel="noopener noreferrer">https://github.com/SeaQL/FireDBG.for.Rust/blob/main/indexer/src/main.rs</a></li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rustacean-sticker-pack-">Rustacean Sticker Pack ü¶Ä<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack ü¶Ä" title="Direct link to Rustacean Sticker Pack ü¶Ä">‚Äã</a></h2><p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p><p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p><p>Sticker Pack Contents:</p><ul><li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li><li>Mascot of SeaQL: Terres the Hermit Crab</li><li>Mascot of Rust: Ferris the Crab</li><li>The Rustacean word</li></ul><p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer"><img loading="lazy" style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg" class="img_WBRq"></a><div class="footnotes"><hr><ol><li id="fn-1-870cc4">via <a href="https://www.sea-ql.org/SeaORM-X/" target="_blank" rel="noopener noreferrer">SeaORM X</a><a href="#fnref-1-870cc4" class="footnote-backref">‚Ü©</a></li><li id="fn-2-870cc4"><a href="https://www.sea-ql.org/SeaStreamer/docs/introduction/intro-to-streams/#why-rust" target="_blank" rel="noopener noreferrer">Why Rust?</a><a href="#fnref-2-870cc4" class="footnote-backref">‚Ü©</a></li></ol></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="This blog post summarizes the new features and enhancements introduced in SeaORM 1.0-rc.x:"><link itemprop="image" href="https://www.sea-ql.org/blog/img/SeaORM%201.0-rc%20Banner.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x/">What&#x27;s new in SeaORM 1.0-rc.x</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-04-08T00:00:00.000Z" itemprop="datePublished">April 8, 2024</time> ¬∑ <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/blog/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" alt="SeaORM 1.0-rc Banner" src="/blog/img/SeaORM%201.0-rc%20Banner.png" class="img_WBRq"><p>This blog post summarizes the new features and enhancements introduced in SeaORM <code>1.0-rc.x</code>:</p><ul><li><a href="https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.1" target="_blank" rel="noopener noreferrer">1.0.0-rc.1</a></li><li><a href="https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.2" target="_blank" rel="noopener noreferrer">1.0.0-rc.2</a></li><li><a href="https://github.com/SeaQL/sea-orm/releases/tag/1.0.0-rc.3" target="_blank" rel="noopener noreferrer">1.0.0-rc.3</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="refreshed-migration-schema-definition">Refreshed migration schema definition<a href="#refreshed-migration-schema-definition" class="hash-link" aria-label="Direct link to Refreshed migration schema definition" title="Direct link to Refreshed migration schema definition">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2099" target="_blank" rel="noopener noreferrer">#2099</a> We are aware that SeaORM&#x27;s migration scripts can sometimes look verbose. Thanks to the clever design made by Loco, we&#x27;ve refreshed the schema definition syntax.</p><p>An old migration script looks like this:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">if_not_exists</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">auto_increment</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">primary_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unique_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, using the new schema helpers, you can define the schema with a simplified syntax!</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Remember to import `sea_orm_migration::schema::*`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm_migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">schema</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveMigrationName)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">if_not_exists</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">pk_auto</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Primary key with auto-increment</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// UUID column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string_uniq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// String column with unique and not null constraint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Password</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// String column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ApiKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unique_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ResetToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Nullable string column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ResetSentAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Nullable timestamp column</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">string_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">EmailVerificationToken</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">EmailVerificationSentAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Users</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">EmailVerifiedAt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are three variants for each commonly used column type:</p><ul><li><code>&lt;COLUMN_TYPE&gt;()</code> helper function, e.g. <code>string()</code>, define a non-null string column</li><li><code>&lt;COLUMN_TYPE&gt;_null()</code> helper function, e.g. <code>string_null()</code>, define a nullable string column</li><li><code>&lt;COLUMN_TYPE&gt;_uniq()</code> helper function, e.g. <code>string_uniq()</code>, define a non-null and unique string column</li></ul><p>The new schema helpers can be used by importing <code>sea_orm_migration::schema::*</code>. The migration library is fully backward compatible, so there is no rush to migrate old scripts. The new syntax is recommended for new scripts, and all examples in the SeaORM repository have been updated for demonstration. For advanced use cases, the old SeaQuery syntax can still be used.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="reworked-sqlite-type-mappings">Reworked SQLite Type Mappings<a href="#reworked-sqlite-type-mappings" class="hash-link" aria-label="Direct link to Reworked SQLite Type Mappings" title="Direct link to Reworked SQLite Type Mappings">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/2077" target="_blank" rel="noopener noreferrer">sea-orm#2077</a> <a href="https://github.com/SeaQL/sea-query/pull/735" target="_blank" rel="noopener noreferrer">sea-query#735</a> <a href="https://github.com/SeaQL/sea-schema/pull/117" target="_blank" rel="noopener noreferrer">sea-schema#117</a> We&#x27;ve reworked the type mappings for SQLite across the SeaQL ecosystem, such that SeaQuery and SeaSchema are now reciprocal to each other. Migrations written with SeaQuery can be rediscovered by <code>sea-orm-cli</code> and generate compatible entities! In other words, the roundtrip is complete.</p><p>Data types will be mapped to SQLite types with a custom naming scheme following SQLite&#x27;s affinity rule:</p><ul><li><code>INTEGER</code>: <code>integer</code>, <code>tiny_integer</code>, <code>small_integer</code>, <code>big_integer</code> and <code>boolean</code> are stored as <code>integer</code></li><li><code>REAL</code>: <code>float</code>, <code>double</code>, <code>decimal</code> and <code>money</code> are stored as <code>real</code></li><li><code>BLOB</code>: <code>blob</code> and <code>varbinary_blob</code> are stored as <code>blob</code></li><li><code>TEXT</code>: all other data types are stored as <code>text</code>, including <code>string</code>, <code>char</code>, <code>text</code>, <code>json</code>, <code>uuid</code>, <code>date</code>, <code>time</code>, <code>datetime</code>, <code>timestamp</code>, etc.</li></ul><p>To illustrate,</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;strange&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">auto_increment</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">primary_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">tiny_integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int3&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">small_integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;int4&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">big_integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;string1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;string2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">string_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;char1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;char2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">char_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;json_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;uuid_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;decimal1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;decimal2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">decimal_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;money1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">money</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;money2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">money_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">12</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;float_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">float</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;double_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">double</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;date_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;time_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;datetime_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">date_time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;boolean_col&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">boolean</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;binary2&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;binary3&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">var_binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1024</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;CREATE TABLE &quot;strange&quot; (&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;id&quot; integer NOT NULL PRIMARY KEY AUTOINCREMENT,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int1&quot; integer,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int2&quot; tinyint,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int3&quot; smallint,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;int4&quot; bigint,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;string1&quot; varchar,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;string2&quot; varchar(24),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;char1&quot; char,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;char2&quot; char(24),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;text_col&quot; text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;json_col&quot; json_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;uuid_col&quot; uuid_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;decimal1&quot; real,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;decimal2&quot; real(12, 4),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;money1&quot; real_money,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;money2&quot; real_money(12, 4),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;float_col&quot; float,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;double_col&quot; double,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;date_col&quot; date_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;time_col&quot; time_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;datetime_col&quot; datetime_text,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;boolean_col&quot; boolean,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;binary2&quot; blob(1024),&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;&quot;binary3&quot; varbinary_blob(1024)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The full type mapping table is <a href="https://docs.rs/sea-query/0.31.0-rc.4/sea_query/table/enum.ColumnType.html" target="_blank" rel="noopener noreferrer">documented here</a>:</p><table><thead><tr><th>ColumnType</th><th>MySQL data type</th><th>PostgreSQL data type</th><th>SQLite data type</th></tr></thead><tbody><tr><td>Char</td><td>char</td><td>char</td><td>char</td></tr><tr><td>String</td><td>varchar</td><td>varchar</td><td>varchar</td></tr><tr><td>Text</td><td>text</td><td>text</td><td>text</td></tr><tr><td>TinyInteger</td><td>tinyint</td><td>smallint</td><td>tinyint</td></tr><tr><td>SmallInteger</td><td>smallint</td><td>smallint</td><td>smallint</td></tr><tr><td>Integer</td><td>int</td><td>integer</td><td>integer</td></tr><tr><td>BigInteger</td><td>bigint</td><td>bigint</td><td>integer</td></tr><tr><td>TinyUnsigned</td><td>tinyint unsigned</td><td>smallint</td><td>tinyint</td></tr><tr><td>SmallUnsigned</td><td>smallint unsigned</td><td>smallint</td><td>smallint</td></tr><tr><td>Unsigned</td><td>int unsigned</td><td>integer</td><td>integer</td></tr><tr><td>BigUnsigned</td><td>bigint unsigned</td><td>bigint</td><td>integer</td></tr><tr><td>Float</td><td>float</td><td>real</td><td>float</td></tr><tr><td>Double</td><td>double</td><td>double precision</td><td>double</td></tr><tr><td>Decimal</td><td>decimal</td><td>decimal</td><td>real</td></tr><tr><td>DateTime</td><td>datetime</td><td>timestamp without time zone</td><td>datetime_text</td></tr><tr><td>Timestamp</td><td>timestamp</td><td>timestamp</td><td>timestamp_text</td></tr><tr><td>TimestampWithTimeZone</td><td>timestamp</td><td>timestamp with time zone</td><td>timestamp_with_timezone_text</td></tr><tr><td>Time</td><td>time</td><td>time</td><td>time_text</td></tr><tr><td>Date</td><td>date</td><td>date</td><td>date_text</td></tr><tr><td>Year</td><td>year</td><td>N/A</td><td>N/A</td></tr><tr><td>Interval</td><td>N/A</td><td>interval</td><td>N/A</td></tr><tr><td>Binary</td><td>binary</td><td>bytea</td><td>blob</td></tr><tr><td>VarBinary</td><td>varbinary</td><td>bytea</td><td>varbinary_blob</td></tr><tr><td>Bit</td><td>bit</td><td>bit</td><td>N/A</td></tr><tr><td>VarBit</td><td>bit</td><td>varbit</td><td>N/A</td></tr><tr><td>Boolean</td><td>bool</td><td>bool</td><td>boolean</td></tr><tr><td>Money</td><td>decimal</td><td>money</td><td>real_money</td></tr><tr><td>Json</td><td>json</td><td>json</td><td>json_text</td></tr><tr><td>JsonBinary</td><td>json</td><td>jsonb</td><td>jsonb_text</td></tr><tr><td>Uuid</td><td>binary(16)</td><td>uuid</td><td>uuid_text</td></tr><tr><td>Enum</td><td>ENUM(...)</td><td>ENUM_NAME</td><td>enum_text</td></tr><tr><td>Array</td><td>N/A</td><td>DATA_TYPE[]</td><td>N/A</td></tr><tr><td>Cidr</td><td>N/A</td><td>cidr</td><td>N/A</td></tr><tr><td>Inet</td><td>N/A</td><td>inet</td><td>N/A</td></tr><tr><td>MacAddr</td><td>N/A</td><td>macaddr</td><td>N/A</td></tr><tr><td>LTree</td><td>N/A</td><td>ltree</td><td>N/A</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_w1X2" id="enhancements">Enhancements<a href="#enhancements" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2137" target="_blank" rel="noopener noreferrer">#2137</a> <code>DerivePartialModel</code> macro attribute <code>entity</code> now supports <code>syn::Type</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DerivePartialModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(entity = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;&lt;entity::Model as ModelTrait&gt;::Entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">EntityNameNotAIdent</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(from_col = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;foo2&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _foo</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(from_col = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;bar2&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _bar</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2146" target="_blank" rel="noopener noreferrer">#2146</a> Added <code>RelationDef::from_alias()</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LeftJoin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake_filling</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">rev</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            cf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LeftJoin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake_filling</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Filling</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cf</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SELECT `cake`.`id`, `cake`.`name` FROM `cake`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;LEFT JOIN `cake_filling` AS `cf` ON `cake`.`id` = `cf`.`cake_id`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;LEFT JOIN `filling` ON `cf`.`filling_id` = `filling`.`id`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1665" target="_blank" rel="noopener noreferrer">#1665</a> <!-- -->[sea-orm-macro]<!-- --> Qualify traits in <code>DeriveActiveModel</code> macro</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2064" target="_blank" rel="noopener noreferrer">#2064</a> <!-- -->[sea-orm-cli]<!-- --> Fix <code>migrate generate</code> on empty <code>mod.rs</code> files</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2145" target="_blank" rel="noopener noreferrer">#2145</a> Renamed <code>ConnectOptions::pool_options()</code> to <code>ConnectOptions::sqlx_pool_options()</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2145" target="_blank" rel="noopener noreferrer">#2145</a> Made <code>sqlx_common</code> private, hiding <code>sqlx_error_to_xxx_err</code></li><li>MySQL <code>money</code> type maps to <code>decimal</code></li><li>MySQL <code>blob</code> types moved to <code>extension::mysql::MySqlType</code>; <code>ColumnDef::blob()</code> now takes no parameters</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryLen</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary_len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Blob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Blob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TinyBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TinyBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MediumBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MediumBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">BinaryType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LongBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySqlType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LongBlob</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;CREATE TABLE `binary_type` (&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`binlen` binary(32),&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`bin` binary(1),&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`b` blob,&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`tb` tinyblob,&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`mb` mediumblob,&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;`lb` longblob&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;)&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>ColumnDef::binary()</code> sets column type as <code>binary</code> with default length of <code>1</code></li><li>Removed <code>BlobSize</code> enum</li><li>Added <code>StringLen</code> to represent length of <code>varchar</code> / <code>varbinary</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/// Length for var-char/binary; default to 255</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">StringLen</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// String size</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">N</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">u32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Max</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[default]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">None</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>ValueType::columntype()</code> of <code>Vec&lt;u8&gt;</code> maps to <code>VarBinary(StringLen::None)</code></li><li><code>ValueType::columntype()</code> of <code>String</code> maps to <code>String(StringLen::None)</code></li><li><code>ColumnType::Bit</code> maps to <code>bit</code> for Postgres</li><li><code>ColumnType::Binary</code> and <code>ColumnType::VarBinary</code> map to <code>bytea</code> for Postgres</li><li><code>Value::Decimal</code> and <code>Value::BigDecimal</code> map to <code>real</code> for SQLite</li><li><code>ColumnType::Year(Option&lt;MySqlYear&gt;)</code> changed to <code>ColumnType::Year</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="upgrades">Upgrades<a href="#upgrades" class="hash-link" aria-label="Direct link to Upgrades" title="Direct link to Upgrades">‚Äã</a></h2><ul><li>Upgrade <code>sea-query</code> to <code>0.31.0-rc.3</code></li><li>Upgrade <code>sea-schema</code> to <code>0.15.0-rc.4</code></li><li>Upgrade <code>sea-query-binder</code> to <code>0.6.0-rc.1</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2088" target="_blank" rel="noopener noreferrer">#2088</a> Upgrade <code>strum</code> to <code>0.26</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="house-keeping">House Keeping<a href="#house-keeping" class="hash-link" aria-label="Direct link to House Keeping" title="Direct link to House Keeping">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2140" target="_blank" rel="noopener noreferrer">#2140</a> Improved Actix example to return 404 not found on unexpected inputs</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2154" target="_blank" rel="noopener noreferrer">#2154</a> Deprecated Actix v3 example</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2136" target="_blank" rel="noopener noreferrer">#2136</a> Re-enabled <code>rocket_okapi</code> example</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="release-planning">Release Planning<a href="#release-planning" class="hash-link" aria-label="Direct link to Release Planning" title="Direct link to Release Planning">‚Äã</a></h2><p>In the <a href="https://www.sea-ql.org/blog/2024-01-23-whats-new-in-seaorm-0.12.x/#release-planning" target="_blank" rel="noopener noreferrer">previous release</a> of SeaORM, we stated that we want our next release to be <code>1.0</code>. We are indeed very close to <code>1.0</code> now!</p><p>While <code>0.12</code> will still be maintained before <code>1.0</code> get finalized, you are welcome to try out <code>1.0-rc.x</code> today! There will still be a few minor but still technically breaking changes:</p><ol><li><a href="https://github.com/SeaQL/sea-orm/pull/2185" target="_blank" rel="noopener noreferrer">#2185</a> Adding trait const <code>ARITY</code> to <code>PrimaryKeyTrait</code>, allowing users to write better generic code</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2186" target="_blank" rel="noopener noreferrer">#2186</a> Associating <code>ActiveModel</code> to <code>EntityTrait</code>, allowing users to extend the behaviour of Entities</li></ol><p>Now is also the perfect time for you to propose breaking changes that&#x27;d have long term impact to SeaORM. After the stablization, we hope that SeaORM can offer a stable API surface that developers can use in production for the years to come.</p><p>We&#x27;d not have more than 2 major releases in a year, and each major release will be maintained for at least 1 year. It&#x27;s still tentative, but that&#x27;s what we have in mind for now. Moreoever, it will actually allow us to ship new features more frequently!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sql-server-support">SQL Server Support<a href="#sql-server-support" class="hash-link" aria-label="Direct link to SQL Server Support" title="Direct link to SQL Server Support">‚Äã</a></h2><p>We&#x27;ve been planning <a href="https://www.sea-ql.org/SeaORM-X/" target="_blank" rel="noopener noreferrer">SQL Server for SeaORM</a> for a while, but it was put aside in 2023 (which I regretted). Anyway SQL Server support is coming soon! It will first be offered as a closed beta to our partners. If you are interested, please join our <a href="https://forms.office.com/r/1MuRPJmYBR" target="_blank" rel="noopener noreferrer">waiting list</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.</p><p>A big shout out to our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">sponsors</a> üòá:</p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="gold-sponsors">Gold Sponsors<a href="#gold-sponsors" class="hash-link" aria-label="Direct link to Gold Sponsors" title="Direct link to Gold Sponsors">‚Äã</a></h4><a href="https://osmos.io/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/static/sponsors/Osmos.svg#light" width="238" class="img_WBRq"><img loading="lazy" src="https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark" width="238" class="img_WBRq"></a><h4 class="anchor anchorWithStickyNavbar_w1X2" id="github-sponsors">GitHub Sponsors<a href="#github-sponsors" class="hash-link" aria-label="Direct link to GitHub Sponsors" title="Direct link to GitHub Sponsors">‚Äã</a></h4><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/tugascript" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/64930104?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Afonso Barracha</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/marcusbuffett" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1834328?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marcus Buffett</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/reneklacan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1935686?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ren√© Klaƒçan</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Iceapinan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2698243?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Apinan I.</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/ktanaka101" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/10344925?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Kentaro Tanaka</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/siketyan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/12772118?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Natsuki Ikeguchi</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/mmuellersoppart" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16762461?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marlon Mueller-Soppart</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/gitmalong" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/18363591?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">ul</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/yuly3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/25814001?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">MasakiMiyazaki</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/manfredcml" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/27536502?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Manfred Lee</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/kallydev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/36319157?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">KallyDev</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/dsgallups" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/44790295?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Daniel Gallups</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/caido" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/78991750?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Caido</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Coolpany-SE" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/96304487?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Coolpany SE</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rustacean-sticker-pack-">Rustacean Sticker Pack ü¶Ä<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack ü¶Ä" title="Direct link to Rustacean Sticker Pack ü¶Ä">‚Äã</a></h2><p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p><p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p><p>Sticker Pack Contents:</p><ul><li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li><li>Mascot of SeaQL: Terres the Hermit Crab</li><li>Mascot of Rust: Ferris the Crab</li><li>The Rustacean word</li></ul><p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer"><img loading="lazy" style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg" class="img_WBRq"></a></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="It had been a while since the initial SeaORM 0.12 release. This blog post summarizes the new features and enhancements introduced in SeaORM 0.12.2 through 0.12.12!"><link itemprop="image" href="https://www.sea-ql.org/blog/img/SeaORM%2012%20Banner.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-01-23-whats-new-in-seaorm-0.12.x/">What&#x27;s new in SeaORM 0.12.x</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-01-23T00:00:00.000Z" itemprop="datePublished">January 23, 2024</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/blog/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" alt="SeaORM 0.12 Banner" src="/blog/img/SeaORM%2012%20Banner.png" class="img_WBRq"><p>It had been a while since the initial <a href="https://www.sea-ql.org/blog/2023-08-12-announcing-seaorm-0.12/" target="_blank" rel="noopener noreferrer">SeaORM 0.12 release</a>. This blog post summarizes the new features and enhancements introduced in SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.12.2" target="_blank" rel="noopener noreferrer"><code>0.12.2</code></a> through <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.12.12" target="_blank" rel="noopener noreferrer"><code>0.12.12</code></a>!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="celebrating-2m-downloads-on-cratesio-">Celebrating 2M downloads on crates.io üì¶<a href="#celebrating-2m-downloads-on-cratesio-" class="hash-link" aria-label="Direct link to Celebrating 2M downloads on crates.io üì¶" title="Direct link to Celebrating 2M downloads on crates.io üì¶">‚Äã</a></h2><p>We&#x27;ve just reached the milestone of 2,000,000 all time downloads on <a href="https://crates.io/crates/sea-orm" target="_blank" rel="noopener noreferrer">crates.io</a>. It&#x27;s a testament to SeaORM&#x27;s adoption in professional use. Thank you to all our users for your trust and for being a part of our community.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-features">New Features<a href="#new-features" class="hash-link" aria-label="Direct link to New Features" title="Direct link to New Features">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="entity-format-update">Entity format update<a href="#entity-format-update" class="hash-link" aria-label="Direct link to Entity format update" title="Direct link to Entity format update">‚Äã</a></h3><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1898" target="_blank" rel="noopener noreferrer">#1898</a> Add support for root JSON arrays (requires the <code>json-array</code> / <code>postgres-array</code> feature)! It involved an intricate type system refactor to work around the orphan rule.</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;json_struct_vec&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(column_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Json&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> struct_vec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">JsonColumn</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, Serialize, Deserialize, FromJsonQueryResult)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">JsonColumn</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2009" target="_blank" rel="noopener noreferrer">#2009</a> Added <code>comment</code> attribute for Entity; <code>create_table_from_entity</code> now supports comment on MySQL</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;applog&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, comment = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;app logs&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key, comment = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;ID&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(comment = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;action&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> action</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> created_at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTimeWithTimeZone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="cursor-paginator-improvements">Cursor paginator improvements<a href="#cursor-paginator-improvements" class="hash-link" aria-label="Direct link to Cursor paginator improvements" title="Direct link to Cursor paginator improvements">‚Äã</a></h3><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2037" target="_blank" rel="noopener noreferrer">#2037</a> Added descending order to Cursor:</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// (default behaviour) Before 5 ASC, i.e. id &lt; 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> cursor </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cursor_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">before</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">first</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// (new API) After 5 DESC, i.e. id &lt; 5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> cursor </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cursor_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">after</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">desc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">first</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1826" target="_blank" rel="noopener noreferrer">#1826</a> Added cursor support to <code>SelectTwo</code>:</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Join with linked relation; cursor by first table&#x27;s id</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">find_also_linked</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">entity_linked</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">CakeToFillingVendor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cursor_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">before</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">first</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Join with relation; cursor by the 2nd table&#x27;s id </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">find_also_related</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cursor_by_other</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">before</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">first</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="added-proxy-to-database-backend">Added &quot;proxy&quot; to database backend<a href="#added-proxy-to-database-backend" class="hash-link" aria-label="Direct link to Added &quot;proxy&quot; to database backend" title="Direct link to Added &quot;proxy&quot; to database backend">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/1881" target="_blank" rel="noopener noreferrer">#1881</a>, <a href="https://github.com/SeaQL/sea-orm/pull/2000" target="_blank" rel="noopener noreferrer">#2000</a> Added &quot;proxy&quot; to database backend (requires feature flag <code>proxy</code>).</p><p>It enables the possibility of using SeaORM on edge / client-side! See the <a href="https://github.com/SeaQL/sea-orm/tree/master/examples/proxy_gluesql_example" target="_blank" rel="noopener noreferrer">GlueSQL demo</a> for an example.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="enhancements">Enhancements<a href="#enhancements" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1954" target="_blank" rel="noopener noreferrer">#1954</a> <!-- -->[sea-orm-macro]<!-- --> Added <code>#[sea_orm(skip)]</code> to <code>FromQueryResult</code> derive macro</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, Deserialize, Serialize, FromQueryResult)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">PublicUser</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[serde(skip_serializing_if = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Vec::is_empty&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(skip)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> something</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Something</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1598" target="_blank" rel="noopener noreferrer">#1598</a> <!-- -->[sea-orm-macro]<!-- --> Added support for Postgres arrays in <code>FromQueryResult</code> impl of <code>JsonValue</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// existing API:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find_by_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Collection 1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        integers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        teas</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BreakfastTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        colors</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Black</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// new API:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find_by_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">json!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Collection 1&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;integers&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;teas&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;BreakfastTea&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;colors&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1828" target="_blank" rel="noopener noreferrer">#1828</a> <!-- -->[sea-orm-migration]<!-- --> Check if an index exists</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm_migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveMigrationName)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Make sure the index haven&#x27;t been created</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">has_index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_name_index&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_name_index&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">down</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2030" target="_blank" rel="noopener noreferrer">#2030</a> Improve query performance of <code>Paginator</code>&#x27;s <code>COUNT</code> query</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2055" target="_blank" rel="noopener noreferrer">#2055</a> Added SQLx slow statements logging to <code>ConnectOptions</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1867" target="_blank" rel="noopener noreferrer">#1867</a> Added <code>QuerySelect::lock_with_behavior</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/2002" target="_blank" rel="noopener noreferrer">#2002</a> Cast enums in <code>is_in</code> and <code>is_not_in</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1999" target="_blank" rel="noopener noreferrer">#1999</a> Add source annotations to errors</li><li><a href="https://github.com/SeaQL/sea-orm/issues/1960" target="_blank" rel="noopener noreferrer">#1960</a> Implement <code>StatementBuilder</code> for <code>sea_query::WithQuery</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1979" target="_blank" rel="noopener noreferrer">#1979</a> Added method <code>expr_as_</code> that accepts <code>self</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1868" target="_blank" rel="noopener noreferrer">#1868</a> Loader: use <code>ValueTuple</code> as hash key</li><li><a href="https://github.com/SeaQL/sea-orm/pull/1934" target="_blank" rel="noopener noreferrer">#1934</a> <!-- -->[sea-orm-cli]<!-- --> Added <code>--enum-extra-derives</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1952" target="_blank" rel="noopener noreferrer">#1952</a> <!-- -->[sea-orm-cli]<!-- --> Added <code>--enum-extra-attributes</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1693" target="_blank" rel="noopener noreferrer">#1693</a> <!-- -->[sea-orm-cli]<!-- --> Support generation of related entity with composite foreign key</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="bug-fixes">Bug fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug fixes" title="Direct link to Bug fixes">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1855" target="_blank" rel="noopener noreferrer">#1855</a>, <a href="https://github.com/SeaQL/sea-orm/pull/2054" target="_blank" rel="noopener noreferrer">#2054</a> <!-- -->[sea-orm-macro]<!-- --> Qualify types in <code>DeriveValueType</code> macro</li><li><a href="https://github.com/SeaQL/sea-orm/pull/1953" target="_blank" rel="noopener noreferrer">#1953</a> <!-- -->[sea-orm-cli]<!-- --> Fix duplicated active enum use statements on generated entities</li><li><a href="https://github.com/SeaQL/sea-orm/pull/1821" target="_blank" rel="noopener noreferrer">#1821</a> <!-- -->[sea-orm-cli]<!-- --> Fix entity generation for non-alphanumeric enum variants</li><li><a href="https://github.com/SeaQL/sea-orm/pull/2071" target="_blank" rel="noopener noreferrer">#2071</a> <!-- -->[sea-orm-cli]<!-- --> Fix entity generation for relations with composite keys</li><li><a href="https://github.com/SeaQL/sea-orm/issues/1800" target="_blank" rel="noopener noreferrer">#1800</a> Fixed <code>find_with_related</code> consolidation logic</li><li><a href="https://github.com/SeaQL/sea-orm/commit/5a6acd67312601e4dba32896600044950e20f99f" target="_blank" rel="noopener noreferrer">5a6acd67</a> Fixed <code>Loader</code> panic on empty inputs</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="upgrades">Upgrades<a href="#upgrades" class="hash-link" aria-label="Direct link to Upgrades" title="Direct link to Upgrades">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/1984" target="_blank" rel="noopener noreferrer">#1984</a> Upgraded <code>axum</code> example to <code>0.7</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1858" target="_blank" rel="noopener noreferrer">#1858</a> Upgraded <code>chrono</code> to <code>0.4.30</code></li><li><a href="https://github.com/SeaQL/sea-orm/pull/1959" target="_blank" rel="noopener noreferrer">#1959</a> Upgraded <code>rocket</code> to <code>0.5.0</code></li><li>Upgraded <code>sea-query</code> to <code>0.30.5</code></li><li>Upgraded <code>sea-schema</code> to <code>0.14.2</code></li><li>Upgraded <code>salvo</code> to <code>0.50</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="house-keeping">House Keeping<a href="#house-keeping" class="hash-link" aria-label="Direct link to House Keeping" title="Direct link to House Keeping">‚Äã</a></h2><ul><li><a href="https://github.com/SeaQL/sea-orm/pull/2057" target="_blank" rel="noopener noreferrer">#2057</a> Fix clippy warnings on 1.75</li><li><a href="https://github.com/SeaQL/sea-orm/pull/1811" target="_blank" rel="noopener noreferrer">#1811</a> Added test cases for <code>find_xxx_related/linked</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="release-planning">Release planning<a href="#release-planning" class="hash-link" aria-label="Direct link to Release planning" title="Direct link to Release planning">‚Äã</a></h2><p>In the <a href="https://www.sea-ql.org/blog/2023-08-12-announcing-seaorm-0.12/" target="_blank" rel="noopener noreferrer">announcement blog post</a> of SeaORM 0.12, we stated we want to reduce the frequency of breaking releases while maintaining the pace for feature updates and enhancements. I am glad to say we&#x27;ve accomplished that!</p><p>There are still a few breaking changes planned for the next major release. After some <a href="https://github.com/SeaQL/sea-orm/discussions/2031" target="_blank" rel="noopener noreferrer">discussions</a> and consideration, we decided that the next major release will be a release candidate for 1.0!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.</p><p>A big shout out to our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">sponsors</a> üòá:</p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="gold-sponsors">Gold Sponsors<a href="#gold-sponsors" class="hash-link" aria-label="Direct link to Gold Sponsors" title="Direct link to Gold Sponsors">‚Äã</a></h4><a href="https://osmos.io/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/static/sponsors/Osmos.svg#light" width="238" class="img_WBRq"><img loading="lazy" src="https://www.sea-ql.org/static/sponsors/Osmos-dark.svg#dark" width="238" class="img_WBRq"></a><h4 class="anchor anchorWithStickyNavbar_w1X2" id="github-sponsors">GitHub Sponsors<a href="#github-sponsors" class="hash-link" aria-label="Direct link to GitHub Sponsors" title="Direct link to GitHub Sponsors">‚Äã</a></h4><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?u=2f43900772265deac96eb7a816d28a5a48b9a8dd&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/tugascript" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/64930104?u=1171ed4ccb6da73b52de274109077686290da3a5&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Afonso Barracha</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?u=474c7b31ddf0a5c1a03d1142dd18a300279c644a&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/marcusbuffett" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marcus Buffett</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/reneklacan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1935686?u=132be985351312fcf96999daef515f551a93bb0d&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ren√© Klaƒçan</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Iceapinan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2698243?u=a852c75ac10098b9980f57af298be1399f6de66b&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">IceApinan</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/trueb2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8592049?u=031c9ee96b47c27e3a8c485c3c0ebcd4f96120c9&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Jacob Trueb</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/ktanaka101" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/10344925?u=a96d92e7cdd73f774b35fd0bc998964c07b24e29&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Kentaro Tanaka</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/siketyan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/12772118?u=1a51e0a06690e52982e7594bc7379481e65155a1&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Natsuki Ikeguchi</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/mmuellersoppart" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16762461?u=bef7454cb73c164b2d18e077e5ba6b7891aae3d2&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marlon Mueller-Soppart</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/gitmalong" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/18363591?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">ul</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/manfredcml" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Manfred Lee</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/kallydev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">KallyDev</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/dsgallups" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/44790295?u=d1c8d2a60930dfbe95497df7fecf52cf5d95dd5f&amp;v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Daniel Gallups</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Coolpany-SE" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/96304487?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Coolpany-SE</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rustacean-sticker-pack-">Rustacean Sticker Pack ü¶Ä<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack ü¶Ä" title="Direct link to Rustacean Sticker Pack ü¶Ä">‚Äã</a></h2><p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p><p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p><p>Sticker Pack Contents:</p><ul><li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li><li>Mascot of SeaQL: Terres the Hermit Crab</li><li>Mascot of Rust: Ferris the Crab</li><li>The Rustacean word</li></ul><p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer"><img loading="lazy" style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg" class="img_WBRq"></a></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="524 members of the SeaQL community from 41 countries kindly contributed their thoughts on using SeaQL libraries, learning Rust and employing Rust in their day to day development lives."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2024-01-18-community-survey-2023/">SeaQL Community Survey 2023 Results</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2024-01-18T00:00:00.000Z" itemprop="datePublished">January 18, 2024</time> ¬∑ <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/30400950?v=4" alt="Billy Chan" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Billy Chan</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>524 members of the SeaQL community from 41 countries kindly contributed their thoughts on using SeaQL libraries, learning Rust and employing Rust in their day to day development lives.
From these responses we hope to get an understanding of where the SeaQL and Rust community stands in 2023.</p><p>This is our first community survey, we will conduct the survey annually to keep track of how the community evolves over time.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="demographics">Demographics<a href="#demographics" class="hash-link" aria-label="Direct link to Demographics" title="Direct link to Demographics">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-where-are-you-located-in">Q. Where are you located in?<a href="#q-where-are-you-located-in" class="hash-link" aria-label="Direct link to Q. Where are you located in?" title="Direct link to Q. Where are you located in?">‚Äã</a></h3><p>Participants are from 41 countries across the world!</p><div style="margin-bottom:60px"><canvas id="numCountry" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Argentina</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Australia</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Austria</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Belarus</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Belgium</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Cyprus</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Czechia</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Denmark</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Hungary</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Iran</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Ireland</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Italy</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Japan</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Kazakstan</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Korea</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Mongolia</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Nigeria</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Norway</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Peru</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Poland</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Slovakia</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">South Africa</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Spain</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Sweden</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Taiwan </span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Thailand</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Turkey</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Ukraine</span></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="use-of-seaql-libraries">Use of SeaQL Libraries<a href="#use-of-seaql-libraries" class="hash-link" aria-label="Direct link to Use of SeaQL Libraries" title="Direct link to Use of SeaQL Libraries">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-are-you-using-seaql-libraries-in-building-a-project">Q. Are you using SeaQL libraries in building a project?<a href="#q-are-you-using-seaql-libraries-in-building-a-project" class="hash-link" aria-label="Direct link to Q. Are you using SeaQL libraries in building a project?" title="Direct link to Q. Are you using SeaQL libraries in building a project?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="numUsingSeaQL" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-seaql-libraries-are-you-using-in-building-a-project">Q. Which SeaQL libraries are you using in building a project?<a href="#q-which-seaql-libraries-are-you-using-in-building-a-project" class="hash-link" aria-label="Direct link to Q. Which SeaQL libraries are you using in building a project?" title="Direct link to Q. Which SeaQL libraries are you using in building a project?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="numUsingSeaQLLib" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Seaography</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">SeaStreamer</span></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-are-you-using-seaql-libraries-in-a-personal-academic-or-professional-context">Q. Are you using SeaQL libraries in a personal, academic or professional context?<a href="#q-are-you-using-seaql-libraries-in-a-personal-academic-or-professional-context" class="hash-link" aria-label="Direct link to Q. Are you using SeaQL libraries in a personal, academic or professional context?" title="Direct link to Q. Are you using SeaQL libraries in a personal, academic or professional context?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="numUsingContext" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-why-did-you-choose-seaql-libraries">Q. Why did you choose SeaQL libraries?<a href="#q-why-did-you-choose-seaql-libraries" class="hash-link" aria-label="Direct link to Q. Why did you choose SeaQL libraries?" title="Direct link to Q. Why did you choose SeaQL libraries?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="whySeaQL" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Async support, future proof and good documentation</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Good Query Performance</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">It was recommended on websites and YouTube</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Does not use SQL for migrations</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Beginner-friendly and easy to get started</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Easy to translate from Eloquent ORM knowledge</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Can drop in to SeaQuery if necessary</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">I started with SQLx, then tried SeaQuery</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">I found good examples on YouTube</span></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-qualities-of-seaql-libraries-do-you-think-are-important">Q. What qualities of SeaQL libraries do you think are important?<a href="#q-what-qualities-of-seaql-libraries-do-you-think-are-important" class="hash-link" aria-label="Direct link to Q. What qualities of SeaQL libraries do you think are important?" title="Direct link to Q. What qualities of SeaQL libraries do you think are important?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="quality" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Simple Syntax</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Being able to easily express what you would otherwise be able to write in pure SQL</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Migration and entity generation</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Clarify of the implementation and usage patterns</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Efficient query building especially with relations and joins</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Ergonomic API</span></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="team--project-nature">Team &amp; Project Nature<a href="#team--project-nature" class="hash-link" aria-label="Direct link to Team &amp; Project Nature" title="Direct link to Team &amp; Project Nature">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-how-many-team-members-including-you-are-working-on-the-project">Q. How many team members (including you) are working on the project?<a href="#q-how-many-team-members-including-you-are-working-on-the-project" class="hash-link" aria-label="Direct link to Q. How many team members (including you) are working on the project?" title="Direct link to Q. How many team members (including you) are working on the project?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="numTeamMember" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-can-you-categorize-the-nature-of-the-project">Q. Can you categorize the nature of the project?<a href="#q-can-you-categorize-the-nature-of-the-project" class="hash-link" aria-label="Direct link to Q. Can you categorize the nature of the project?" title="Direct link to Q. Can you categorize the nature of the project?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="projNature" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Forecasting</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Financial trading</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Enterprise Resource Planning (ERP)</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Fintech</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Cloud infrstructure automation</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Backend for desktop, mobile and web application</span></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="tech-stack">Tech Stack<a href="#tech-stack" class="hash-link" aria-label="Direct link to Tech Stack" title="Direct link to Tech Stack">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-is-your-development-environment">Q. What is your development environment?<a href="#q-what-is-your-development-environment" class="hash-link" aria-label="Direct link to Q. What is your development environment?" title="Direct link to Q. What is your development environment?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="devEnv" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="linux-breakdown">Linux Breakdown<a href="#linux-breakdown" class="hash-link" aria-label="Direct link to Linux Breakdown" title="Direct link to Linux Breakdown">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="devEnvLinux" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="windows-breakdown">Windows Breakdown<a href="#windows-breakdown" class="hash-link" aria-label="Direct link to Windows Breakdown" title="Direct link to Windows Breakdown">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="devEnvWin" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="macos-breakdown">macOS Breakdown<a href="#macos-breakdown" class="hash-link" aria-label="Direct link to macOS Breakdown" title="Direct link to macOS Breakdown">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="devEnvMac" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-databases-do-you-use">Q. Which database(s) do you use?<a href="#q-which-databases-do-you-use" class="hash-link" aria-label="Direct link to Q. Which database(s) do you use?" title="Direct link to Q. Which database(s) do you use?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="db" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-web-framework-are-you-using">Q. Which web framework are you using?<a href="#q-which-web-framework-are-you-using" class="hash-link" aria-label="Direct link to Q. Which web framework are you using?" title="Direct link to Q. Which web framework are you using?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="webFramework" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-is-the-deployment-environment">Q. What is the deployment environment?<a href="#q-what-is-the-deployment-environment" class="hash-link" aria-label="Direct link to Q. What is the deployment environment?" title="Direct link to Q. What is the deployment environment?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="deployEnv" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rust-at-work">Rust at Work<a href="#rust-at-work" class="hash-link" aria-label="Direct link to Rust at Work" title="Direct link to Rust at Work">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-are-you-using-rust-at-work">Q. Are you using Rust at work?<a href="#q-are-you-using-rust-at-work" class="hash-link" aria-label="Direct link to Q. Are you using Rust at work?" title="Direct link to Q. Are you using Rust at work?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="useRust" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-industry-your-company-is-in">Q. Which industry your company is in?<a href="#q-which-industry-your-company-is-in" class="hash-link" aria-label="Direct link to Q. Which industry your company is in?" title="Direct link to Q. Which industry your company is in?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="industry" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="vague-description-of-the-company">Vague description of the company<a href="#vague-description-of-the-company" class="hash-link" aria-label="Direct link to Vague description of the company" title="Direct link to Vague description of the company">‚Äã</a></h4><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A banking company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A business to business lending platform</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A cloud Storage</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A consulting company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A cybersecurity management platform</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An IT solution company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An E-Commerce clothing store</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A children entertainmets company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A factory construction management platform</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A fintech startup</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A geology technology company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A publicly traded health-tech company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A private restaurant chain</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An industrial IoT for heating and water distributions</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An internet provider</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A nonprofit tech research organization</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A payment service provider</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A road intelligence company</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A SaaS startup</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A server hosting provider</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A DevOps platform that helps our users scale their Kubernetes application</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An Automotive company</span><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-is-the-size-of-your-company">Q. What is the size of your company?<a href="#q-what-is-the-size-of-your-company" class="hash-link" aria-label="Direct link to Q. What is the size of your company?" title="Direct link to Q. What is the size of your company?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="companySize" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-how-many-engineers-in-your-company-are-dedicated-to-writing-rust">Q. How many engineers in your company are dedicated to writing Rust?<a href="#q-how-many-engineers-in-your-company-are-dedicated-to-writing-rust" class="hash-link" aria-label="Direct link to Q. How many engineers in your company are dedicated to writing Rust?" title="Direct link to Q. How many engineers in your company are dedicated to writing Rust?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="engineer" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-layers-of-the-technology-stack-are-using-rust">Q. Which layer(s) of the technology stack are using Rust?<a href="#q-which-layers-of-the-technology-stack-are-using-rust" class="hash-link" aria-label="Direct link to Q. Which layer(s) of the technology stack are using Rust?" title="Direct link to Q. Which layer(s) of the technology stack are using Rust?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="techStack" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="learning-rust">Learning Rust<a href="#learning-rust" class="hash-link" aria-label="Direct link to Learning Rust" title="Direct link to Learning Rust">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-are-you-learning--new-to-rust">Q. Are you learning / new to Rust?<a href="#q-are-you-learning--new-to-rust" class="hash-link" aria-label="Direct link to Q. Are you learning / new to Rust?" title="Direct link to Q. Are you learning / new to Rust?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="learningRust" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-languages-are-you-most-familiar-with">Q. Which language(s) are you most familiar with?<a href="#q-which-languages-are-you-most-familiar-with" class="hash-link" aria-label="Direct link to Q. Which language(s) are you most familiar with?" title="Direct link to Q. Which language(s) are you most familiar with?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="familiarLanguage" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-are-you-familiar-with-sql">Q. Are you familiar with SQL?<a href="#q-are-you-familiar-with-sql" class="hash-link" aria-label="Direct link to Q. Are you familiar with SQL?" title="Direct link to Q. Are you familiar with SQL?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="familiarWithSql" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-do-you-find-rust-easy-or-hard-to-learn">Q. Do you find Rust easy or hard to learn?<a href="#q-do-you-find-rust-easy-or-hard-to-learn" class="hash-link" aria-label="Direct link to Q. Do you find Rust easy or hard to learn?" title="Direct link to Q. Do you find Rust easy or hard to learn?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="hardToLearn" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-motivates-you-to-learn-rust">Q. What motivates you to learn Rust?<a href="#q-what-motivates-you-to-learn-rust" class="hash-link" aria-label="Direct link to Q. What motivates you to learn Rust?" title="Direct link to Q. What motivates you to learn Rust?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="motivation" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Ability to develop fast, secure and standalone API driven tools</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Efficiency, safety, low resource usage</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Good design decisions from the start</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Reliability and ease of development</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">School makes me to learn</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Rust is too cool</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">The ecosystem of libraries + general competence of lib authors</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">It is the most loved language</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">The guarantees Rust provides</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Learning something new</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Type safety and speed</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Want to get away from NULL</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">No boilerplate, if you do not want it</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Performance</span></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-learning-resources-do-you-rely-on">Q. What learning resources do you rely on?<a href="#q-what-learning-resources-do-you-rely-on" class="hash-link" aria-label="Direct link to Q. What learning resources do you rely on?" title="Direct link to Q. What learning resources do you rely on?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="learningResource" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">YouTube</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Online Courses</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">ChatGPT</span></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-is-your-first-project-built-using-rust">Q. What is your first project built using Rust?<a href="#q-what-is-your-first-project-built-using-rust" class="hash-link" aria-label="Direct link to Q. What is your first project built using Rust?" title="Direct link to Q. What is your first project built using Rust?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="firstProj" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Chatbot</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Scraper</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Rasterization of the mandelbrot set</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">IoT</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Library</span></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="whats-next">What&#x27;s Next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next" title="Direct link to What&#x27;s Next">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-which-aspects-do-you-want-to-see-advancement-on-seaorm">Q. Which aspects do you want to see advancement on SeaORM?<a href="#q-which-aspects-do-you-want-to-see-advancement-on-seaorm" class="hash-link" aria-label="Direct link to Q. Which aspects do you want to see advancement on SeaORM?" title="Direct link to Q. Which aspects do you want to see advancement on SeaORM?">‚Äã</a></h3><p>Thank you for all the suggestions, we will certainly take them into account!</p><div style="margin-bottom:60px"><canvas id="advancement" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Full MySQL coverage</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">MS SQL Server support</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Structured queries for complex joins</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A stable release</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Data seeding</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Migrations based on Entity diffs</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Type safety</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Support tables without primary key</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Turso integration</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Fetching nested structures</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Views</span></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-what-tools-would-you-be-interested-in-using-if-developed-first-party-by-seaql">Q. What tools would you be interested in using, if developed first-party by SeaQL?<a href="#q-what-tools-would-you-be-interested-in-using-if-developed-first-party-by-seaql" class="hash-link" aria-label="Direct link to Q. What tools would you be interested in using, if developed first-party by SeaQL?" title="Direct link to Q. What tools would you be interested in using, if developed first-party by SeaQL?">‚Äã</a></h3><div style="margin-bottom:60px"><canvas id="firstPartySupport" class="chart-js" style="width:100%;margin:auto auto;margin-bottom:10px"></canvas>Other: <span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An API integration testing utility</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">An oso-based authorization integration</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">A visual tool for managing migrations</span><span class="badge badge--secondary badge-dark-mode" style="margin-right:6px;margin-bottom:6px">Database layout editor (like dbdiagram.io)</span></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="share-your-thoughts">Share Your Thoughts<a href="#share-your-thoughts" class="hash-link" aria-label="Direct link to Share Your Thoughts" title="Direct link to Share Your Thoughts">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="q-anything-else-you-want-to-say">Q. Anything else you want to say?<a href="#q-anything-else-you-want-to-say" class="hash-link" aria-label="Direct link to Q. Anything else you want to say?" title="Direct link to Q. Anything else you want to say?">‚Äã</a></h3><p>Didn&#x27;t expect this section to turn into a testimonial, thank you for all the kind words :)</p><blockquote><p>Good job yall</p></blockquote><blockquote><p>Great projects, thanks for your hard work</p></blockquote><blockquote><p>I expect it to be an asynchronous type-safe library. Keep up the good work!</p></blockquote><blockquote><p>I&#x27;d like to see entity generation without a database</p></blockquote><blockquote><p>The website, support from JetBrains, the documentation and the release cycle are very nice!</p></blockquote><blockquote><p>I&#x27;m very interested in how SeaORM will continue evolving and I would like to wish you the best of luck!</p></blockquote><blockquote><p>I&#x27;ve found SeaORM very useful and I&#x27;m very grateful to the development team for creating and maintaining it!</p></blockquote><blockquote><p>In TypeORM I can write entities and then generate migration from them. It&#x27;s very handy. It helps to increase development speed. It would be nice to have this functionality in SeaORM.</p></blockquote><blockquote><p>It needs to have better integration with SeaQuery, I sometimes need to get to it because not all features are available in SeaORM which makes it a pain.</p></blockquote><blockquote><p>Keep the good work!</p></blockquote><blockquote><p>Keep going! Love SeaORM!</p></blockquote><blockquote><p>Keep up the great work. Rust needs a fast, ergonomic and reliable ORM.</p></blockquote><blockquote><p>SeaORM is very powerful, but the rust docs and tutorial examples could be more fleshed out.</p></blockquote><blockquote><p>SeaORM is an awesome library. Most things are quite concise and therefore straightforward. Simply a few edge cases concerning DB specific types and values could be better.</p></blockquote><blockquote><p>The trait system is too complex and coding experience is not pretty well with that.</p></blockquote><blockquote><p>Automatic migration generation would make the library pretty much perfect in my opinion.</p></blockquote><blockquote><p>SeaQL tutorials could be better. Much more detailed explanation and definitely it has to have best practices section for Design Patterns like and good best practices related with clean architecture.</p></blockquote><blockquote><p>SeaQL are great products and it‚Äôs very enjoyable using them</p></blockquote><blockquote><p>Thank you &lt;3</p></blockquote><blockquote><p>Thank you for awesome library!</p></blockquote><blockquote><p>Thank you for this wonderful project. I feel the documentation lacks examples for small functions and usage of some obscure features.</p></blockquote><blockquote><p>Thank you for your hard work!</p></blockquote><blockquote><p>Thank you for your work on SeaQL, your efforts are appreciated </p></blockquote><blockquote><p>Thank you for your work, we are seeking actively to include SeaORM in our projects</p></blockquote><blockquote><p>Thank you very much for your work!</p></blockquote><blockquote><p>Thanks a lot for the amazing work you guys put into this set of libraries. This is an amazing development for the rust ecosystem.</p></blockquote><blockquote><p>Thanks and keep up the good work.</p></blockquote><blockquote><p>Thanks for a great tool!</p></blockquote><blockquote><p>Thanks for all the amazing work.</p></blockquote><blockquote><p>Thanks for making SeaORM!</p></blockquote><blockquote><p>The project I am doing for work is only a prototype, it&#x27;s a new implementation of a current Python forecasting project which uses a pandas and a custom psycopg2 orm. My intent is to create a faster/dev friendly version with SeaORM and Polars. I am hoping to eventually get a prototype I can display to my team to get a go ahead to fully develop a new version, and to migrate 4-5 other forecasting apps using shared libraries for io and calculations.</p></blockquote><blockquote><p>I have also been using SeaORM for a small API client for financial data, which I may make open source.</p></blockquote><blockquote><p>I think one thing which could really improve SeaORM is some more advance examples in the documentation section. The docs are really detailed as far as rust documentation goes.</p></blockquote><blockquote><p>Very promising project, keep it up.</p></blockquote><blockquote><p>Thank you so much for taking it upon yourselves to selflessly give your free time. It probably doesn&#x27;t matter much, but thank you so much for your work. SeaORM is a fantastic tool that I can see myself using for a long time to come. I hope to make contributions in any form when I am under better circumstances :3 Kudos to the team!</p></blockquote><blockquote><p>‰Ω†‰ª¨ÁöÑÂ∫ìÈùûÂ∏∏ÁöÑÊ£íÔºåËá≥Â∞ëÊàëËßâÂæóÊØîDieselÂ•ΩÂ§™Â§ö‰∫ÜÔºåÂÖ•Èó®ÁÆÄÂçïÔºåÂØπÊñ∞ÊâãÈùûÂ∏∏ÂèãÂ•ΩÔºåËøôÊòØÊúÄÂ§ßÁöÑ‰∫ÆÁÇπÔºåÂÖ∂Ê¨°ÊòØÂ∫ìË≤å‰ººÂèØ‰ª•ÂÆûÁé∞ÂæàÂ§çÊùÇÁöÑJoin SQLÈÄªËæëËÄå‰∏çÁî®ÂÜôÂéüÁîüÁöÑSQLÔºåËøôÁÇπ‰πüÊòØÈùûÂ∏∏ÂÄºÂæóÁÇπËµûÁöÑÔºå‰ΩÜÊòØÂú®ËøôÂùóÁöÑÊñáÊ°£Ë≤å‰ººÂÜôÁöÑÊúâÁÇπÁÆÄÁï•‰∫ÜÔºåÂ∏åÊúõÂèØ‰ª•‰∏∞ÂØå‰∏Ä‰∏ãÊñáÊ°£ÂÜÖÂÆπÔºåÂØπ‰∫éÂ§çÊùÇÊü•ËØ¢ÁöÑËØ¥ÊòéÂèØ‰ª•Êõ¥Âä†ËØ¶ÁªÜ‰∏Ä‰∫õÔºåËøôÊ†∑Â∞±ÂÜçÂ•Ω‰∏çËøá‰∫Ü„ÄÇË∞¢Ë∞¢‰Ω†‰ª¨ÔºåÊàë‰ºöÊåÅÁª≠ÂÖ≥Ê≥®‰Ω†‰ª¨ÔºåÊú™Êù•ÁöÑÈ°πÁõÆÂ¶ÇÊûúÊ∂âÂèäORMÔºåÈÇ£ÁªùÂØπÈùû‰Ω†‰ª¨Ëé´Â±û‰∫ÜÔºÅ</p></blockquote><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rustacean-sticker-pack-">Rustacean Sticker Pack ü¶Ä<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack ü¶Ä" title="Direct link to Rustacean Sticker Pack ü¶Ä">‚Äã</a></h2><p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p><p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p><p>Sticker Pack Contents:</p><ul><li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li><li>Mascot of SeaQL: Terres the Hermit Crab</li><li>Mascot of Rust: Ferris the Crab</li><li>The Rustacean word</li></ul><p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer"><img loading="lazy" style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg" class="img_WBRq"></a></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="It is our honour to have been awarded by OpenUK for the 2023 Award in the Software category! The award ceremony was a very memorable experience. A huge thanks to Red Badger who sponsored the software award."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-11-25-openuk-award/">OpenUK Award 2023 üèÜ</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-11-25T00:00:00.000Z" itemprop="datePublished">November 25, 2023</time> ¬∑ <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" src="https://www.sea-ql.org/blog/img/openuk-software-seaql.jpg" class="img_WBRq"><p>It is our honour to have been awarded by <a href="https://openuk.uk/awards/" target="_blank" rel="noopener noreferrer">OpenUK for the 2023 Award</a> in the Software category! The award ceremony was a very memorable experience. A huge thanks to <a href="https://red-badger.com/" target="_blank" rel="noopener noreferrer">Red Badger</a> who sponsored the software award.</p><p>In 2023, we released SeaStreamer, two major versions of SeaORM, a new version of Seaography, and have been busy working on a new project on the side.</p><p>We reached the milestone of 5k GitHub stars and 2M crates.io downloads mid-year.</p><p>In the summer, we took in two interns for our 3rd summer of code.</p><p>We plan to offer internships tailored to UK students in 2024 through university internship programs. As always, we welcome contributors from all over the world, and may be we will enrol on GSoC 2024 again. (but open-source is not bounded any schedule, so you can start contributing anytime)</p><p>A big thanks to our sponsors who continued to support us, and we look forward to a more impactful 2024.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="If you are writing an async application in Rust, at some point you&#x27;d want to separate the code into several crates. There are some benefits:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-11-22-async-runtime-generic/">Writing Async Runtime Generic Library</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-11-22T00:00:00.000Z" itemprop="datePublished">November 22, 2023</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>If you are writing an async application in Rust, at some point you&#x27;d want to separate the code into several crates. There are some benefits:</p><ol><li>Better encapsulation. Having a crate boundary between sub-systems can lead to cleaner code and a more well-defined API. No more <code>pub(crate)</code>!</li><li>Faster compilation. By breaking down a big crate into several independent small crates, they can be compiled concurrently.</li></ol><p>But the question is, if you are using only one async runtime anyway, what are the benefits of writing async-runtime-generic libraries?</p><ol><li>Portability. You can easily switch to a different async runtime, or wasm.</li><li>Correctness. Testing a library against both <code>tokio</code> and <code>async-std</code> can uncover more bugs, including concurrency bugs (due to fuzzy task execution orders) and &quot;undefined behaviour&quot; either due to misunderstanding or async-runtime implementation details</li></ol><p>So now you&#x27;ve decided to write async-runtime-generic libraries! Here I want to share 3 strategies along with examples found in the Rust ecosystem.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="approach-1-defining-your-own-asyncruntime-trait">Approach 1: Defining your own <code>AsyncRuntime</code> trait<a href="#approach-1-defining-your-own-asyncruntime-trait" class="hash-link" aria-label="Direct link to approach-1-defining-your-own-asyncruntime-trait" title="Direct link to approach-1-defining-your-own-asyncruntime-trait">‚Äã</a></h3><p>Using the <a href="https://docs.rs/futures/latest/futures/" target="_blank" rel="noopener noreferrer"><code>futures</code></a> crate you can write very generic library code, but there is one missing piece: <code>time</code> - to <code>sleep</code> or <code>timeout</code>, you have to rely on an async runtime. If that&#x27;s all you need, you can define your own <code>AsyncRuntime</code> trait and requires downstream to implement it. This is the approach used by <a href="https://docs.rs/rdkafka/latest/rdkafka/" target="_blank" rel="noopener noreferrer">rdkafka</a>:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">AsyncRuntime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Sync</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Delay</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Future</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// It basically means the return value must be a `Future`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">sleep</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Delay</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Here is how it&#x27;s implemented:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AsyncRuntime</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TokioRuntime</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Delay</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">time</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Sleep</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">sleep</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Delay</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">time</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">sleep</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Library code to use the above:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">operation</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">R</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AsyncRuntime</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">R</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">sleep</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_millis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="approach-2-abstract-the-async-runtimes-internally-and-expose-feature-flags">Approach 2: Abstract the async runtimes internally and expose feature flags<a href="#approach-2-abstract-the-async-runtimes-internally-and-expose-feature-flags" class="hash-link" aria-label="Direct link to Approach 2: Abstract the async runtimes internally and expose feature flags" title="Direct link to Approach 2: Abstract the async runtimes internally and expose feature flags">‚Äã</a></h3><p>This is the approach used by <a href="https://docs.rs/redis/latest/redis/" target="_blank" rel="noopener noreferrer">redis-rs</a>.</p><p>To work with network connections or file handle, you can use the <code>AsyncRead</code> / <code>AsyncWrite</code> traits:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">crate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">AsyncRuntime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Sync</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Connection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AsyncRead</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AsyncWrite</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Sync</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SocketAddr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Connection</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you&#x27;ll define a module for each async runtime:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;runtime-async-std&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">mod</span><span class="token plain"> </span><span class="token module-declaration namespace">async_std_impl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;runtime-async-std&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_std_impl</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;runtime-tokio&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">mod</span><span class="token plain"> </span><span class="token module-declaration namespace">tokio_impl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;runtime-tokio&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">tokio_impl</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Where each module would look like:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">tokio_impl.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AsyncRuntime</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TokioRuntime</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Connection</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">net</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TcpStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SocketAddr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Connection</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">net</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TcpStream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">addr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Library code to use the above:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">operation</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">R</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AsyncRuntime</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">R</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Connection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">write</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">b&quot;some bytes&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="approach-3-maintain-an-async-runtime-abstraction-crate">Approach 3: Maintain an async runtime abstraction crate<a href="#approach-3-maintain-an-async-runtime-abstraction-crate" class="hash-link" aria-label="Direct link to Approach 3: Maintain an async runtime abstraction crate" title="Direct link to Approach 3: Maintain an async runtime abstraction crate">‚Äã</a></h3><p>This is the approach used by <a href="https://docs.rs/crate/sqlx-rt" target="_blank" rel="noopener noreferrer">SQLx</a> and <a href="https://docs.rs/sea-streamer-runtime/latest/sea_streamer_runtime/" target="_blank" rel="noopener noreferrer">SeaStreamer</a>.</p><p>Basically, aggregate all async runtime APIs you&#x27;d use and write a wrapper library. This may be tedious, but this also has the benefit of specifying <em>all interactions</em> with the async runtime <em>in one place</em> for <em>your</em> project, which could be handy for debugging or tracing.</p><p>For example, async <code>Task</code> handling:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">common-async-runtime/tokio_task.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinHandle</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">as</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TaskHandle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">spawn_task</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">F</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">future</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">F</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TaskHandle</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">F</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Future</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">future</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>async-std</code>&#x27;s task API is slightly different (in <code>tokio</code> the output is <code>Result&lt;T, JoinError&gt;</code>), which requires some boilerplate:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">common-async-runtime/async_std_task.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/// A shim to match tokio&#x27;s API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">TaskHandle</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">async_std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinHandle</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">spawn_task</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">F</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">future</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">F</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TaskHandle</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">F</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Future</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">TaskHandle</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">async_std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">future</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">JoinError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">error</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinError</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// This is basically how you wrap a `Future`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Future</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TaskHandle</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">T</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinError</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">poll</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">pin</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pin</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        cx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Context</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;_</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Poll</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">poll_unpin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Poll</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ready</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Poll</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ready</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Poll</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pending</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">task</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Poll</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Pending</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the library&#x27;s <code>Cargo.toml</code>, you can simply include <code>common-async-runtime</code> as dependency. This makes your library code &#x27;pure&#x27;, because now selecting an async runtime is controlled by downstream. Similar to approach 1, this crate can be compiled <em>without any</em> async runtime, which is neat!</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h3><p>Happy hacking! Welcome to share your experience with the <a href="https://github.com/SeaQL/sea-streamer/discussions" target="_blank" rel="noopener noreferrer">community</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaStreamer 0.3.x!"><link itemprop="image" href="https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-09-06-whats-new-in-sea-streamer-0.3/">What&#x27;s new in SeaStreamer 0.3</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-09-06T00:00:00.000Z" itemprop="datePublished">September 6, 2023</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><a href="https://www.sea-ql.org/SeaStreamer/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png" class="img_WBRq"></a><p>üéâ We are pleased to release SeaStreamer <a href="https://github.com/SeaQL/sea-streamer/releases/0.3.0" target="_blank" rel="noopener noreferrer"><code>0.3.x</code></a>!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="file-backend">File Backend<a href="#file-backend" class="hash-link" aria-label="Direct link to File Backend" title="Direct link to File Backend">‚Äã</a></h2><p>A major addition in SeaStreamer <code>0.3</code> is the file backend. It implements the same high-level MPMC API, enabling streaming to and from files. There are different use cases. For example, it can be used to dump data from Redis / Kafka and process them locally, or as an intermediate file format for storage or transport.</p><p>The SeaStreamer File format, <code>.ss</code> is pretty simple. It&#x27;s very much like <code>.ndjson</code>, but binary. The file format is designed with the following goals:</p><ol><li>Binary data support without encoding overheads</li><li>Efficiency in rewinding / seeking through a large dump</li><li>Streaming-friendliness - File can be truncated without losing integrity</li></ol><p>Let me explain in details.</p><p>First of all, SeaStreamer File is a container format. It only concerns the message stream and framing, not the payload. It&#x27;s designed to be paired with a binary message format like Protobuf or BSON.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="encode-free">Encode-free<a href="#encode-free" class="hash-link" aria-label="Direct link to Encode-free" title="Direct link to Encode-free">‚Äã</a></h3><p>JSON and CSV are great plain text file formats, but they are not binary friendly. Usually, to encode binary data, one would use <code>base64</code>. It therefore imposes an expensive encoding / decoding overhead. In a binary protocol, <em>delimiters</em> are frequently used to signal message boundaries. As a consequence, byte stuffing is needed to escape the bytes.</p><p>In SeaStreamer, we want to avoid the encoding overhead entirely. The payload should be written to disk verbatim. So the file format revolves around constructing message frames and placing checksums to ensure that data is interpreted correctly.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="efficient-seek">Efficient seek<a href="#efficient-seek" class="hash-link" aria-label="Direct link to Efficient seek" title="Direct link to Efficient seek">‚Äã</a></h3><p>A delimiter-based protocol has an advantage: the byte stream can be randomly sought, and we always have no trouble reading the next message.</p><p>Since SeaStreamer does not rely on delimiters, we can&#x27;t easily align to message frames after a random seek. We solve this problem by placing beacons in a regular interval at fixed locations throughout the file. E.g. say the <code>beacon interval</code> is <code>1024</code>, there will be a beacon at the 1024th byte, the 2048th, and so on. Then, every time we want to seek to a random location, we&#x27;d seek to the closest N * 1024 byte and read from there.</p><p>These beacons also double as indices: they contain summaries of the individual streams. So given a particular stream key and sequence number (or timestamp) to search for, SeaStreamer can quickly locate the message <em>just by</em> reading the beacons. It doesn&#x27;t matter if the stream&#x27;s messages are sparse!</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="streaming-friendliness">Streaming-friendliness<a href="#streaming-friendliness" class="hash-link" aria-label="Direct link to Streaming-friendliness" title="Direct link to Streaming-friendliness">‚Äã</a></h3><p>It should always be safe to truncate files. It should be relatively easy to split a file into chunks. We should be able to tell if the data is corrupted.</p><p>SeaStreamer achieves this by computing a checksum for every message, and also the running checksum of the checksums for each stream. It&#x27;s not enforced right now, but in theory we can detect if any messages are missing from a stream.</p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="summary">Summary<a href="#summary" class="hash-link" aria-label="Direct link to Summary" title="Direct link to Summary">‚Äã</a></h4><p>This file format is also easy to implement in different languages, as we just made an (experimental) <a href="https://github.com/SeaQL/sea-streamer/tree/main/sea-streamer-file/sea-streamer-file-reader" target="_blank" rel="noopener noreferrer">reader in Typescript</a>.</p><p>That&#x27;s it! If you are interested, you can go and take a look at the <a href="https://docs.rs/sea-streamer-file/latest/sea_streamer_file/format/index.html" target="_blank" rel="noopener noreferrer">format description</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="redis-backend">Redis Backend<a href="#redis-backend" class="hash-link" aria-label="Direct link to Redis Backend" title="Direct link to Redis Backend">‚Äã</a></h2><p>Redis Streams are underrated! They have high throughput and concurrency, and are best suited for non-persistent stream processing near or on the same host as the application.</p><p>The obstacle is probably in library support. Redis Streams&#x27; API is rather low level, and there aren&#x27;t many high-level libraries to help with programming, as opposed to Kafka, which has versatile official programming libraries.</p><p>The pitfall is, it&#x27;s not easy to maximize concurrency with the raw Redis API. To start, you&#x27;d need to pipeline <code>XADD</code> commands. You&#x27;d also need to time and batch <code>XACK</code>s so that it does not block reads and computation. And of course you want to separate the reads and writes on different threads.</p><p>SeaStreamer breaks these obstacles for you and offers a Kafka-like API experience!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="benchmark">Benchmark<a href="#benchmark" class="hash-link" aria-label="Direct link to Benchmark" title="Direct link to Benchmark">‚Äã</a></h2><p>In <code>0.3</code>, we have done some optimizations to improve the throughput of the Redis and File backend. We set our initial benchmark at 100k messages per second, which hopefully we can further improve over time.</p><p>Our <a href="https://github.com/SeaQL/sea-streamer/tree/main/benchmark" target="_blank" rel="noopener noreferrer">micro benchmark</a> involves a simple program producing or consuming 100k messages, where each message has a payload of 256 bytes.</p><p>For Redis, it&#x27;s running on the same computer in Docker. On my not-very-impressive laptop with a 10th Gen Intel Core i7, the numbers are somewhat around:</p><h4 class="anchor anchorWithStickyNavbar_w1X2" id="producer">Producer<a href="#producer" class="hash-link" aria-label="Direct link to Producer" title="Direct link to Producer">‚Äã</a></h4><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">redis    0.5s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">stdio    0.5s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file     0.5s</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="consumer">Consumer<a href="#consumer" class="hash-link" aria-label="Direct link to Consumer" title="Direct link to Consumer">‚Äã</a></h4><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">redis    1.0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">stdio    1.0s</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">file     1.1s</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It practically means that we are comfortably in the realm of <em>producing</em> 100k messages per second, but are just about able to <em>consume</em> 100k messages in 1 second. Suggestions to performance improvements are welcome!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL.org is an independent open-source organization run by passionate Ô∏èdevelopers. If you like our projects, please star ‚≠ê and share our repositories. If you feel generous, a small donation via <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> will be greatly appreciated, and goes a long way towards sustaining the organization üö¢.</p><p>SeaStreamer is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future ü¶Ä.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to announce SeaORM 0.12 today!"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-08-12-announcing-seaorm-0.12/">Announcing SeaORM 0.12 üêö</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-08-12T00:00:00.000Z" itemprop="datePublished">August 12, 2023</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/blog/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><img loading="lazy" alt="SeaORM 0.12 Banner" src="/blog/img/SeaORM%2012%20Banner.png" class="img_WBRq"><p>üéâ We are pleased to announce SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.12.1" target="_blank" rel="noopener noreferrer"><code>0.12</code></a> today!</p><p>We still remember the time when we first <a href="https://www.sea-ql.org/blog/2021-09-20-introducing-sea-orm/" target="_blank" rel="noopener noreferrer">introduced SeaORM</a> to the Rust community two years ago. We set out a goal to enable developers to build asynchronous database-driven applications in Rust.</p><p>Today, many open-source projects, <a href="https://www.sea-ql.org/SeaORM/index.html#our-users" target="_blank" rel="noopener noreferrer">a handful of startups</a> and many more closed-source projects are using SeaORM. Thank you all who participated and contributed in the making!</p><img loading="lazy" alt="SeaORM Star History" src="/blog/img/star-history-sea-orm-2023.png" class="img_WBRq"><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-features-">New Features üåü<a href="#new-features-" class="hash-link" aria-label="Direct link to New Features üåü" title="Direct link to New Features üåü">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_w1X2" id="-seaography-graphql-integration-preview">üß≠ <a href="https://github.com/SeaQL/seaography" target="_blank" rel="noopener noreferrer">Seaography</a>: GraphQL integration (preview)<a href="#-seaography-graphql-integration-preview" class="hash-link" aria-label="Direct link to -seaography-graphql-integration-preview" title="Direct link to -seaography-graphql-integration-preview">‚Äã</a></h3><img loading="lazy" alt="Seaography example" src="/blog/img/Seaography%20example.png" class="img_WBRq"><p>Seaography is a GraphQL framework built on top of SeaORM. In <code>0.12</code>, Seaography integration is built into <code>sea-orm</code>.
Seaography allows you to build GraphQL resolvers quickly. With just a few commands, you can launch a GraphQL server from SeaORM entities!</p><p>While Seaography development is still in an early stage, it is especially useful in prototyping and building internal-use admin panels.</p><p><a href="https://www.sea-ql.org/SeaORM/docs/seaography/seaography-intro/" target="_blank" rel="noopener noreferrer">Read the documentation</a> to learn more.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="added-macro-derivepartialmodel">Added macro <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DerivePartialModel.html" target="_blank" rel="noopener noreferrer"><code>DerivePartialModel</code></a><a href="#added-macro-derivepartialmodel" class="hash-link" aria-label="Direct link to added-macro-derivepartialmodel" title="Direct link to added-macro-derivepartialmodel">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/1597" target="_blank" rel="noopener noreferrer">#1597</a> Now you can easily perform custom select to query only the columns you needed</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DerivePartialModel, FromQueryResult)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(entity = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Cake&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">PartialCake</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        from_expr = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">r#&quot;SimpleExpr::FunctionCall(Func::upper(Expr::col((Cake, cake::Column::Name))))&quot;#</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name_upper</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_partial_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">PartialCake</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Sqlite</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;cake&quot;.&quot;name&quot;, UPPER(&quot;cake&quot;.&quot;name&quot;) AS &quot;name_upper&quot; FROM &quot;cake&quot;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="added-selectfind_with_linked">Added <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.Select.html#method.find_with_linked" target="_blank" rel="noopener noreferrer"><code>Select::find_with_linked</code></a><a href="#added-selectfind_with_linked" class="hash-link" aria-label="Direct link to added-selectfind_with_linked" title="Direct link to added-selectfind_with_linked">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/1728" target="_blank" rel="noopener noreferrer">#1728</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1743" target="_blank" rel="noopener noreferrer">#1743</a> Similar to <code>find_with_related</code>, you can now select related entities and consolidate the models.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Consider the following link</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">BakedForCustomer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Linked</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">BakedForCustomer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">FromEntity</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">ToEntity</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">customer</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">link</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">RelationDef</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">cakes_bakers</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Baker</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">rev</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">cakes_bakers</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">lineitem</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">rev</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">lineitem</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Order</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token keyword" style="color:rgb(0, 0, 255)">super</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token module-declaration namespace">order</span><span class="token module-declaration namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Customer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">baker</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">customer</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Baker</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">find_with_linked</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">baker</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BakedForCustomer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">order_by_asc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">baker</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="added-derivevaluetype-derive-macro-for-custom-wrapper-types">Added <a href="https://docs.rs/sea-orm/latest/sea_orm/derive.DeriveValueType.html" target="_blank" rel="noopener noreferrer"><code>DeriveValueType</code></a> derive macro for <a href="https://www.sea-ql.org/SeaORM/docs/generate-entity/newtype/" target="_blank" rel="noopener noreferrer">custom wrapper types</a><a href="#added-derivevaluetype-derive-macro-for-custom-wrapper-types" class="hash-link" aria-label="Direct link to added-derivevaluetype-derive-macro-for-custom-wrapper-types" title="Direct link to added-derivevaluetype-derive-macro-for-custom-wrapper-types">‚Äã</a></h3><p><a href="https://github.com/SeaQL/sea-orm/pull/1720" target="_blank" rel="noopener noreferrer">#1720</a> So now you can use newtypes easily.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;custom_value_type&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> number</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Postgres only</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> str_vec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringVec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Integer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">StringVec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which saves you the boilerplate of:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">convert</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">From</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">StringVec</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Value</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TryGetable</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringVec</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">try_get_by</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">I</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ColIdx</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">I</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TryGetError</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ValueType</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StringVec</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">try_from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">v</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ValueTypeErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">type_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;StringVec&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">array_type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ArrayType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ArrayType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">column_type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">None</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="enhancements-">Enhancements üÜô<a href="#enhancements-" class="hash-link" aria-label="Direct link to Enhancements üÜô" title="Direct link to Enhancements üÜô">‚Äã</a></h2><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1433-chained-and--or-join-on-condition"><a href="https://github.com/SeaQL/sea-orm/pull/1433" target="_blank" rel="noopener noreferrer">#1433</a> Chained AND / OR join ON condition<a href="#1433-chained-and--or-join-on-condition" class="hash-link" aria-label="Direct link to 1433-chained-and--or-join-on-condition" title="Direct link to 1433-chained-and--or-join-on-condition">‚Äã</a></h4><p>Added more macro attributes to <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DeriveRelation.html" target="_blank" rel="noopener noreferrer"><code>DeriveRelation</code></a></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Entity file</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// By default, it&#x27;s `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` AND `fruit`.`name` LIKE &#x27;%tropical%&#x27;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        has_many = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;super::fruit::Entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        on_condition = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">r#&quot;super::fruit::Column::Name.like(&quot;%tropical%&quot;)&quot;#</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">TropicalFruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Specify `condition_type = &quot;any&quot;` to override it, now it becomes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// `JOIN `fruit` ON `cake`.`id` = `fruit`.`cake_id` OR `fruit`.`name` LIKE &#x27;%tropical%&#x27;`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        has_many = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;super::fruit::Entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        on_condition = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">r#&quot;super::fruit::Column::Name.like(&quot;%tropical%&quot;)&quot;#</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)"></span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        condition_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;any&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">OrTropicalFruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1508-supports-entity-with-composite-primary-key-of-arity-12"><a href="https://github.com/SeaQL/sea-orm/pull/1508" target="_blank" rel="noopener noreferrer">#1508</a> Supports entity with composite primary key of arity 12<a href="#1508-supports-entity-with-composite-primary-key-of-arity-12" class="hash-link" aria-label="Direct link to 1508-supports-entity-with-composite-primary-key-of-arity-12" title="Direct link to 1508-supports-entity-with-composite-primary-key-of-arity-12">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;primary_key_of_12&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key, auto_increment = false)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id_1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key, auto_increment = false)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id_12</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">bool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1677-added-updatemanyexec_with_returning"><a href="https://github.com/SeaQL/sea-orm/pull/1677" target="_blank" rel="noopener noreferrer">#1677</a> Added <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.UpdateMany.html#method.exec_with_returning" target="_blank" rel="noopener noreferrer"><code>UpdateMany::exec_with_returning()</code></a><a href="#1677-added-updatemanyexec_with_returning" class="hash-link" aria-label="Direct link to 1677-added-updatemanyexec_with_returning" title="Direct link to 1677-added-updatemanyexec_with_returning">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> models</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">update_many</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col_expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec_with_returning</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1511-added-migratortraitmigration_table_name-method-to-configure-the-name-of-migration-table"><a href="https://github.com/SeaQL/sea-orm/pull/1511" target="_blank" rel="noopener noreferrer">#1511</a> Added <a href="https://docs.rs/sea-orm-migration/0.12.2/sea_orm_migration/migrator/trait.MigratorTrait.html#method.migration_table_name" target="_blank" rel="noopener noreferrer"><code>MigratorTrait::migration_table_name()</code></a> method to configure the name of migration table<a href="#1511-added-migratortraitmigration_table_name-method-to-configure-the-name-of-migration-table" class="hash-link" aria-label="Direct link to 1511-added-migratortraitmigration_table_name-method-to-configure-the-name-of-migration-table" title="Direct link to 1511-added-migratortraitmigration_table_name-method-to-configure-the-name-of-migration-table">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigratorTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migrator</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Override the name of migration table</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">migration_table_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">DynIden</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;override_migration_table_name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_iden</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1707-added-dberrsql_err-method-to-parse-common-database-errors"><a href="https://github.com/SeaQL/sea-orm/pull/1707" target="_blank" rel="noopener noreferrer">#1707</a> Added <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.DbErr.html#method.sql_err" target="_blank" rel="noopener noreferrer"><code>DbErr::sql_err()</code></a> method to parse common database errors<a href="#1707-added-dberrsql_err-method-to-parse-common-database-errors" class="hash-link" aria-label="Direct link to 1707-added-dberrsql_err-method-to-parse-common-database-errors" title="Direct link to 1707-added-dberrsql_err-method-to-parse-common-database-errors">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">matches!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expect_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Insert a row with duplicated primary key&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sql_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqlErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">UniqueConstraintViolation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">matches!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fk_cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expect_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Insert a row with invalid foreign key&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sql_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqlErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ForeignKeyConstraintViolation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1737-introduced-new-connacquireerr"><a href="https://github.com/SeaQL/sea-orm/pull/1737" target="_blank" rel="noopener noreferrer">#1737</a> Introduced new <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.ConnAcquireErr.html" target="_blank" rel="noopener noreferrer"><code>ConnAcquireErr</code></a><a href="#1737-introduced-new-connacquireerr" class="hash-link" aria-label="Direct link to 1737-introduced-new-connacquireerr" title="Direct link to 1737-introduced-new-connacquireerr">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionAcquire</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnAcquireErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">ConnAcquireErr</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Timeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionClosed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1627-added-databaseconnectionping"><a href="https://github.com/SeaQL/sea-orm/pull/1627" target="_blank" rel="noopener noreferrer">#1627</a> Added <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/error/enum.ConnAcquireErr.html" target="_blank" rel="noopener noreferrer"><code>DatabaseConnection::ping()</code></a><a href="#1627-added-databaseconnectionping" class="hash-link" aria-label="Direct link to 1627-added-databaseconnectionping" title="Direct link to 1627-added-databaseconnectionping">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">db</span><span class="token closure-params punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token closure-params"> </span><span class="token closure-params class-name" style="color:rgb(38, 127, 153)">DatabaseConnection</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">ping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">is_ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">close</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">matches!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">ping</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionAcquire</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1708-added-tryinsert-that-does-not-panic-on-empty-inserts"><a href="https://github.com/SeaQL/sea-orm/pull/1708" target="_blank" rel="noopener noreferrer">#1708</a> Added <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/query/struct.TryInsert.html" target="_blank" rel="noopener noreferrer"><code>TryInsert</code></a> that does not panic on empty inserts<a href="#1708-added-tryinsert-that-does-not-panic-on-empty-inserts" class="hash-link" aria-label="Direct link to 1708-added-tryinsert-that-does-not-panic-on-empty-inserts" title="Direct link to 1708-added-tryinsert-that-does-not-panic-on-empty-inserts">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// now, you can do:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Bakery</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">insert_many</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">iter</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">empty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_empty_do_nothing</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">matches!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">TryInsertResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Empty</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1712-insert-on-conflict-do-nothing-to-return-ok"><a href="https://github.com/SeaQL/sea-orm/pull/1712" target="_blank" rel="noopener noreferrer">#1712</a> Insert on conflict do nothing to return Ok<a href="#1712-insert-on-conflict-do-nothing-to-return-ok" class="hash-link" aria-label="Direct link to 1712-insert-on-conflict-do-nothing-to-return-ok" title="Direct link to 1712-insert-on-conflict-do-nothing-to-return-ok">‚Äã</a></h4><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> on </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">OnConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">do_nothing</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Existing behaviour</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">insert_many</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_conflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">matches!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">RecordNotInserted</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// New API; now you can:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">insert_many</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_conflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">do_nothing</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">matches!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">TryInsertResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Conflicted</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_w1X2" id="1740-1755-replacing-sea_queryiden-with-sea_ormderiveiden"><a href="https://github.com/SeaQL/sea-orm/pull/1740" target="_blank" rel="noopener noreferrer">#1740</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1755" target="_blank" rel="noopener noreferrer">#1755</a> Replacing <code>sea_query::Iden</code> with <a href="https://docs.rs/sea-orm/0.12.2/sea_orm/derive.DeriveIden.html" target="_blank" rel="noopener noreferrer"><code>sea_orm::DeriveIden</code></a><a href="#1740-1755-replacing-sea_queryiden-with-sea_ormderiveiden" class="hash-link" aria-label="Direct link to 1740-1755-replacing-sea_queryiden-with-sea_ormderiveiden" title="Direct link to 1740-1755-replacing-sea_queryiden-with-sea_ormderiveiden">‚Äã</a></h4><p>To provide a more consistent interface, <code>sea-query/derive</code> is no longer enabled by <code>sea-orm</code>, as such, <code>Iden</code> no longer works as a derive macro (it&#x27;s still a trait).</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// then:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Iden)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[iden = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;category&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">CategoryEnum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Iden)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[iden = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;AfternoonTea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EverydayTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// now:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveIden)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(iden = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;category&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">CategoryEnum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveIden)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(iden = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;AfternoonTea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EverydayTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-release-train-ferry-">New Release <del>Train</del> Ferry üö¢<a href="#new-release-train-ferry-" class="hash-link" aria-label="Direct link to new-release-train-ferry-" title="Direct link to new-release-train-ferry-">‚Äã</a></h2><p>It&#x27;s been the <strong>12th</strong> release of SeaORM! Initially, a major version was released every month. It gradually became 2 to 3 months, and now, it&#x27;s been 6 months since the last major release. As our userbase grew and some are already <a href="https://github.com/SeaQL/sea-orm/blob/master/COMMUNITY.md#startups" target="_blank" rel="noopener noreferrer">using SeaORM in production</a>, we understand the importance of having a stable API surface and feature set.</p><p>That&#x27;s why we are committed to:</p><ol><li>Reviewing breaking changes with strict scrutiny</li><li>Expanding our test suite to cover all features of our library</li><li>Never remove features, and consider deprecation carefully</li></ol><p>Today, the architecture of SeaORM is pretty solid and stable, and with the <code>0.12</code> release where we paid back a lot of technical debt, we will be able to deliver new features and enhancements without breaking. As our major dependency <a href="https://github.com/launchbadge/sqlx" target="_blank" rel="noopener noreferrer">SQLx</a> is not <code>1.0</code> yet, technically we cannot be <code>1.0</code>.</p><p>We are still advancing rapidly, and we will always make a new release as soon as SQLx makes a new release, so that you can upgrade everything at once. As a result, the next major release of SeaORM will come out <strong>6 months from now, or when SQLx makes a new release</strong>, whichever is earlier.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community-survey-"><a href="https://www.sea-ql.org/community-survey" target="_blank" rel="noopener noreferrer">Community Survey</a> üìù<a href="#community-survey-" class="hash-link" aria-label="Direct link to community-survey-" title="Direct link to community-survey-">‚Äã</a></h2><p>SeaQL is an independent open-source organization. Our goal is to enable developers to build data intensive applications in Rust. If you are using SeaORM, please participate in the <a href="https://www.sea-ql.org/community-survey" target="_blank" rel="noopener noreferrer">SeaQL Community Survey</a>!</p><p>By completing this survey, you will help us gather insights into how you, the developer, are using our libraries and identify means to improve your developer experience. We will also publish an annual survey report to summarize our findings.</p><p>If you are a happy user of SeaORM, consider <a href="https://forms.office.com/r/YbeqfTAgkJ" target="_blank" rel="noopener noreferrer">writing us a testimonial</a>!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor-">Sponsor ü•á<a href="#sponsor-" class="hash-link" aria-label="Direct link to Sponsor ü•á" title="Direct link to Sponsor ü•á">‚Äã</a></h2><p>A big thank to <a href="https://www.digitalocean.com/" target="_blank" rel="noopener noreferrer">DigitalOcean</a> who sponsored our server hosting, and <a href="https://www.jetbrains.com/" target="_blank" rel="noopener noreferrer">JetBrains</a> who sponsored our IDE, and every sponsor on <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a>!</p><p>If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/tugascript" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/64930104?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Afonso Barracha</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/trueb2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8592049?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Jacob Trueb</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/siketyan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/12772118?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Natsuki Ikeguchi</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/mmuellersoppart" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16762461?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marlon Mueller-Soppart</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/kallydev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/36319157?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">KallyDev</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/manfredcml" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/27536502?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Manfred Lee</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/rgoracz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/6758092?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Roland Gor√°cz</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Iceapinan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2698243?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">IceApinan</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/reneklacan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1935686?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ren√© Klaƒçan</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="whats-next-for-seaorm-">What&#x27;s Next for SeaORM? ‚õµ<a href="#whats-next-for-seaorm-" class="hash-link" aria-label="Direct link to What&#x27;s Next for SeaORM? ‚õµ" title="Direct link to What&#x27;s Next for SeaORM? ‚õµ">‚Äã</a></h2><p>Open-source project is a never-ending work, and we are actively looking for ways to sustain the project. You can support our endeavour by starring &amp; sharing our repositories and becoming a sponsor.</p><p>We are considering multiple directions to generate revenue for the organization. If you have any suggestion, or want to join or collaborate with us, please contact us via <code>hello[at]sea-ql.org</code>.</p><p>Thank you for your support, and together we can make open-source sustainable.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="We are pleased to introduce SeaStreamer to the Rust community today. SeaStreamer is a stream processing toolkit to help you build stream processors in Rust."><link itemprop="image" href="https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-04-03-intro-sea-streamer/">Introducing SeaStreamer üåä</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-04-03T00:00:00.000Z" itemprop="datePublished">April 3, 2023</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><a href="https://www.sea-ql.org/SeaStreamer/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/SeaStreamer/img/SeaStreamer%20banner.png" class="img_WBRq"></a><p>We are pleased to introduce <a href="https://github.com/SeaQL/sea-streamer/" target="_blank" rel="noopener noreferrer">SeaStreamer</a> to the Rust community today. SeaStreamer is a stream processing toolkit to help you build stream processors in Rust.</p><p>At SeaQL we want to make Rust the best programming platform for data engineering. Where SeaORM is the essential tool for working with SQL databases, SeaStreamer aims to be your essential toolkit for working with streams.</p><p>Currently SeaStreamer provides integration with Kafka and Redis.</p><p>Let&#x27;s have a quick tour of SeaStreamer.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="high-level-async-api">High level async API<a href="#high-level-async-api" class="hash-link" aria-label="Direct link to High level async API" title="Direct link to High level async API">‚Äã</a></h2><ul><li>High level async API that supports both <code>async-std</code> and <code>tokio</code></li><li>Mutex-free implementation<sup id="fnref-1-e1956f"><a href="#fn-1-e1956f" class="footnote-ref">1</a></sup>: concurrency achieved by message passing</li><li>A comprehensive type system that guides/restricts you with the API</li></ul><p>Below is a <a href="https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-kafka/src/bin/consumer.rs" target="_blank" rel="noopener noreferrer">basic Kafka consumer</a>:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[tokio::main]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">env_logger</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">init</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamUrl</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;kafka://streamer.sea-ql.org:9092/my_stream&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> streamer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">KafkaStreamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">streamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">KafkaConsumerOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ConsumerMode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">RealTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_auto_offset_reset</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">AutoOffsetReset</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Earliest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> consumer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">stream_keys</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> mess </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> mess</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.rs/sea-streamer/latest/sea_streamer/trait.Consumer.html#tymethod.stream" target="_blank" rel="noopener noreferrer"><code>Consumer::stream()</code></a> returns an object that implements the <a href="https://docs.rs/futures-core/latest/futures_core/stream/trait.Stream.html" target="_blank" rel="noopener noreferrer"><code>Stream</code></a> trait, which allows you to do neat things:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> items </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> consumer</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">take</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">num</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">map</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">process_message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">collect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">_</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="trait-based-abstract-interface">Trait-based abstract interface<a href="#trait-based-abstract-interface" class="hash-link" aria-label="Direct link to Trait-based abstract interface" title="Direct link to Trait-based abstract interface">‚Äã</a></h2><p>All SeaStreamer backends implement a common abstract interface, offering you a familiar API. Below is a <a href="https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-redis/src/bin/consumer.rs" target="_blank" rel="noopener noreferrer">basic Redis consumer</a>, which is nearly the same as the previous example:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[tokio::main]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">env_logger</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">init</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamUrl</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;redis://localhost:6379/my_stream&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> streamer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisStreamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">streamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisConsumerOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ConsumerMode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">RealTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_auto_stream_reset</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">AutoStreamReset</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Earliest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> consumer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">stream_keys</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">loop</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> mess </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> mess</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">message</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="redis-streams-support">Redis Streams Support<a href="#redis-streams-support" class="hash-link" aria-label="Direct link to Redis Streams Support" title="Direct link to Redis Streams Support">‚Äã</a></h2><p>SeaStreamer Redis provides a Kafka-like stream semantics:</p><ul><li>Non-group streaming with AutoStreamReset option</li><li>Consumer-group-based streaming with auto-ack and/or auto-commit</li><li>Load balancing among consumers with automatic failover</li><li>Seek/rewind to point in time</li></ul><p>You don&#x27;t have to call <code>XADD</code>, <code>XREAD</code>, <code>XACK</code>, etc... anymore!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="enum-based-generic-interface">Enum-based generic interface<a href="#enum-based-generic-interface" class="hash-link" aria-label="Direct link to Enum-based generic interface" title="Direct link to Enum-based generic interface">‚Äã</a></h2><p>The trait-based API requires you to designate the concrete <code>Streamer</code> type for monomorphization, otherwise the code cannot compile.</p><p>Akin to how SeaORM implements runtime-polymorphism, SeaStreamer provides a enum-based generic streamer, in which the backend is selected <strong><em>on runtime</em></strong>.</p><p>Here is an illustration (<a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/resumable.rs" target="_blank" rel="noopener noreferrer">full example</a>):</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// sea-streamer-socket</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">SeaConsumer</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    backend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaConsumerBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">SeaConsumerBackend</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;backend-kafka&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Kafka</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">KafkaConsumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;backend-redis&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Redis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisConsumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[cfg(feature = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;backend-stdio&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Stdio</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StdioConsumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Your code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> uri</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamerUri</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;kafka://localhost:9092&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> uri</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamerUri</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;redis://localhost:6379&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> uri</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamerUri</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;stdio://&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">parse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// SeaStreamer will be backed by Kafka, Redis or Stdio depending on the URI</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> streamer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaStreamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">uri</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Set backend-specific options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaConsumerOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ConsumerMode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Resumable</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_kafka_consumer_options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">options</span><span class="token closure-params punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token closure-params"> </span><span class="token closure-params operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token closure-params keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token closure-params"> </span><span class="token closure-params class-name" style="color:rgb(38, 127, 153)">KafkaConsumerOptions</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_redis_consumer_options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">options</span><span class="token closure-params punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token closure-params"> </span><span class="token closure-params operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token closure-params keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token closure-params"> </span><span class="token closure-params class-name" style="color:rgb(38, 127, 153)">RedisConsumerOptions</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaConsumer</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream_keys</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// You can still retrieve the concrete type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> kafka</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">KafkaConsumer</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get_kafka</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> redis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RedisConsumer</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get_redis</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So you can &quot;write once, stream anywhere&quot;!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="good-old-unix-pipe">Good old unix pipe<a href="#good-old-unix-pipe" class="hash-link" aria-label="Direct link to Good old unix pipe" title="Direct link to Good old unix pipe">‚Äã</a></h2><p>In SeaStreamer, <code>stdin</code> &amp; <code>stdout</code> can be used as stream source and sink.</p><p>Say you are developing some processors to transform a stream in several stages:</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">./processor_1 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--input</span><span class="token plain"> kafka://localhost:9092/input </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--output</span><span class="token plain"> kafka://localhost:9092/stage_1 </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">./processor_2 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--input</span><span class="token plain"> kafka://localhost:9092/stage_1 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--output</span><span class="token plain"> kafka://localhost:9092/stage_2 </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">./processor_3 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--input</span><span class="token plain"> kafka://localhost:9092/stage_2 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--output</span><span class="token plain"> kafka://localhost:9092/output </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It would be great if we can simply <strong><em>pipe</em></strong> the processors together right?</p><p>With SeaStreamer, you can do the following:</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">./processor_1 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--input</span><span class="token plain"> kafka://localhost:9092/input </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--output</span><span class="token plain"> stdio:///stream </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">./processor_2 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--input</span><span class="token plain"> stdio:///stream </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--output</span><span class="token plain"> stdio:///stream </span><span class="token operator" style="color:rgb(0, 0, 0)">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">./processor_3 </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--input</span><span class="token plain"> stdio:///stream </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">--output</span><span class="token plain"> kafka://localhost:9092/output</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>All <strong><em>without recompiling</em></strong> the stream processors! Now, you can develop locally with the comfort of using <code>|</code>, <code>&gt;</code>, <code>&lt;</code> and your favourite unix program in the shell.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="testable">Testable<a href="#testable" class="hash-link" aria-label="Direct link to Testable" title="Direct link to Testable">‚Äã</a></h2><p>SeaStreamer encourages you to write tests at all levels:</p><ul><li>You can execute tests involving several <em>stream processors</em> in the same <em>OS process</em></li><li>You can execute tests involving several <em>OS processes</em> by connecting them with pipes</li><li>You can execute tests involving several <em>stream processors</em> with Redis / Kafka</li></ul><p>All against the same piece of code! Let SeaStreamer take away the boilerplate and mocking facility from your codebase.</p><p>Below is an example of <a href="https://github.com/SeaQL/sea-streamer/blob/main/sea-streamer-stdio/tests/loopback.rs" target="_blank" rel="noopener noreferrer">intra-process testing</a>, which can be run with <code>cargo test</code> without any dependency or side-effects:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stream </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> options </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StdioConnectOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_loopback</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// messages produced will be feed back to consumers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> streamer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StdioStreamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamerUri</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">zero</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> producer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_producer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> consumer </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> streamer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> i </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> mess </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> i</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    producer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">mess</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> seq </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">collect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> consumer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">seq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="getting-started">Getting started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting started" title="Direct link to Getting started">‚Äã</a></h2><p>If you are eager to get started with SeaStreamer, you can checkout our <a href="https://github.com/SeaQL/sea-streamer/tree/main/examples" target="_blank" rel="noopener noreferrer">set of examples</a>:</p><ul><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/consumer.rs" target="_blank" rel="noopener noreferrer"><code>consumer</code></a>: A basic consumer</li><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/producer.rs" target="_blank" rel="noopener noreferrer"><code>producer</code></a>: A basic producer</li><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/processor.rs" target="_blank" rel="noopener noreferrer"><code>processor</code></a>: A basic stream processor</li><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/resumable.rs" target="_blank" rel="noopener noreferrer"><code>resumable</code></a>: A resumable stream processor that continues from where it left off</li><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/buffered.rs" target="_blank" rel="noopener noreferrer"><code>buffered</code></a>: An advanced stream processor with internal buffering and batch processing</li><li><a href="https://github.com/SeaQL/sea-streamer/blob/main/examples/src/bin/blocking.rs" target="_blank" rel="noopener noreferrer"><code>blocking</code></a>: An advanced stream processor for handling blocking / CPU-bound tasks</li></ul><p>Read the official <a href="https://www.sea-ql.org/SeaStreamer/docs/index/" target="_blank" rel="noopener noreferrer">documentation</a> to learn more.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">‚Äã</a></h2><p>A few major components we <a href="https://www.sea-ql.org/SeaStreamer/docs/whats-next/roadmap/" target="_blank" rel="noopener noreferrer">plan to develop</a>:</p><ul><li>File Backend</li><li>Redis Cluster</li></ul><p>We welcome you to join our <a href="https://github.com/SeaQL/sea-streamer/discussions" target="_blank" rel="noopener noreferrer">Discussions</a> if you have thoughts or ideas!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="people">People<a href="#people" class="hash-link" aria-label="Direct link to People" title="Direct link to People">‚Äã</a></h2><p>SeaStreamer is designed and developed by the same mind who brought you <a href="https://github.com/SeaQL/sea-orm/" target="_blank" rel="noopener noreferrer">SeaORM</a>:</p><div class="container"><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL.org is an independent open-source organization run by passionate Ô∏èdevelopers. If you like our projects, please star ‚≠ê and share our repositories. If you feel generous, a small donation via <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> will be greatly appreciated, and goes a long way towards sustaining the organization üö¢.</p><p>SeaStreamer is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future ü¶Ä.</p><div class="footnotes"><hr><ol><li id="fn-1-e1956f">except <code>sea-streamer-stdio</code>, but only contends on consumer add/drop<a href="#fnref-1-e1956f" class="footnote-backref">‚Ü©</a></li></ol></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.11.0!"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-02-08-whats-new-in-seaorm-0.11.0/">What&#x27;s new in SeaORM 0.11.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-02-08T00:00:00.000Z" itemprop="datePublished">February 8, 2023</time> ¬∑ <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.11.0" target="_blank" rel="noopener noreferrer"><code>0.11.0</code></a>!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="data-loader">Data Loader<a href="#data-loader" class="hash-link" aria-label="Direct link to Data Loader" title="Direct link to Data Loader">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1443" target="_blank" rel="noopener noreferrer">#1443</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1238" target="_blank" rel="noopener noreferrer">#1238</a>] The <a href="https://docs.rs/sea-orm/*/sea_orm/query/trait.LoaderTrait.html" target="_blank" rel="noopener noreferrer">LoaderTrait</a> provides an API to load related entities in batches.</p><p>Consider this one to many relation:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cake_with_fruits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">find_with_related</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The generated SQL is:</p><div class="language-sql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;A_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;A_name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;B_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;B_name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">AS</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;B_cake_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">LEFT</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">JOIN</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ON</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ASC</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The 1 side&#x27;s (Cake) data will be duplicated. If N is a large number, this would results in more data being transferred over the wire. Using the Loader would ensure each model is transferred only once.</p><p>The following loads the same data as above, but with two queries:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> fruits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">load_many</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> fruits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> cakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_iter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">zip</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">fruits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_iter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can even apply filters on the related entity:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> fruits_in_stock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">load_many</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">filter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Stock</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">gt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">0i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    db</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-sql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;stock&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">AND</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To learn more, read the <a href="https://www.sea-ql.org/SeaORM/docs/relation/data-loader/" target="_blank" rel="noopener noreferrer">relation docs</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="transaction-isolation-level-and-access-mode">Transaction Isolation Level and Access Mode<a href="#transaction-isolation-level-and-access-mode" class="hash-link" aria-label="Direct link to Transaction Isolation Level and Access Mode" title="Direct link to Transaction Isolation Level and Access Mode">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1230" target="_blank" rel="noopener noreferrer">#1230</a>] The <a href="https://docs.rs/sea-orm/*/sea_orm/trait.TransactionTrait.html#tymethod.transaction_with_config" target="_blank" rel="noopener noreferrer"><code>transaction_with_config</code></a> and <a href="https://docs.rs/sea-orm/*/sea_orm/trait.TransactionTrait.html#tymethod.begin_with_config" target="_blank" rel="noopener noreferrer"><code>begin_with_config</code></a> allows you to specify the <a href="https://docs.rs/sea-orm/*/sea_orm/enum.IsolationLevel.html" target="_blank" rel="noopener noreferrer">IsolationLevel</a> and <a href="https://docs.rs/sea-orm/*/sea_orm/enum.AccessMode.html" target="_blank" rel="noopener noreferrer">AccessMode</a>.</p><p>For now, they are only implemented for MySQL and Postgres. In order to align their semantic difference, MySQL will execute <code>SET TRANSACTION</code> commands before begin transaction, while Postgres will execute <code>SET TRANSACTION</code> commands after begin transaction.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">transaction_with_config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">txn</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IsolationLevel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ReadCommitted</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">AccessMode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ReadOnly</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> transaction </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> db</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">begin_with_config</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">IsolationLevel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ReadCommitted</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">AccessMode</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ReadOnly</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To learn more, read the <a href="https://www.sea-ql.org/SeaORM/docs/advanced-query/transaction/" target="_blank" rel="noopener noreferrer">transaction docs</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="cast-column-type-on-select-and-save">Cast Column Type on Select and Save<a href="#cast-column-type-on-select-and-save" class="hash-link" aria-label="Direct link to Cast Column Type on Select and Save" title="Direct link to Cast Column Type on Select and Save">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1304" target="_blank" rel="noopener noreferrer">#1304</a>] If you need to select a column as one type but save it into the database as another, you can specify the <code>select_as</code> and the <code>save_as</code> attributes to perform the casting. A typical use case is selecting a column of type <code>citext</code> (case-insensitive text) as <code>String</code> in Rust and saving it into the database as <code>citext</code>. One should define the model field as below:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;ci_table&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(select_as = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;text&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, save_as = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;citext&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> case_insensitive_text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="changes-to-activemodelbehavior">Changes to <code>ActiveModelBehavior</code><a href="#changes-to-activemodelbehavior" class="hash-link" aria-label="Direct link to changes-to-activemodelbehavior" title="Direct link to changes-to-activemodelbehavior">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1328" target="_blank" rel="noopener noreferrer">#1328</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1145" target="_blank" rel="noopener noreferrer">#1145</a>] The methods of <code>ActiveModelBehavior</code> now have <code>Connection</code> as an additional parameter. It enables you to perform database operations, for example, logging the changes made to the existing model or validating the data before inserting it.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// Create a new ActiveModel with default values. Also used by `Default::default()`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new_v4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelTrait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// Will be triggered before insert / update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">before_save</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">bool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionTrait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// Logging changes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">edit_log</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            action</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;before_save&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">serde_json</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">json!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To learn more, read the <a href="https://www.sea-ql.org/SeaORM/docs/generate-entity/entity-structure/#active-model-behavior" target="_blank" rel="noopener noreferrer">entity docs</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="execute-unprepared-sql-statement">Execute Unprepared SQL Statement<a href="#execute-unprepared-sql-statement" class="hash-link" aria-label="Direct link to Execute Unprepared SQL Statement" title="Direct link to Execute Unprepared SQL Statement">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1327" target="_blank" rel="noopener noreferrer">#1327</a>] You can execute an unprepared SQL statement with <a href="https://docs.rs/sea-orm/*/sea_orm/trait.ConnectionTrait.html#tymethod.execute_unprepared" target="_blank" rel="noopener noreferrer"><code>ConnectionTrait::execute_unprepared</code></a>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Use `execute_unprepared` if the SQL statement doesn&#x27;t have value bindings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">execute_unprepared</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;CREATE TABLE `cake` (</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">        `id` int NOT NULL AUTO_INCREMENT PRIMARY KEY,</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">        `name` varchar(255) NOT NULL</span><br></span><span class="token-line" style="color:#000000"><span class="token string" style="color:rgb(163, 21, 21)">    )&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Construct a `Statement` if the SQL contains value bindings</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stmt </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_sql_and_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get_database_backend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;INSERT INTO `cake` (`name`) VALUES (?)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Cheese Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">execute</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stmt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="select-into-tuple">Select Into Tuple<a href="#select-into-tuple" class="hash-link" aria-label="Direct link to Select Into Tuple" title="Direct link to Select Into Tuple">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1311" target="_blank" rel="noopener noreferrer">#1311</a>] You can select a tuple (or single value) with the <a href="https://docs.rs/sea-orm/*/sea_orm/struct.Selector.html#method.into_tuple" target="_blank" rel="noopener noreferrer"><code>into_tuple</code></a> method.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">select_only</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">group_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_tuple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="atomic-migration">Atomic Migration<a href="#atomic-migration" class="hash-link" aria-label="Direct link to Atomic Migration" title="Direct link to Atomic Migration">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1379" target="_blank" rel="noopener noreferrer">#1379</a>] Migration will be executed in Postgres atomically that means migration scripts will be executed inside a transaction. Changes done to the database will be rolled back if the migration failed. However, atomic migration is not supported in MySQL and SQLite.</p><p>You can start a transaction inside each migration to perform operations like <a href="https://www.sea-ql.org/SeaORM/docs/migration/seeding-data/#seeding-data-transactionally" target="_blank" rel="noopener noreferrer">seeding sample data</a> for a newly created table.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="types-support">Types Support<a href="#types-support" class="hash-link" aria-label="Direct link to Types Support" title="Direct link to Types Support">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1325" target="_blank" rel="noopener noreferrer">#1325</a>] Support various UUID formats that are available in <code>uuid::fmt</code> module</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;uuid_fmt&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> uuid_braced</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">uuid</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">fmt</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Braced</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> uuid_hyphenated</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">uuid</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">fmt</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Hyphenated</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> uuid_simple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">uuid</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">fmt</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Simple</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> uuid_urn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">uuid</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">fmt</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Urn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1210" target="_blank" rel="noopener noreferrer">#1210</a>] Support vector of enum for Postgres</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Clone, PartialEq, Eq, EnumIter, DeriveActiveEnum)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rs_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;String&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, db_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Enum&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, enum_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;tea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;EverydayTea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EverydayTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;BreakfastTea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">BreakfastTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;enum_vec&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> teas</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> teas_opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1414" target="_blank" rel="noopener noreferrer">#1414</a>] Support <code>ActiveEnum</code> field as primary key</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;enum_primary_key&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key, auto_increment = false)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> category</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Category</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="opt-in-unstable-internal-apis">Opt-in Unstable Internal APIs<a href="#opt-in-unstable-internal-apis" class="hash-link" aria-label="Direct link to Opt-in Unstable Internal APIs" title="Direct link to Opt-in Unstable Internal APIs">‚Äã</a></h2><p>By enabling <code>sea-orm-internal</code> feature you opt-in unstable internal APIs including:</p><ul><li>Accessing the inner connection pool of SQLx with <a href="https://docs.rs/sea-orm/*/sea_orm/enum.DatabaseConnection.html#impl-DatabaseConnection-2" target="_blank" rel="noopener noreferrer"><code>get_*_connection_pool</code></a> method</li><li>Re-exporting <a href="https://docs.rs/sea-orm/*/sea_orm/error/index.html" target="_blank" rel="noopener noreferrer">SQLx errors types</a>: <code>SqlxError</code>, <code>SqlxMySqlError</code>, <code>SqlxPostgresError</code> and <code>SqlxSqliteError</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">‚Äã</a></h2><ul><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1366" target="_blank" rel="noopener noreferrer">#1366</a>] <code>sea-query</code> has been upgraded to <a href="https://github.com/SeaQL/sea-query/releases/tag/0.28.0" target="_blank" rel="noopener noreferrer"><code>0.28.x</code></a>, which comes with some improvements and breaking changes. Please follow the release notes for more details</p></li><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1420" target="_blank" rel="noopener noreferrer">#1420</a>] sea-orm-cli: <code>generate entity</code> command enable <code>--universal-time</code> flag by default</p></li><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1425" target="_blank" rel="noopener noreferrer">#1425</a>] Added <code>RecordNotInserted</code> and <code>RecordNotUpdated</code> to <code>DbErr</code></p></li><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1327" target="_blank" rel="noopener noreferrer">#1327</a>] Added <code>ConnectionTrait::execute_unprepared</code> method</p></li><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1311" target="_blank" rel="noopener noreferrer">#1311</a>] The required method of <code>TryGetable</code> changed:</p></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">try_get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> pre</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TryGetError</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// now; ColIdx can be `&amp;str` or `usize`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">try_get_by</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">I</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ColIdx</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">I</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TryGetError</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>So if you implemented it yourself:</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">impl TryGetable for XXX {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)">   fn try_get(res: &amp;QueryResult, pre: &amp;str, col: &amp;str) -&gt; Result&lt;Self, TryGetError&gt; {</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   fn try_get_by&lt;I: sea_orm::ColIdx&gt;(res: &amp;QueryResult, idx: I) -&gt; Result&lt;Self, TryGetError&gt; {</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)">       let value: YYY = res.try_get(pre, col).map_err(TryGetError::DbErr)?;</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">       let value: YYY = res.try_get_by(idx).map_err(TryGetError::DbErr)?;</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       ..</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1328" target="_blank" rel="noopener noreferrer">#1328</a>] The <code>ActiveModelBehavior</code> trait becomes async trait.
If you overridden the default <code>ActiveModelBehavior</code> implementation:</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">before_save</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">bool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionTrait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1425" target="_blank" rel="noopener noreferrer">#1425</a>] <code>DbErr::RecordNotFound(&quot;None of the database rows are affected&quot;)</code> is moved to a dedicated error variant <code>DbErr::RecordNotUpdated</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Cheese Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain">model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">RecordNotFound</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;None of the database rows are affected&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">RecordNotUpdated</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1395" target="_blank" rel="noopener noreferrer">#1395</a>] <code>sea_orm::ColumnType</code> was replaced by <code>sea_query::ColumnType</code><ul><li>Method <code>ColumnType::def</code> was moved to <code>ColumnTypeTrait</code></li><li><code>ColumnType::Binary</code> becomes a tuple variant which takes in additional option <code>sea_query::BlobSize</code></li><li><code>ColumnType::Custom</code> takes a <code>sea_query::DynIden</code> instead of <code>String</code> and thus a new method <code>custom</code> is added (note the lowercase)</li></ul></li></ul><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">// Compact Entity</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[sea_orm(table_name = &quot;fruit&quot;)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub struct Model {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)">   #[sea_orm(column_type = r#&quot;Custom(&quot;citext&quot;.to_owned())&quot;#)]</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   #[sea_orm(column_type = r#&quot;custom(&quot;citext&quot;)&quot;#)]</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub column: String,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">// Expanded Entity</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">impl ColumnTrait for Column {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   type EntityName = Entity;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   fn def(&amp;self) -&gt; ColumnDef {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       match self {</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)">           Self::Column =&gt; ColumnType::Custom(&quot;citext&quot;.to_owned()).def(),</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">           Self::Column =&gt; ColumnType::custom(&quot;citext&quot;).def(),</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   }</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="seaorm-enhancements">SeaORM Enhancements<a href="#seaorm-enhancements" class="hash-link" aria-label="Direct link to SeaORM Enhancements" title="Direct link to SeaORM Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1256" target="_blank" rel="noopener noreferrer">#1256</a>] Refactor schema module to expose functions for database alteration</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1346" target="_blank" rel="noopener noreferrer">#1346</a>] Generate compact entity with <code>#[sea_orm(column_type = &quot;JsonBinary&quot;)]</code> macro attribute</li><li><code>MockDatabase::append_exec_results()</code>, <code>MockDatabase::append_query_results()</code>, <code>MockDatabase::append_exec_errors()</code> and <code>MockDatabase::append_query_errors()</code> [<a href="https://github.com/SeaQL/sea-orm/pull/1367" target="_blank" rel="noopener noreferrer">#1367</a>] take any types implemented <code>IntoIterator</code> trait</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1362" target="_blank" rel="noopener noreferrer">#1362</a>] <code>find_by_id</code> and <code>delete_by_id</code> take any <code>Into</code> primary key value</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1410" target="_blank" rel="noopener noreferrer">#1410</a>] <code>QuerySelect::offset</code> and <code>QuerySelect::limit</code> takes in <code>Into&lt;Option&lt;u64&gt;&gt;</code> where <code>None</code> would reset them</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1236" target="_blank" rel="noopener noreferrer">#1236</a>] Added <code>DatabaseConnection::close</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1381" target="_blank" rel="noopener noreferrer">#1381</a>] Added <code>is_null</code> getter for <code>ColumnDef</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1177" target="_blank" rel="noopener noreferrer">#1177</a>] Added <code>ActiveValue::reset</code> to convert <code>Unchanged</code> into <code>Set</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1415" target="_blank" rel="noopener noreferrer">#1415</a>] Added <code>QueryTrait::apply_if</code> to optionally apply a filter</li><li>Added the <code>sea-orm-internal</code> feature flag to expose some SQLx types<ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1297" target="_blank" rel="noopener noreferrer">#1297</a>] Added <code>DatabaseConnection::get_*_connection_pool()</code> for accessing the inner SQLx connection pool</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1434" target="_blank" rel="noopener noreferrer">#1434</a>] Re-exporting SQLx errors</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="cli-enhancements">CLI Enhancements<a href="#cli-enhancements" class="hash-link" aria-label="Direct link to CLI Enhancements" title="Direct link to CLI Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/846" target="_blank" rel="noopener noreferrer">#846</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1186" target="_blank" rel="noopener noreferrer">#1186</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1318" target="_blank" rel="noopener noreferrer">#1318</a>] Generate <code>#[serde(skip_deserializing)]</code> for primary key columns</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1171" target="_blank" rel="noopener noreferrer">#1171</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1320" target="_blank" rel="noopener noreferrer">#1320</a>] Generate <code>#[serde(skip)]</code> for hidden columns</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1124" target="_blank" rel="noopener noreferrer">#1124</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1321" target="_blank" rel="noopener noreferrer">#1321</a>] Generate entity with extra derives and attributes for model struct</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples <a href="https://github.com/SeaQL/sea-orm/issues/269" target="_blank" rel="noopener noreferrer">wanted</a>!</p><ul><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example" target="_blank" rel="noopener noreferrer">Actix v4 Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example" target="_blank" rel="noopener noreferrer">Axum Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example" target="_blank" rel="noopener noreferrer">GraphQL Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example" target="_blank" rel="noopener noreferrer">jsonrpsee Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example" target="_blank" rel="noopener noreferrer">Poem Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example" target="_blank" rel="noopener noreferrer">Rocket Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example" target="_blank" rel="noopener noreferrer">Salvo Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example" target="_blank" rel="noopener noreferrer">Tonic Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! SeaQL.org is an independent open-source organization run by passionate developers. If you enjoy using SeaORM, please star and share our repositories. If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the project.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/tugascript" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/64930104?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Afonso Barracha</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/DominoTree" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/5438118?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Nick Price</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/rgoracz" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/6758092?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Roland Gor√°cz</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/hgiesel" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7188844?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Henrik Giesel</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/trueb2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8592049?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Jacob Trueb</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/siketyan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/12772118?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Naoki Ikeguchi</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/manfredcml" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/27536502?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Manfred Lee</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/marcusbuffett" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1834328?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marcus Buffett</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/efrain2007" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/65697999?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">efrain2007</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="whats-next">What&#x27;s Next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next?" title="Direct link to What&#x27;s Next?">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and build together for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/12" target="_blank" rel="noopener noreferrer"><code>0.12.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="FAQ.02 Why the empty enum Relation {} is needed even if an Entity has no relations?"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-02-05-faq-02/">SeaORM FAQ.02</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-02-05T00:00:00.000Z" itemprop="datePublished">February 5, 2023</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_w1X2" id="faq02-why-the-empty-enum-relation--is-needed-even-if-an-entity-has-no-relations">FAQ.02 Why the empty enum <code>Relation {}</code> is needed even if an Entity has no relations?<a href="#faq02-why-the-empty-enum-relation--is-needed-even-if-an-entity-has-no-relations" class="hash-link" aria-label="Direct link to faq02-why-the-empty-enum-relation--is-needed-even-if-an-entity-has-no-relations" title="Direct link to faq02-why-the-empty-enum-relation--is-needed-even-if-an-entity-has-no-relations">‚Äã</a></h2><p>Consider the following example <a href="https://github.com/SeaQL/sea-orm/blob/master/examples/actix_example/entity/src/post.rs" target="_blank" rel="noopener noreferrer">Post</a> Entity:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;posts&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> title</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> text</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The two lines for defining <code>Relation</code> is quite unnecessary right?</p><p>To explain the problem, let&#x27;s dive slightly deeper into the macro-expanded entity:</p><p>The <code>DeriveRelation</code> macro simply implements the <code>RelationTrait</code>:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RelationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">RelationDef</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            _ </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">unreachable!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Which in turn is needed by <code>EntityTrait</code> as an associated type:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EntityTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It would be ideal if, when the user does not specify this associated type, the library automatically fills in a stub to satisfy the type system?</p><p>Turns out, there is such a feature in Rust! It is an unstable feature called <a href="https://rust-lang.github.io/rfcs/2532-associated-type-defaults.html" target="_blank" rel="noopener noreferrer"><code>associated_type_defaults</code></a>.</p><p>Basically, it allows trait definitions to specify a default associated type, allowing it to be elided:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// only compiles in nightly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">EntityTrait</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyRelation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Due to our commitment to stable Rust, this may not land in SeaORM very soon. When it is stabilized, do remind us to implement this feature to get rid of those two lines!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="SeaQL.org offer internships tailored to university students. In fact, it will be the 3rd cohort in 2023."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-01-28-internship-at-seaql/">Internship @ SeaQL</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-01-28T00:00:00.000Z" itemprop="datePublished">January 28, 2023</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>SeaQL.org offer internships tailored to university students. In fact, it will be the 3rd cohort in 2023.</p><p>The internships normally take place during summer and winter semester breaks. During the internship period, you will work on a project dedicatedly and publish the project‚Äôs outcome at the end.</p><p>The striking aspect of our mode of operation is it covers the entire lifecycle of software development, from Design ‚û°Ô∏è Implementation ‚û°Ô∏è Testing ‚û°Ô∏è Delivery. You will be amazed of how much you can achieve in such a short period of time!</p><p>To date <a href="https://www.sea-ql.org/StarfishQL/" target="_blank" rel="noopener noreferrer">StarfishQL ‚ú¥Ô∏è</a> and <a href="https://www.sea-ql.org/Seaography/" target="_blank" rel="noopener noreferrer">Seaography üß≠</a> are great projects our team has created in the past year. We pride ourselves on careful planning, consistent execution, and pragmatic approach in software engineering. I spend a huge amount of time on idea evaluation: if the scope of the project is too small, it will be uninteresting, but if it is too large, it will fail to be delivered.</p><p>Fellow undergraduates, here are a few good reasons why you should participate in internships at an open-source organization like SeaQL:</p><ol><li>A tangible showcase on CV: open-source work is published, inspectable and has real-world impact. We will also ensure that it has good branding, graphics, and visibility.</li><li>Not driven by a business process, we do not compromise on quality of work. We do not have a proprietary development process, so it‚Äôs all open-source tools with transferable skills.</li><li>You will contribute to the community and will interact with people across the world. Collaboration on open source is the best thing humanity ever invented. You will only believe me when you have experienced it first-hand.</li><li>Because you are the driver of the project you work on, it allows you to uncover something more about yourself, in particular - abilities and discipline: you always have had under/over-estimated yourself in one aspect or another.</li></ol><p>Here are several things you are going to learn:</p><ol><li>&quot;Thinking &gt; Programming&quot;: the more time you spend on thinking beforehand, the better the code you are going to write. And the more time you spend on reviewing afterwards, the better the code is going to be.</li><li>How to organize a codebase. Make good use of the Rust type system to craft a modular, testable codebase.</li><li>Test automation. Every SeaQL project is continuously tested, and this is an integral part of our engineering process.</li><li>Documentation. Our software aims to provide good documentation that is comprehensive, easy to follow, and fun to read.</li><li>Performance tuning. Depending on the project, we might do some benchmarking and optimization. But in general we put you off from writing code that creates unnecessary overhead.</li></ol><p>We were a mentor organization in <a href="https://summerofcode.withgoogle.com/programs/2022/organizations/seaql" target="_blank" rel="noopener noreferrer">GSoC 2022</a> and may be in 2023 (update: we were not accepted into GSoC 2023). We also offer internships outside of GSoC. So, what are the requirements when you become a contributor?</p><ol><li>Be passionate. You must show your passion in open-source and software engineering, so a good GitHub profile with some participation is needed.</li><li>Be dedicated. This is a full-time job. While being fully remote and flexible on hours, you must have no other commitment or duties during the stipulated internship period.</li><li>Be open-minded. You should listen carefully to your mentors and act on their advice accordingly.</li><li>Write more. Communicate your thoughts and progress on all channels in an organized manner.</li></ol><p>Don‚Äôt just listen to me though. Here is what our past interns says:</p><ul><li><a href="https://github.com/shpun817" target="_blank" rel="noopener noreferrer">Sanford Pun</a> - in the team that created StarfishQL ‚ú¥Ô∏è: <a href="https://shpun817.github.io/2023/01/21/interning-at-vision-cortex-and-seaql/" target="_blank" rel="noopener noreferrer">Interning at Vision Cortex and SeaQL</a></li><li><a href="https://github.com/karatakis" target="_blank" rel="noopener noreferrer">Panagiotis Karatakis</a> - in the team that created Seaography üß≠: <a href="https://karatakis.com/blog/my-gsoc-experience" target="_blank" rel="noopener noreferrer">My GSoC Experience</a></li></ul><p>Be well-prepared for your upcoming career in this technology industry! Follow us on <a href="https://github.com/SeaQL/" target="_blank" rel="noopener noreferrer">GitHub</a> and <a href="https://twitter.com/sea_ql" target="_blank" rel="noopener noreferrer">Twitter</a> now, and stay tuned for future announcements.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="We are calling for contributors and reviewers for SeaQL projects üì¢!"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2023-01-01-call-for-contributors-n-reviewers/">Call for Contributors and Reviewers üì¢</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2023-01-01T00:00:00.000Z" itemprop="datePublished">January 1, 2023</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Founder</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are calling for contributors and reviewers for SeaQL projects üì¢!</p><p>The SeaQL userbase has been steadily growing in the past year, and it‚Äôs a pleasure for us to have helped individuals and start-ups to build their projects in Rust. However, the volume of questions, issues and pull requests is nearly saturating our core members‚Äô capacity.</p><p>But again, thank you everyone for participating in the community!</p><p>If your project depends on SeaQL and you want to help us, here are some suggestions (if you have not already, star <a href="https://github.com/orgs/SeaQL/repositories?q=&amp;type=all&amp;language=&amp;sort=stargazers" target="_blank" rel="noopener noreferrer">all our repositories</a> and follow us on <a href="https://twitter.com/sea_ql" target="_blank" rel="noopener noreferrer">Twitter</a>):</p><ol><li>Financial Contribution. You can <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">sponsor us on GitHub</a> and those will be used to cover our expenses. As a courtesy, we listen to our sponsors for their needs and use cases, and we also communicate our organizational development from time-to-time.</li><li>Code Contribution. Opening a PR with us is always appreciated! To get started, you can go through our issue trackers and pick one to handle. If you are thinking of developing a substantial feature, start with drafting a <a href="https://github.com/SeaQL/sea-orm/issues?q=is%3Aissue+%5BPIP%5D" target="_blank" rel="noopener noreferrer">&quot;Proposal &amp; Implementation Plan&quot; (PIP)</a>.</li><li>Knowledge Contribution. There are various formats of knowledge sharing: <a href="https://github.com/SeaQL/sea-orm-tutorial" target="_blank" rel="noopener noreferrer">tutorial</a>, <a href="https://github.com/SeaQL/sea-orm-cookbook" target="_blank" rel="noopener noreferrer">cookbook</a>, <a href="https://github.com/SeaQL/sea-orm/discussions/categories/q-a" target="_blank" rel="noopener noreferrer">QnA</a> and Discord. You can open PRs to our <a href="https://github.com/SeaQL/seaql.github.io" target="_blank" rel="noopener noreferrer">documentation</a> repositories or publish on your own. We will be happy to list it in our learning resources section. Keep an eye on our GitHub Discussions and Discord and help others where you can!</li><li>Code Review. This is an important process of our engineering. Right now, only 3 of our core members serve as reviewers. Non-core members can also become reviewers and I invite you to become one!</li></ol><p>Now, I‚Äôd like to outline our review policy: for maturing projects, each PR merged has to be approved by at least two reviewers and one of them must be a core member; self-review allowed. Here are some examples:</p><ul><li>A core member opened a PR, another core member approved ‚úÖ </li><li>A core member opened a PR, a reviewer approved ‚úÖ</li><li>A reviewer opened a PR, a core member approved ‚úÖ</li><li>A reviewer opened a PR, another reviewer approved ‚õî</li><li>A contributor opened a PR, 2 core members approved ‚úÖ</li><li>A contributor opened a PR, a core member and a reviewer approved ‚úÖ</li><li>A contributor opened a PR, 2 reviewers approved ‚õî</li></ul><p>In a nutshell, at least two pairs of trusted eyes should have gone through each PR.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="what-are-the-criteria-when-reviewing-a-pr">What are the criteria when reviewing a PR?<a href="#what-are-the-criteria-when-reviewing-a-pr" class="hash-link" aria-label="Direct link to What are the criteria when reviewing a PR?" title="Direct link to What are the criteria when reviewing a PR?">‚Äã</a></h3><p>The following questions should all be answered yes.</p><ol><li>Implementation, documentation and tests<ol><li>Is the implementation easy to follow (have meaningful variable and function names)?</li><li>Is there sufficient document to the API?</li><li>Are there adequate tests covering various cases?</li></ol></li><li>API design<ol><li>Is the API self-documenting so users can understand its use easily?</li><li>Is the API style consistent with our existing API?</li><li>Does the API made reasonable use of the type system to enforce constraints?</li><li>Are the failure paths and error messages clear?</li><li>Are all breaking changes justified and documented?</li></ol></li><li>Functionality<ol><li>Does the feature make sense in computer science terms?</li><li>Does the feature actually work with all our supported backends?</li><li>Are all caveats discussed and eliminated / documented?</li></ol></li><li>Architecture<ol><li>Does it fit with the existing architecture of our codebase?</li><li>Is it not going to create technical debt / maintenance burden?</li><li>Does it not break abstraction?</li></ol></li></ol><p>1, 2 &amp; 3 are fairly objective and factual, however the answers to 4 probably require some discussion and debate. If a consensus cannot be made, <a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer">@tyt2y3</a> will make the final verdict.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="who-are-the-current-reviewers">Who are the current reviewers?<a href="#who-are-the-current-reviewers" class="hash-link" aria-label="Direct link to Who are the current reviewers?" title="Direct link to Who are the current reviewers?">‚Äã</a></h3><p>As of today, SeaQL has 3 core members who are also reviewers:</p><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div>Founder. Maintains all projects.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div>Founding member. Co-maintainer of SeaORM and Seaography.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/ikrivosheev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/6786239?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ivan Krivosheev</div>Joined in 2022. Co-maintainer of SeaQuery.</div></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="how-to-become-a-reviewer">How to become a reviewer?<a href="#how-to-become-a-reviewer" class="hash-link" aria-label="Direct link to How to become a reviewer?" title="Direct link to How to become a reviewer?">‚Äã</a></h3><p>We are going to invite a few contributors we worked closely with, but you can also volunteer ‚Äì the requirement is: you have made substantial code contribution to our projects, and has shown familiarity with our <a href="https://www.sea-ql.org/blog/2022-07-30-engineering/" target="_blank" rel="noopener noreferrer">engineering practices</a>.</p><p>Over time, when you have made significant contribution to our organization, you can also become a core member.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="lets-build-for-rusts-future-together-">Let‚Äôs build for Rust&#x27;s future together ü¶Ä<a href="#lets-build-for-rusts-future-together-" class="hash-link" aria-label="Direct link to Let‚Äôs build for Rust&#x27;s future together ü¶Ä" title="Direct link to Let‚Äôs build for Rust&#x27;s future together ü¶Ä">‚Äã</a></h3></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaQuery 0.28.0! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-12-30-whats-new-in-seaquery-0.28.0/">What&#x27;s new in SeaQuery 0.28.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-12-30T00:00:00.000Z" itemprop="datePublished">December 30, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Ivan Krivosheev</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaQuery <a href="https://github.com/SeaQL/sea-query/releases/tag/0.28.0" target="_blank" rel="noopener noreferrer"><code>0.28.0</code></a>! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-idenstatic-trait-for-static-identifier">New <code>IdenStatic</code> trait for static identifier<a href="#new-idenstatic-trait-for-static-identifier" class="hash-link" aria-label="Direct link to new-idenstatic-trait-for-static-identifier" title="Direct link to new-idenstatic-trait-for-static-identifier">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/pull/508" target="_blank" rel="noopener noreferrer">#508</a>] Representing a identifier with <code>&amp;&#x27;static str</code>. The <code>IdenStatic</code> trait looks like this:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">IdenStatic</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Iden</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Copy</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token lifetime-annotation symbol">&#x27;static</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can derive it easily for your existing <code>Iden</code>. Just changing the <code>#[derive(Iden)]</code> into <code>#[derive(IdenStatic)]</code>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(IdenStatic)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">User</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">FirstName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">LastName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[iden = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;_email&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">User</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;_email&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="new-pgexpr-and-sqliteexpr-traits-for-backend-specific-expressions">New <code>PgExpr</code> and <code>SqliteExpr</code> traits for backend specific expressions<a href="#new-pgexpr-and-sqliteexpr-traits-for-backend-specific-expressions" class="hash-link" aria-label="Direct link to new-pgexpr-and-sqliteexpr-traits-for-backend-specific-expressions" title="Direct link to new-pgexpr-and-sqliteexpr-traits-for-backend-specific-expressions">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/pull/519" target="_blank" rel="noopener noreferrer">#519</a>] Postgres specific and SQLite specific expressions are being moved into its corresponding trait. You need to import the trait into scope before construct the expression with those backend specific methods.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Importing `PgExpr` trait before constructing Postgres expression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">extension</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">postgres</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">PgExpr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">columns</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Variant</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Language</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">and_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;a&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">concatenate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;b&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">concat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;c&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">concat</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;d&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;name&quot;, &quot;variant&quot;, &quot;language&quot; FROM &quot;font&quot; WHERE &#x27;a&#x27; || &#x27;b&#x27; || &#x27;c&#x27; || &#x27;d&#x27;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Importing `SqliteExpr` trait before constructing SQLite expression</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">extension</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">sqlite</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteExpr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">and_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">matches</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;a&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;name&quot; FROM &quot;font&quot; WHERE &quot;name&quot; MATCH &#x27;a&#x27;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="bug-fixes">Bug Fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">‚Äã</a></h2><ul><li>Wrap unions into parenthesis <a href="https://github.com/SeaQL/sea-query/pull/498" target="_blank" rel="noopener noreferrer">https://github.com/SeaQL/sea-query/pull/498</a></li><li>Syntax error on empty condition <a href="https://github.com/SeaQL/sea-query/pull/505" target="_blank" rel="noopener noreferrer">https://github.com/SeaQL/sea-query/pull/505</a></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// given</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cond</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cond</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// empty all() =&gt; TRUE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cond</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// empty any() =&gt; FALSE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// old behavior</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT `id` FROM `glyph`&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// new behavior</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT `id` FROM `glyph` WHERE (TRUE) OR (FALSE)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// a complex example</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Cond</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cond</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cond</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT `id` FROM `glyph` WHERE NOT ((NOT TRUE) AND (NOT FALSE))&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/535" target="_blank" rel="noopener noreferrer">#535</a>] MSRV is up to 1.62</li></ul><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># Make sure you&#x27;re running SeaQuery with Rust 1.62+ ü¶Ä</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">$ rustup update</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/492" target="_blank" rel="noopener noreferrer">#492</a>] <code>ColumnType::Array</code> definition changed from <code>Array(SeaRc&lt;Box&lt;ColumnType&gt;&gt;)</code> to <code>Array(SeaRc&lt;ColumnType&gt;)</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/475" target="_blank" rel="noopener noreferrer">#475</a>] <code>Func::*</code> now returns <code>FunctionCall</code> instead of <code>SimpleExpr</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/475" target="_blank" rel="noopener noreferrer">#475</a>] <code>Func::coalesce</code> now accepts <code>IntoIterator&lt;Item = SimpleExpr&gt;</code> instead of <code>IntoIterator&lt;Item = Into&lt;SimpleExpr&gt;</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/475" target="_blank" rel="noopener noreferrer">#475</a>] Removed <code>Expr::arg</code> and <code>Expr::args</code> - these functions are no longer needed</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/507" target="_blank" rel="noopener noreferrer">#507</a>] Moved all Postgres specific operators to <code>PgBinOper</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/476" target="_blank" rel="noopener noreferrer">#476</a>] <code>Expr</code> methods used to accepts <code>Into&lt;Value&gt;</code> now accepts <code>Into&lt;SimpleExpr&gt;</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/476" target="_blank" rel="noopener noreferrer">#476</a>] <code>Expr::is_in</code>, <code>Expr::is_not_in</code> now accepts <code>Into&lt;SimpleExpr&gt;</code> instead of <code>Into&lt;Value&gt;</code> and convert it to <code>SimpleExpr::Tuple</code> instead of <code>SimpleExpr::Values</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/475" target="_blank" rel="noopener noreferrer">#475</a>] <code>Expr::expr</code> now accepts <code>Into&lt;SimpleExpr&gt;</code> instead of <code>SimpleExpr</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/519" target="_blank" rel="noopener noreferrer">#519</a>] Moved Postgres specific <code>Expr</code> methods to new trait <code>PgExpr</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/528" target="_blank" rel="noopener noreferrer">#528</a>] <code>Expr::equals</code> now accepts <code>C: IntoColumnRef</code> instead of <code>T: IntoIden, C: IntoIden</code></li></ul><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">use sea_query::{*, tests_cfg::*};</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">let query = Query::select()</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .columns([Char::Character, Char::SizeW, Char::SizeH])</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .from(Char::Table)</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .and_where(</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       Expr::col((Char::Table, Char::FontId))</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)">           .equals(Font::Table, Font::Id)</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">           .equals((Font::Table, Font::Id))</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   )</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   .to_owned();</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">assert_eq!(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   query.to_string(MysqlQueryBuilder),</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   r#&quot;SELECT `character`, `size_w`, `size_h` FROM `character` WHERE `character`.`font_id` = `font`.`id`&quot;#</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/525" target="_blank" rel="noopener noreferrer">#525</a>] Removed integer and date time column types&#x27; display length / precision option</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="api-additions">API Additions<a href="#api-additions" class="hash-link" aria-label="Direct link to API Additions" title="Direct link to API Additions">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/475" target="_blank" rel="noopener noreferrer">#475</a>] Added <code>SelectStatement::from_function</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnRef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Asterisk</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_function</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Func</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">random</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;func&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT * FROM RAND() AS `func`&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/486" target="_blank" rel="noopener noreferrer">#486</a>] Added binary operators from the Postgres <code>pg_trgm</code> extension</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">extension</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">postgres</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">PgBinOper</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PgBinOper</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">WordSimilarity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;serif&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Font</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;name&quot; &lt;% &#x27;serif&#x27; FROM &quot;font&quot;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/473" target="_blank" rel="noopener noreferrer">#473</a>] Added <code>ILIKE</code> and <code>NOT ILIKE</code> operators</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/510" target="_blank" rel="noopener noreferrer">#510</a>] Added the <code>mul</code> and <code>div</code> methods for <code>SimpleExpr</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/513" target="_blank" rel="noopener noreferrer">#513</a>] Added the <code>MATCH</code>, <code>-&gt;</code> and <code>-&gt;&gt;</code> operators for SQLite</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">extension</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">sqlite</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteBinOper</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">and_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">binary</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteBinOper</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Match</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;character&quot; FROM &quot;character&quot; WHERE &quot;character&quot; MATCH ?&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/497" target="_blank" rel="noopener noreferrer">#497</a>] Added the <code>FULL OUTER JOIN</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/530" target="_blank" rel="noopener noreferrer">#530</a>] Added <code>PgFunc::get_random_uuid</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/528" target="_blank" rel="noopener noreferrer">#528</a>] Added <code>SimpleExpr::eq</code>, <code>SimpleExpr::ne</code>, <code>Expr::not_equals</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/529" target="_blank" rel="noopener noreferrer">#529</a>] Added <code>PgFunc::starts_with</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/535" target="_blank" rel="noopener noreferrer">#535</a>] Added <code>Expr::custom_keyword</code> and <code>SimpleExpr::not</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">custom_keyword</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;test&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT test&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT test&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT test&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/539" target="_blank" rel="noopener noreferrer">#539</a>] Added <code>SimpleExpr::like</code>, <code>SimpleExpr::not_like</code> and <code>Expr::cast_as</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/532" target="_blank" rel="noopener noreferrer">#532</a>] Added support for <code>NULLS NOT DISTINCT</code> clause for Postgres</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/531" target="_blank" rel="noopener noreferrer">#531</a>] Added <code>Expr::cust_with_expr</code> and <code>Expr::cust_with_exprs</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">cust_with_expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;data @? ($1::JSONPATH)&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hello&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT data @? (&#x27;hello&#x27;::JSONPATH)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/538" target="_blank" rel="noopener noreferrer">#538</a>] Added support for converting <code>&amp;String</code> to Value</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="miscellaneous-enhancements">Miscellaneous Enhancements<a href="#miscellaneous-enhancements" class="hash-link" aria-label="Direct link to Miscellaneous Enhancements" title="Direct link to Miscellaneous Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/475" target="_blank" rel="noopener noreferrer">#475</a>] New struct <code>FunctionCall</code> which hold function and arguments</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/503" target="_blank" rel="noopener noreferrer">#503</a>] Support <code>BigDecimal</code>, <code>IpNetwork</code> and <code>MacAddress</code> for <code>sea-query-postgres</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/511" target="_blank" rel="noopener noreferrer">#511</a>] Made <code>value::with_array</code> module public and therefore making <code>NotU8</code> trait public</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/524" target="_blank" rel="noopener noreferrer">#524</a>] Drop the <code>Sized</code> requirement on implementers of <code>SchemaBuilders</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaQuery plays well with the other crates in the rust ecosystem. </p><ul><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/postgres" target="_blank" rel="noopener noreferrer">Postgres Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite" target="_blank" rel="noopener noreferrer">Rusqlite Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any" target="_blank" rel="noopener noreferrer">SQLx Any Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres" target="_blank" rel="noopener noreferrer">SQLx Postgres Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql" target="_blank" rel="noopener noreferrer">SQLx MySql Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite" target="_blank" rel="noopener noreferrer">SQLx Sqlite Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release Seaography 0.3.0! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-12-02-whats-new-in-seaography-0.3.0/">What&#x27;s new in Seaography 0.3.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-12-02T00:00:00.000Z" itemprop="datePublished">December 2, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Panagiotis Karatakis</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release Seaography <a href="https://github.com/SeaQL/seaography/releases/tag/0.3.0" target="_blank" rel="noopener noreferrer"><code>0.3.0</code></a>! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="dependency-upgrade">Dependency Upgrade<a href="#dependency-upgrade" class="hash-link" aria-label="Direct link to Dependency Upgrade" title="Direct link to Dependency Upgrade">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/seaography/pull/93" target="_blank" rel="noopener noreferrer">#93</a>] We have upgraded a major dependency:</p><ul><li>Upgrade <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer"><code>sea-orm</code></a> to 0.10</li></ul><p>You might need to upgrade the corresponding dependency in your application as well.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-self-referencing-relation">Support Self Referencing Relation<a href="#support-self-referencing-relation" class="hash-link" aria-label="Direct link to Support Self Referencing Relation" title="Direct link to Support Self Referencing Relation">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/seaography/pull/99" target="_blank" rel="noopener noreferrer">#99</a>] You can now query self referencing models and the inverse of it.</p><p>Self referencing relation should be added to the <code>Relation</code> enum, note that the <code>belongs_to</code> attribute must be <code>belongs_to = &quot;Entity&quot;</code>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    Clone, Debug, PartialEq, DeriveEntityModel,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    async_graphql::SimpleObject, seaography::macros::Filter,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;staff&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[graphql(complex)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[graphql(name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Staff&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> staff_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> first_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> last_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> reports_to_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    Copy, Clone, Debug, EnumIter, DeriveRelation,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    seaography::macros::RelationsCompact</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        belongs_to = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        from = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Column::ReportsToId&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">        to = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Column::StaffId&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">,</span><br></span><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">SelfRef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, you can query the related models in GraphQL.</p><div class="language-graphql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-graphql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token object">staff</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token object">nodes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token property">firstName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token property">reportsToId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token object">selfRefReverse</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">staffId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">firstName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token object">selfRef</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">staffId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">firstName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The resulting JSON</p><div class="language-json codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-json codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">&quot;staff&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">&quot;nodes&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Mike&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;reportsToId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;selfRefReverse&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;staffId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Jon&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;selfRef&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(0, 0, 255)">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Jon&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;reportsToId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;selfRefReverse&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token null keyword" style="color:rgb(0, 0, 255)">null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;selfRef&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token property">&quot;staffId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Mike&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="web-framework-generator">Web Framework Generator<a href="#web-framework-generator" class="hash-link" aria-label="Direct link to Web Framework Generator" title="Direct link to Web Framework Generator">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/seaography/pull/74" target="_blank" rel="noopener noreferrer">#74</a>] You can generate <code>seaography</code> project with either Actix or Poem as the web server.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="cli-generator-option">CLI Generator Option<a href="#cli-generator-option" class="hash-link" aria-label="Direct link to CLI Generator Option" title="Direct link to CLI Generator Option">‚Äã</a></h3><p>Run <code>seaography-cli</code> to generate <code>seaography</code> code with Actix or Poem as the web framework.</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># The command take three arguments, generating project with Poem web framework by default</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">DATABASE_URL</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">CRATE_NAME</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">DESTINATION</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># Generating project with Actix web framework</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli </span><span class="token parameter variable" style="color:rgb(9, 134, 88)">-f</span><span class="token plain"> actix </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">DATABASE_URL</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">CRATE_NAME</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">DESTINATION</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli mysql://root:root@localhost/sakila seaography-mysql-example examples/mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># PostgreSQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli postgres://root:root@localhost/sakila seaography-postgres-example examples/postgres</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SQLite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli sqlite://examples/sqlite/sakila.db seaography-sqlite-example examples/sqliteql</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="actix">Actix<a href="#actix" class="hash-link" aria-label="Direct link to Actix" title="Direct link to Actix">‚Äã</a></h3><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">dataloader</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">http</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyMutation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptySubscription</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql_actix_web</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLRequest</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLResponse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">seaography_example_project</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpResponse</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpResponse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">content_type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;text/html; charset=utf-8&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">body</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token function" style="color:rgb(0, 0, 255)">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;http://localhost:8000&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[actix_web::main]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">io</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> database </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db_url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> orm_dataloader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryRoot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyMutation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptySubscription</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">orm_dataloader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">finish</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">App</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">app_data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">service</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">web</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">resource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">guard</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">guard</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Post</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">service</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">web</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">resource</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">guard</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">guard</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">HttpServer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;127.0.0.1:8000&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="poem">Poem<a href="#poem" class="hash-link" aria-label="Direct link to Poem" title="Direct link to Poem">‚Äã</a></h3><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">dataloader</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">http</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyMutation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptySubscription</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql_poem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">poem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">listener</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TcpListener</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">web</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Html</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IntoResponse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Route</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Server</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">seaography_example_project</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[handler]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IntoResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Html</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[tokio::main]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> database </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db_url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> orm_dataloader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryRoot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyMutation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptySubscription</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">orm_dataloader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">finish</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Route</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">post</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Server</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">TcpListener</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0.0.0.0:8000&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="related-query-enhancement">Related Query Enhancement<a href="#related-query-enhancement" class="hash-link" aria-label="Direct link to Related Query Enhancement" title="Direct link to Related Query Enhancement">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/seaography/pull/84" target="_blank" rel="noopener noreferrer">#84</a>] Filtering, sorting and paginating related 1-to-many queries. Note that the pagination is work-in-progress, currently it is in memory pagination.</p><p>For example, find all inactive customers, include their address, and their payments with amount greater than 7 ordered by amount the second result. You can execute the query below at our <a href="https://playground.sea-ql.org/seaography" target="_blank" rel="noopener noreferrer">GraphQL playground</a>.</p><div class="language-graphql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-graphql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property-query">customer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attr-name" style="color:rgb(255, 0, 0)">filters</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">active</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attr-name" style="color:rgb(255, 0, 0)">pagination</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">limit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Int[3]:271&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token object">nodes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">customerId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">lastName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">email</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token object">address</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">address</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property-query">payment</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token attr-name" style="color:rgb(255, 0, 0)">filters</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">amount</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">gt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;7&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token attr-name" style="color:rgb(255, 0, 0)">orderBy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">amount</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">ASC</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token attr-name" style="color:rgb(255, 0, 0)">pagination</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">limit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token object">nodes</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">paymentId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">amount</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">pages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token property">current</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token object">pageInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">hasPreviousPage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">hasNextPage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token object">pageInfo</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">hasPreviousPage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">hasNextPage</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">endCursor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>We have the following examples for you, alongside with the SQL scripts to initialize the database.</p><ul><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/mysql" target="_blank" rel="noopener noreferrer">MySQL</a></li><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/postgres" target="_blank" rel="noopener noreferrer">PostgreSQL</a></li><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/sqlite" target="_blank" rel="noopener noreferrer">SQLite</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.10.0!"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-11-10-whats-new-in-0.10.x/">What&#x27;s new in SeaORM 0.10.x</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-11-10T00:00:00.000Z" itemprop="datePublished">November 10, 2022</time> ¬∑ <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.10.0" target="_blank" rel="noopener noreferrer"><code>0.10.0</code></a>!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rust-165">Rust 1.65<a href="#rust-165" class="hash-link" aria-label="Direct link to Rust 1.65" title="Direct link to Rust 1.65">‚Äã</a></h2><p>The long-anticipated Rust <a href="https://blog.rust-lang.org/2022/11/03/Rust-1.65.0.html" target="_blank" rel="noopener noreferrer">1.65</a> has been released! Generic associated types (GATs) must be the hottest newly-stabilized feature.</p><p>How is GAT useful to SeaORM? Let&#x27;s take a look at the following:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">StreamTrait</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Sync</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Stream</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Item</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        stmt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Pin</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Box</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">dyn</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Future</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can see that the <code>Future</code> has a lifetime <code>&#x27;a</code>, but as a side effect the lifetime is tied to <code>StreamTrait</code>.</p><p>With GAT, the lifetime can be elided:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">StreamTrait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Sync</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Stream</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Stream</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Item</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryResult</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">stream</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        stmt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Pin</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Box</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">dyn</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Future</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Output</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Stream</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Send</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What benefit does it bring in practice? Consider you have a function that accepts a generic <code>ConnectionTrait</code> and calls <code>stream()</code>: </p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">processor</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionTrait</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamTrait</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token lifetime-annotation symbol">&#x27;a</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The fact that the lifetime of the connection is tied to the stream can create confusion to the compiler, most likely when you are making transactions:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">do_transaction</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionTrait</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TransactionTrait</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> txn </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">begin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token function" style="color:rgb(0, 0, 255)">processor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">txn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    txn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">commit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>But now, with the lifetime of the stream elided, it&#x27;s much easier to work on streams inside transactions because the two lifetimes are now distinct and the stream&#x27;s lifetime is implicit:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">processor</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">C</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectionTrait</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">+</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StreamTrait</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Big thanks to <a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer">@nappa85</a> for the <a href="https://github.com/SeaQL/sea-orm/pull/1161" target="_blank" rel="noopener noreferrer">contribution</a>.</p><hr><p>Below are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-array-data-types-in-postgres">Support Array Data Types in Postgres<a href="#support-array-data-types-in-postgres" class="hash-link" aria-label="Direct link to Support Array Data Types in Postgres" title="Direct link to Support Array Data Types in Postgres">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1132" target="_blank" rel="noopener noreferrer">#1132</a>] Support model field of type <code>Vec&lt;T&gt;</code>. (by <a href="https://github.com/hf29h8sh321" target="_blank" rel="noopener noreferrer">@hf29h8sh321</a>, <a href="https://github.com/ikrivosheev" target="_blank" rel="noopener noreferrer">@ikrivosheev</a>, <a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer">@tyt2y3</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</p><p>You can define a vector of types that are already supported by SeaORM in the model.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;collection&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> integers</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> integers_opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> floats</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">f32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> doubles</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">f64</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> strings</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Keep in mind that you need to enable the <code>postgres-array</code> feature and this is a Postgres only feature.</p><div class="language-toml codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-toml codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token key property">sea-orm</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token key property">version</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0.10&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token key property">features</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;postgres-array&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="better-error-types">Better Error Types<a href="#better-error-types" class="hash-link" aria-label="Direct link to Better Error Types" title="Direct link to Better Error Types">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/750" target="_blank" rel="noopener noreferrer">#750</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1002" target="_blank" rel="noopener noreferrer">#1002</a>] Error types with parsable database specific error. (by <a href="https://github.com/mohs8421" target="_blank" rel="noopener noreferrer">@mohs8421</a>, <a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer">@tyt2y3</a>)</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> mud_cake </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Moldy Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    price</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">dec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10.25</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    gluten_free</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    serial</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new_v4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    bakery_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">None</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Insert a new cake with its primary key (`id` column) set to 1.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cake </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> mud_cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">save</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could not insert cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Insert the same row again and it failed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// because primary key of each row should be unique.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cake</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expect_err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;inserting should fail due to duplicate primary key&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> error </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">RuntimeErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqlxError</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">match</span><span class="token plain"> error </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Error</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// We check the error code thrown by the database (MySQL in this case),</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// `23000` means `ER_DUP_KEY`: we have a duplicate key in the table.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">e</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">code</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;23000&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        _ </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">panic!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Unexpected sqlx-error kind&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    _ </span><span class="token operator" style="color:rgb(0, 0, 0)">=&gt;</span><span class="token plain"> </span><span class="token macro property">panic!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Unexpected Error kind&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="run-migration-on-any-postgres-schema">Run Migration on Any Postgres Schema<a href="#run-migration-on-any-postgres-schema" class="hash-link" aria-label="Direct link to Run Migration on Any Postgres Schema" title="Direct link to Run Migration on Any Postgres Schema">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1056" target="_blank" rel="noopener noreferrer">#1056</a>] By default migration will be run on the <code>public</code> schema, you can now override it when running migration on the CLI or programmatically. (by <a href="https://github.com/MattGson" target="_blank" rel="noopener noreferrer">@MattGson</a>, <a href="https://github.com/nahuakang" target="_blank" rel="noopener noreferrer">@nahuakang</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</p><p>For CLI, you can specify the target schema with <code>-s</code> / <code>--database_schema</code> option:</p><ul><li>via sea-orm-cli: <code>sea-orm-cli migrate -u postgres://root:root@localhost/database -s my_schema</code></li><li>via SeaORM migrator: <code>cargo run -- -u postgres://root:root@localhost/database -s my_schema</code></li></ul><p>You can also run the migration on the target schema programmatically:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> connect_options </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;postgres://root:root@localhost/database&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_schema_search_path</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;my_schema&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Override the default schema</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> db </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">connect_options</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Migrator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">None</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">‚Äã</a></h2><ul><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/789" target="_blank" rel="noopener noreferrer">#789</a>] Replaced <code>usize</code> with <code>u64</code> in <code>PaginatorTrait</code> (by <a href="https://github.com/liberwang1013" target="_blank" rel="noopener noreferrer">@liberwang1013</a>)</p></li><li><p>[<a href="https://github.com/SeaQL/sea-orm/pull/1002" target="_blank" rel="noopener noreferrer">#1002</a>] Type signature of <code>DbErr</code> changed as a result of the PR (by <a href="https://github.com/mohs8421" target="_blank" rel="noopener noreferrer">@mohs8421</a>, <a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer">@tyt2y3</a>)</p></li><li><p><code>ColumnType::Enum</code> structure changed:</p></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">ColumnType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Enum</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/// Name of enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DynIden</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">/// Variants of enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        variants</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">DynIden</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li>A new method <code>array_type</code> was added to <code>ValueType</code>:</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ValueType</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MyType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">array_type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ArrayType</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ArrayType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TypeName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>ActiveEnum::name()</code> changed return type to <code>DynIden</code>:</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Iden)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[iden = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;category&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">CategoryEnum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveEnum</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Category</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// then</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;category&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DynIden</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">SeaRc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">CategoryEnum</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="seaorm-enhancements">SeaORM Enhancements<a href="#seaorm-enhancements" class="hash-link" aria-label="Direct link to SeaORM Enhancements" title="Direct link to SeaORM Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/995" target="_blank" rel="noopener noreferrer">#995</a>] Support <code>time</code> crate for SQLite (by <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/902" target="_blank" rel="noopener noreferrer">#902</a>] Support <code>distinct</code> &amp; <code>distinct_on</code> expression (by <a href="https://github.com/edg" target="_blank" rel="noopener noreferrer">@edg</a>-l, <a href="https://github.com/kyoto7250" target="_blank" rel="noopener noreferrer">@kyoto7250</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/973" target="_blank" rel="noopener noreferrer">#973</a>] <code>fn column()</code> also handle enum type (by <a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer">@tyt2y3</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/897" target="_blank" rel="noopener noreferrer">#897</a>] Added <code>acquire_timeout</code> on <code>ConnectOptions</code> (by <a href="https://github.com/001wwang" target="_blank" rel="noopener noreferrer">@001wwang</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1020" target="_blank" rel="noopener noreferrer">#1020</a>] Better compile error for entity without primary key (by <a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer">@Sytten</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/833" target="_blank" rel="noopener noreferrer">#833</a>] Added blanket implementations of <code>IntoActiveValue</code> for <code>Option</code> values (by <a href="https://github.com/wdcocq" target="_blank" rel="noopener noreferrer">@wdcocq</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1112" target="_blank" rel="noopener noreferrer">#1112</a>] Added <code>into_model</code> &amp; <code>into_json</code> to <code>Cursor</code> (by <a href="https://github.com/jukanntenn" target="_blank" rel="noopener noreferrer">@jukanntenn</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1056" target="_blank" rel="noopener noreferrer">#1056</a>] Added <code>set_schema_search_path</code> method to <code>ConnectOptions</code> for setting schema search path of PostgreSQL connection (by <a href="https://github.com/MattGson" target="_blank" rel="noopener noreferrer">@MattGson</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1042" target="_blank" rel="noopener noreferrer">#1042</a>] Serialize <code>time</code> types as <code>serde_json::Value</code> (by <a href="https://github.com/jimmycuadra" target="_blank" rel="noopener noreferrer">@jimmycuadra</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/986" target="_blank" rel="noopener noreferrer">#986</a>] Implements <code>fmt::Display</code> for <code>ActiveEnum</code> (by <a href="https://github.com/jesseduffield" target="_blank" rel="noopener noreferrer">@jesseduffield</a>, <a href="https://github.com/billy264" target="_blank" rel="noopener noreferrer">@billy264</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/990" target="_blank" rel="noopener noreferrer">#990</a>] Implements <code>TryFrom&lt;ActiveModel&gt;</code> for <code>Model</code> (by <a href="https://github.com/MattGson" target="_blank" rel="noopener noreferrer">@MattGson</a>, <a href="https://github.com/greenhandatsjtu" target="_blank" rel="noopener noreferrer">@greenhandatsjtu</a>)</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="cli-enhancements">CLI Enhancements<a href="#cli-enhancements" class="hash-link" aria-label="Direct link to CLI Enhancements" title="Direct link to CLI Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1052" target="_blank" rel="noopener noreferrer">#1052</a>] Escape module name defined with Rust keywords (by <a href="https://github.com/andy128k" target="_blank" rel="noopener noreferrer">@andy128k</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/879" target="_blank" rel="noopener noreferrer">#879</a>, <a href="https://github.com/SeaQL/sea-orm/pull/1155" target="_blank" rel="noopener noreferrer">#1155</a>] Check to make sure migration name doesn&#x27;t contain hyphen <code>-</code> in it (by <a href="https://github.com/AngelOnFira" target="_blank" rel="noopener noreferrer">@AngelOnFira</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/953" target="_blank" rel="noopener noreferrer">#953</a>] Generate entity files as a library or module (by <a href="https://github.com/viktorbahr" target="_blank" rel="noopener noreferrer">@viktorbahr</a>, <a href="https://github.com/HigherOrderLogic" target="_blank" rel="noopener noreferrer">@HigherOrderLogic</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/947" target="_blank" rel="noopener noreferrer">#947</a>] Generate a new migration template with name prefix of unix timestamp (by <a href="https://github.com/Animeshz" target="_blank" rel="noopener noreferrer">@Animeshz</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/933" target="_blank" rel="noopener noreferrer">#933</a>] Generate migration in modules (by <a href="https://github.com/remlse" target="_blank" rel="noopener noreferrer">@remlse</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1019" target="_blank" rel="noopener noreferrer">#1019</a>] Generate <code>DeriveRelation</code> on empty <code>Relation</code> enum (by <a href="https://github.com/alper" target="_blank" rel="noopener noreferrer">@alper</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/988" target="_blank" rel="noopener noreferrer">#988</a>] Generate entity derive <code>Eq</code> if possible (by <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>, <a href="https://github.com/w93163red" target="_blank" rel="noopener noreferrer">@w93163red</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/1056" target="_blank" rel="noopener noreferrer">#1056</a>] Run migration on any PostgreSQL schema (by <a href="https://github.com/MattGson" target="_blank" rel="noopener noreferrer">@MattGson</a>, <a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer">@billy1624</a>)</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/864" target="_blank" rel="noopener noreferrer">#864</a>, <a href="https://github.com/SeaQL/sea-orm/pull/991" target="_blank" rel="noopener noreferrer">#991</a>] <code>migrate fresh</code> command will drop all PostgreSQL types (by <a href="https://github.com/MaderNoob" target="_blank" rel="noopener noreferrer">@MaderNoob</a>, <a href="https://github.com/karpa4o4" target="_blank" rel="noopener noreferrer">@karpa4o4</a>)</li></ul><p>Please check <a href="https://github.com/SeaQL/sea-orm/blob/master/CHANGELOG.md#0101---2022-10-27" target="_blank" rel="noopener noreferrer">here</a> for the complete changelog.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples <a href="https://github.com/SeaQL/sea-orm/issues/269" target="_blank" rel="noopener noreferrer">wanted</a>!</p><ul><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example" target="_blank" rel="noopener noreferrer">Actix v4 Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example" target="_blank" rel="noopener noreferrer">Axum Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example" target="_blank" rel="noopener noreferrer">GraphQL Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example" target="_blank" rel="noopener noreferrer">jsonrpsee Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example" target="_blank" rel="noopener noreferrer">Poem Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example" target="_blank" rel="noopener noreferrer">Rocket Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example" target="_blank" rel="noopener noreferrer">Salvo Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example" target="_blank" rel="noopener noreferrer">Tonic Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/hgiesel" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7188844?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Henrik Giesel</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/trueb2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8592049?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Jacob Trueb</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/marcusbuffett" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1834328?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marcus Buffett</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/11" target="_blank" rel="noopener noreferrer"><code>0.11.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Not long ago we opened a PR &quot;Toggle stacked download graph #5010&quot; resolving Convert download chart from stacked chart to regular chart #3876 for crates.io."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io/">Toggle Stacked Download Graph in crates.io</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-11-09T00:00:00.000Z" itemprop="datePublished">November 9, 2022</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/30400950?v=4" alt="Billy Chan" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Billy Chan</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Not long ago we opened a PR &quot;<a href="https://github.com/rust-lang/crates.io/pull/5010" target="_blank" rel="noopener noreferrer">Toggle stacked download graph #5010</a>&quot; resolving <a href="https://github.com/rust-lang/crates.io/issues/3876" target="_blank" rel="noopener noreferrer">Convert download chart from stacked chart to regular chart #3876</a> for <a href="https://github.com/rust-lang/crates.io" target="_blank" rel="noopener noreferrer">crates.io</a>.</p><p>What&#x27;s it all about?</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="problem">Problem<a href="#problem" class="hash-link" aria-label="Direct link to Problem" title="Direct link to Problem">‚Äã</a></h2><p>The download graph on crates.io used to be a stacked graph. With download count of older versions stack on top of newer versions. You might misinterpret the numbers. Consider this, at the first glance, it seems that version 0.9.2 has 1,500+ downloads on Nov 7. But in fact, it has only 237 downloads that day because the graph is showing the cumulative downloads.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/30400950/200738670-4266e178-7952-4e05-bff0-c2445ba345bf.png" alt="crates.io Stacked Download Graph" class="img_WBRq"></p><p>This makes it hard to compare the download trend of different versions over time. Why this is important? You may ask. It&#x27;s important to observe the adoption rate of newer version upon release. This paints a general picture if existing users are upgrading to newer version or not.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="solution">Solution<a href="#solution" class="hash-link" aria-label="Direct link to Solution" title="Direct link to Solution">‚Äã</a></h2><p>The idea is simple but effective: having a dropdown to toggle between stacked and unstacked download graph. With this, one can switch between both display mode, comparing the download trend of different version and observing the most download version in the past 90 days are straightforward and intuitive.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/30400950/200741006-6a5e1922-de38-456b-b33d-dfc4ce2f8a93.png" alt="crates.io Unstacked Download Graph" class="img_WBRq"></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>This is a great tool for us to gauge the adoption rate of our new releases and we highly encourage user upgrading to newer release that contains feature updates and bug fixes.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaQuery 0.27.0! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-10-31-whats-new-in-seaquery-0.27.0/">What&#x27;s new in SeaQuery 0.27.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-10-31T00:00:00.000Z" itemprop="datePublished">October 31, 2022</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Ivan Krivosheev</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaQuery <a href="https://github.com/SeaQL/sea-query/releases/tag/0.27.0" target="_blank" rel="noopener noreferrer"><code>0.27.0</code></a>! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="dependency-upgrade">Dependency Upgrade<a href="#dependency-upgrade" class="hash-link" aria-label="Direct link to Dependency Upgrade" title="Direct link to Dependency Upgrade">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/356" target="_blank" rel="noopener noreferrer">#356</a>] We have upgraded a major dependency:</p><ul><li>Upgrade <a href="https://github.com/launchbadge/sqlx" target="_blank" rel="noopener noreferrer"><code>sqlx</code></a> to 0.6.1</li></ul><p>You might need to upgrade the corresponding dependency in your application as well.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="drivers-support">Drivers support<a href="#drivers-support" class="hash-link" aria-label="Direct link to Drivers support" title="Direct link to Drivers support">‚Äã</a></h2><p>We have reworked the way drivers work in SeaQuery: priori to <code>0.27.0</code>, users have to invoke the <code>sea_query_driver_*</code> macros. Now each driver <code>sqlx</code>, <code>postgres</code> &amp; <code>rusqlite</code> has their own supporting crate, which integrates tightly with the corresponding libraries. Checkout our integration examples below for more details.</p><p>[<a href="https://github.com/SeaQL/sea-query/issues/383" target="_blank" rel="noopener noreferrer">#383</a>] Deprecate <code>sea-query-driver</code> in favour of <code>sea-query-binder</code></p><p>[<a href="https://github.com/SeaQL/sea-query/pull/422" target="_blank" rel="noopener noreferrer">#422</a>] Rusqlite support is moved to <code>sea-query-rusqlite</code></p><p>[<a href="https://github.com/SeaQL/sea-query/pull/433" target="_blank" rel="noopener noreferrer">#433</a>] Postgres support is moved to <code>sea-query-postgres</code></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">sea_query_driver_postgres!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query_driver_postgres</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">bind_query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> bind_query_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Func</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> row </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">bind_query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">sqlx</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fetch_one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> pool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// now</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query_binder</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqlxBinder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Func</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build_sqlx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> row </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">sqlx</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">query_with</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fetch_one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> pool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// You can now make use of SQLx&#x27;s `query_as_with` nicely:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> rows </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">sqlx</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">query_as_with</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">StructWithFromRow</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> _</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fetch_all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> pool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-sub-query-operators-exists-all-any-some">Support sub-query operators: <code>EXISTS</code>, <code>ALL</code>, <code>ANY</code>, <code>SOME</code><a href="#support-sub-query-operators-exists-all-any-some" class="hash-link" aria-label="Direct link to support-sub-query-operators-exists-all-any-some" title="Direct link to support-sub-query-operators-exists-all-any-some">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/118" target="_blank" rel="noopener noreferrer">#118</a>] Added sub-query operators: <code>EXISTS</code>, <code>ALL</code>, <code>ANY</code>, <code>SOME</code></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">and_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">take</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT `id` FROM `character` WHERE `id` = ANY(SELECT `id` FROM `character`)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;id&quot; FROM &quot;character&quot; WHERE &quot;id&quot; = ANY(SELECT &quot;id&quot; FROM &quot;character&quot;)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-on-conflict-where">Support <code>ON CONFLICT WHERE</code><a href="#support-on-conflict-where" class="hash-link" aria-label="Direct link to support-on-conflict-where" title="Direct link to support-on-conflict-where">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/366" target="_blank" rel="noopener noreferrer">#366</a>] Added support to <code>ON CONFLICT WHERE</code></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">columns</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Aspect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Image</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">values_panic</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_conflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">OnConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">update_expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Image</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">target_and_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Aspect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">is_null</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">MysqlQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;INSERT INTO `glyph` (`aspect`, `image`) VALUES (2, 3) ON DUPLICATE KEY UPDATE `image` = 1 + 2&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;INSERT INTO &quot;glyph&quot; (&quot;aspect&quot;, &quot;image&quot;) VALUES (2, 3) ON CONFLICT (&quot;id&quot;) WHERE &quot;glyph&quot;.&quot;aspect&quot; IS NULL DO UPDATE SET &quot;image&quot; = 1 + 2&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqliteQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;INSERT INTO &quot;glyph&quot; (&quot;aspect&quot;, &quot;image&quot;) VALUES (2, 3) ON CONFLICT (&quot;id&quot;) WHERE &quot;glyph&quot;.&quot;aspect&quot; IS NULL DO UPDATE SET &quot;image&quot; = 1 + 2&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="changed-cond_where-chaining-semantics">Changed cond_where chaining semantics<a href="#changed-cond_where-chaining-semantics" class="hash-link" aria-label="Direct link to Changed cond_where chaining semantics" title="Direct link to Changed cond_where chaining semantics">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/414" target="_blank" rel="noopener noreferrer">#414</a>] Changed cond_where chaining semantics</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Before: will extend current Condition</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">any!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT WHERE &quot;id&quot; = 1 OR &quot;id&quot; = 2 OR &quot;id&quot; = 3&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Before: confusing, since it depends on the order of invocation:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">any!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT WHERE &quot;id&quot; = 3 AND (&quot;id&quot; = 1 OR &quot;id&quot; = 2)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Now: will always conjoin with `AND`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">any!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT WHERE &quot;id&quot; = 1 AND (&quot;id&quot; = 2 OR &quot;id&quot; = 3)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Now: so they are now equivalent</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">any!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cond_where</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT WHERE (&quot;id&quot; = 2 OR &quot;id&quot; = 3) AND &quot;id&quot; = 1&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="added-onconflictvalue-and-onconflictvalues">Added <code>OnConflict::value</code> and <code>OnConflict::values</code><a href="#added-onconflictvalue-and-onconflictvalues" class="hash-link" aria-label="Direct link to added-onconflictvalue-and-onconflictvalues" title="Direct link to added-onconflictvalue-and-onconflictvalues">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/451" target="_blank" rel="noopener noreferrer">#451</a>] Implementation <code>From&lt;T&gt;</code> for any <code>Into&lt;Value&gt;</code> into <code>SimpleExpr</code></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Before: notice the tuple</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token class-name" style="color:rgb(38, 127, 153)">OnConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">update_expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Image</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// After: it accepts `Value` as well as `SimpleExpr`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token class-name" style="color:rgb(38, 127, 153)">OnConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Image</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="improvement-to-columndefdefault">Improvement to <code>ColumnDef::default</code><a href="#improvement-to-columndefdefault" class="hash-link" aria-label="Direct link to improvement-to-columndefdefault" title="Direct link to improvement-to-columndefdefault">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/347" target="_blank" rel="noopener noreferrer">#347</a>] <code>ColumnDef::default</code> now accepts <code>Into&lt;SimpleExpr&gt;</code> instead <code>Into&lt;Value&gt;</code></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Now we can write:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token class-name" style="color:rgb(38, 127, 153)">ColumnDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">FontId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">timestamp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">current_timestamp</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="breaking-changes">Breaking Changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking Changes" title="Direct link to Breaking Changes">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/386" target="_blank" rel="noopener noreferrer">#386</a>] Changed <code>in_tuples</code> interface to accept <code>IntoValueTuple</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/320" target="_blank" rel="noopener noreferrer">#320</a>] Removed deprecated methods</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/440" target="_blank" rel="noopener noreferrer">#440</a>] <code>CURRENT_TIMESTAMP</code> changed from being a function to keyword</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/375" target="_blank" rel="noopener noreferrer">#375</a>] Update SQLite <code>boolean</code> type from <code>integer to </code>boolean`</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/451" target="_blank" rel="noopener noreferrer">#451</a>] Deprecated <code>OnConflict::update_value</code>, <code>OnConflict::update_values</code>, <code>OnConflict::update_expr</code>, <code>OnConflict::update_exprs</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/451" target="_blank" rel="noopener noreferrer">#451</a>] Deprecated <code>InsertStatement::exprs</code>, <code>InsertStatement::exprs_panic</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/451" target="_blank" rel="noopener noreferrer">#451</a>] Deprecated <code>UpdateStatement::col_expr</code>, <code>UpdateStatement::value_expr</code>, <code>UpdateStatement::exprs</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/451" target="_blank" rel="noopener noreferrer">#451</a>] <code>UpdateStatement::value</code> now accept <code>Into&lt;SimpleExpr&gt;</code> instead of <code>Into&lt;Value&gt;</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/451" target="_blank" rel="noopener noreferrer">#451</a>] <code>Expr::case</code>, <code>CaseStatement::case</code> and <code>CaseStatement::finally</code> now accepts <code>Into&lt;SimpleExpr&gt;</code> instead of <code>Into&lt;Expr&gt;</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/460" target="_blank" rel="noopener noreferrer">#460</a>] <code>InsertStatement::values</code>, <code>UpdateStatement::values</code> now accepts <code>IntoIterator&lt;Item = SimpleExpr&gt;</code> instead of <code>IntoIterator&lt;Item = Value&gt;</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/409" target="_blank" rel="noopener noreferrer">#409</a>] Use native api from SQLx for SQLite to work with time</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/435" target="_blank" rel="noopener noreferrer">#435</a>] Changed type of <code>ColumnType::Enum</code> from <code>(String, Vec&lt;String&gt;)</code> to <code>Enum { name: DynIden, variants: Vec&lt;DynIden&gt;}</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="miscellaneous-enhancements">Miscellaneous Enhancements<a href="#miscellaneous-enhancements" class="hash-link" aria-label="Direct link to Miscellaneous Enhancements" title="Direct link to Miscellaneous Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/issues/336" target="_blank" rel="noopener noreferrer">#336</a>] Added support one dimension Postgres array for SQLx</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/373" target="_blank" rel="noopener noreferrer">#373</a>] Support CROSS JOIN</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/457" target="_blank" rel="noopener noreferrer">#457</a>] Added support <code>DROP COLUMN</code> for SQLite</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/466" target="_blank" rel="noopener noreferrer">#466</a>] Added <code>YEAR</code>, <code>BIT</code> and <code>VARBIT</code> types</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/338" target="_blank" rel="noopener noreferrer">#338</a>] Handle Postgres schema name for schema statements</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/418" target="_blank" rel="noopener noreferrer">#418</a>] Added <code>%</code>, <code>&lt;&lt;</code> and <code>&gt;&gt;</code> binary operators</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/430" target="_blank" rel="noopener noreferrer">#329</a>] Added RAND function</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/425" target="_blank" rel="noopener noreferrer">#425</a>] Implements <code>Display</code> for <code>Value</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/427" target="_blank" rel="noopener noreferrer">#427</a>] Added <code>INTERSECT</code> and <code>EXCEPT</code> to UnionType</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/448" target="_blank" rel="noopener noreferrer">#448</a>] <code>OrderedStatement::order_by_customs</code>, <code>OrderedStatement::order_by_columns</code>, <code>OverStatement::partition_by_customs</code>, <code>OverStatement::partition_by_columns</code> now accepts <code>IntoIterator&lt;Item = T&gt;</code> instead of <code>Vec&lt;T&gt;</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/452" target="_blank" rel="noopener noreferrer">#452</a>] <code>TableAlterStatement::rename_column</code>, <code>TableAlterStatement::drop_column</code>, <code>ColumnDef::new</code>, <code>ColumnDef::new_with_type</code> now accepts <code>IntoIden</code> instead of <code>Iden</code></li><li>[<a href="https://github.com/SeaQL/sea-query/pull/426" target="_blank" rel="noopener noreferrer">#426</a>] Cleanup <code>IndexBuilder</code> trait methods</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/436" target="_blank" rel="noopener noreferrer">#436</a>] Introduce <code>SqlWriter</code> trait</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/448" target="_blank" rel="noopener noreferrer">#448</a>] Remove unneeded <code>vec!</code> from examples</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="bug-fixes">Bug Fixes<a href="#bug-fixes" class="hash-link" aria-label="Direct link to Bug Fixes" title="Direct link to Bug Fixes">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/issues/449" target="_blank" rel="noopener noreferrer">#449</a>] <code>distinct_on</code> properly handles <code>ColumnRef</code></li><li>[<a href="https://github.com/SeaQL/sea-query/issues/461" target="_blank" rel="noopener noreferrer">#461</a>] Removed <code>ON</code> for <code>DROP INDEX</code> for SQLite</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/468" target="_blank" rel="noopener noreferrer">#468</a>] Change datetime string format to include microseconds</li><li>[<a href="https://github.com/SeaQL/sea-query/issues/452" target="_blank" rel="noopener noreferrer">#452</a>] <code>ALTER TABLE</code> for PosgreSQL with <code>UNIQUE</code> constraint</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaQuery plays well with the other crates in the rust ecosystem. </p><ul><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/postgres" target="_blank" rel="noopener noreferrer">Postgres Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite" target="_blank" rel="noopener noreferrer">Rusqlite Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any" target="_blank" rel="noopener noreferrer">SQLx Any Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres" target="_blank" rel="noopener noreferrer">SQLx Postgres Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql" target="_blank" rel="noopener noreferrer">SQLx MySql Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite" target="_blank" rel="noopener noreferrer">SQLx Sqlite Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Seaography is a GraphQL framework for building GraphQL resolvers using SeaORM. It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-09-27-getting-started-with-seaography/">Getting Started with Seaography</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-09-27T00:00:00.000Z" itemprop="datePublished">September 27, 2022</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><a href="https://github.com/SeaQL/seaography" target="_blank" rel="noopener noreferrer">Seaography</a> is a GraphQL framework for building GraphQL resolvers using <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer">SeaORM</a>. It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases.</p><p>The design and implementation of Seaography can be found on our <a href="https://www.sea-ql.org/blog/2022-09-17-introducing-seaography/" target="_blank" rel="noopener noreferrer">release blog post</a> and <a href="https://www.sea-ql.org/Seaography/" target="_blank" rel="noopener noreferrer">documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="extending-a-seaorm-project">Extending a SeaORM project<a href="#extending-a-seaorm-project" class="hash-link" aria-label="Direct link to Extending a SeaORM project" title="Direct link to Extending a SeaORM project">‚Äã</a></h2><p>Since Seaography is built on top of SeaORM, you can easily build a GraphQL server from a SeaORM project.</p><p>Start by adding Seaography and GraphQL dependencies to your <code>Cargo.toml</code>.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">Cargo.toml</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">[dependencies]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sea-orm = { version = &quot;^0.9&quot;, features = [ ... ] }</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> seaography = { version = &quot;^0.1&quot;, features = [ &quot;with-decimal&quot;, &quot;with-chrono&quot; ] }</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> async-graphql = { version = &quot;4.0.10&quot;, features = [&quot;decimal&quot;, &quot;chrono&quot;, &quot;dataloader&quot;] }</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> async-graphql-poem = { version = &quot;4.0.10&quot; }</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, derive a few macros on the SeaORM entities.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">src/entities/film_actor.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">use sea_orm::entity::prelude::*;</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[derive(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Clone,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Debug,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   PartialEq,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   DeriveEntityModel,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   async_graphql::SimpleObject,</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   seaography::macros::Filter,</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain">)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> #[graphql(complex)]</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> #[graphql(name = &quot;FilmActor&quot;)]</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain">#[sea_orm(table_name = &quot;film_actor&quot;)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub struct Model {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   #[sea_orm(primary_key, auto_increment = false)]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub actor_id: i32,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   #[sea_orm(primary_key, auto_increment = false)]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub film_id: i32,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   pub last_update: DateTimeUtc,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">#[derive(</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Copy,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Clone,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Debug,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   EnumIter,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   DeriveRelation,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)">   seaography::macros::RelationsCompact,</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain">)]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">pub enum Relation {</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   #[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       belongs_to = &quot;super::film::Entity&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       from = &quot;Column::FilmId&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       to = &quot;super::film::Column::FilmId&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       on_update = &quot;Cascade&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       on_delete = &quot;NoAction&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   )]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Film,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   #[sea_orm(</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       belongs_to = &quot;super::actor::Entity&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       from = &quot;Column::ActorId&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       to = &quot;super::actor::Column::ActorId&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       on_update = &quot;Cascade&quot;,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">       on_delete = &quot;NoAction&quot;</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   )]</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token unchanged prefix unchanged"> </span><span class="token unchanged line">   Actor,</span><br></span><span class="token-line" style="color:#000000"><span class="token unchanged line"></span><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We also need to define <code>QueryRoot</code> for the GraphQL server. This define the GraphQL schema.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">src/query_root.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, seaography::macros::QueryRoot)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[seaography(entity = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;crate::entities::actor&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[seaography(entity = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;crate::entities::film&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[seaography(entity = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;crate::entities::film_actor&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">QueryRoot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">src/lib.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mod</span><span class="token plain"> </span><span class="token module-declaration namespace">entities</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mod</span><span class="token plain"> </span><span class="token module-declaration namespace">query_root</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">query_root</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryRoot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DatabaseConnection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, create an executable to drive the GraphQL server.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">src/main.rs</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">dataloader</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">http</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyMutation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptySubscription</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">async_graphql_poem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">poem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">handler</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">listener</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">TcpListener</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">web</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Html</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IntoResponse</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Route</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Server</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">seaography_example_project</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[handler]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">IntoResponse</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Html</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token function" style="color:rgb(0, 0, 255)">playground_source</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQLPlaygroundConfig</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[tokio::main]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> database </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db_url</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> orm_dataloader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DataLoader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">OrmDataloader</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">tokio</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">spawn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryRoot</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptyMutation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EmptySubscription</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">data</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">orm_dataloader</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">finish</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> app </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Route</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;/&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">get</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">graphql_playground</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">post</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">GraphQL</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Server</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">TcpListener</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">bind</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;0.0.0.0:8000&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">run</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">app</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="generating-a-project-from-database">Generating a project from database<a href="#generating-a-project-from-database" class="hash-link" aria-label="Direct link to Generating a project from database" title="Direct link to Generating a project from database">‚Äã</a></h2><p>If all you have is a database schema, good news! You can setup a GraphQL server without writing a single line of code.</p><p>Install <code>seaography-cli</code>, it helps you generate SeaORM entities along with a full Rust project based on a database schema.</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> seaography-cli</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run <code>seaography-cli</code> to generate code for the GraphQL server.</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># The command take three arguments</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">DATABASE_URL</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">CRATE_NAME</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">DESTINATION</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli mysql://root:root@localhost/sakila seaography-mysql-example examples/mysql</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># PostgreSQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli postgres://root:root@localhost/sakila seaography-postgres-example examples/postgres</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># SQLite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">seaography-cli sqlite://examples/sqlite/sakila.db seaography-sqlite-example examples/sqliteql</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="checkout-the-example-projects">Checkout the example projects<a href="#checkout-the-example-projects" class="hash-link" aria-label="Direct link to Checkout the example projects" title="Direct link to Checkout the example projects">‚Äã</a></h2><p>We have the following examples for you, alongside with the SQL scripts to initialize the database.</p><ul><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/mysql" target="_blank" rel="noopener noreferrer">MySQL</a></li><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/postgres" target="_blank" rel="noopener noreferrer">PostgreSQL</a></li><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/sqlite" target="_blank" rel="noopener noreferrer">SQLite</a></li></ul><p>All examples provide a web-based GraphQL playground when running, so you can inspect the GraphQL schema and make queries. We also hosted a <a href="https://playground.sea-ql.org/seaography" target="_blank" rel="noopener noreferrer">demo GraphQL playground</a> in case you can&#x27;t wait to play with it.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="starting-the-graphql-server">Starting the GraphQL Server<a href="#starting-the-graphql-server" class="hash-link" aria-label="Direct link to Starting the GraphQL Server" title="Direct link to Starting the GraphQL Server">‚Äã</a></h2><p>Your GraphQL server is ready to launch! Go to the Rust project root then execute <code>cargo run</code> to spin it up.</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ </span><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> run</span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Playground: http://localhost:8000</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Visit the GraphQL playground at <a href="http://localhost:8000" target="_blank" rel="noopener noreferrer">http://localhost:8000</a></p><p><img loading="lazy" src="https://www.sea-ql.org/Seaography/img/playground_example_database.png" alt="GraphQL Playground" class="img_WBRq"></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="query-data-via-graphql">Query Data via GraphQL<a href="#query-data-via-graphql" class="hash-link" aria-label="Direct link to Query Data via GraphQL" title="Direct link to Query Data via GraphQL">‚Äã</a></h2><p>Let say we want to get the first 3 films released on or after year 2006 sorted in ascending order of its title.</p><div class="language-graphql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-graphql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property-query">film</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attr-name" style="color:rgb(255, 0, 0)">pagination</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">limit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attr-name" style="color:rgb(255, 0, 0)">filters</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">releaseYear</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">gte</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2006&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attr-name" style="color:rgb(255, 0, 0)">orderBy</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(255, 0, 0)">title</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token constant" style="color:rgb(129, 31, 63)">ASC</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token object">data</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">filmId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">title</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">description</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">releaseYear</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token object">filmActor</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token object">actor</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">actorId</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">firstName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">lastName</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">pages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">current</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>We got the following JSON result after running the GraphQL query.</p><div class="language-json codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-json codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token property">&quot;film&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">&quot;data&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;filmId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ACADEMY DINOSAUR&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;An Epic Drama of a Feminist And a Mad Scientist who must Battle a Teacher in The Canadian Rockies&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;releaseYear&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2006&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;filmActor&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              </span><span class="token property">&quot;actor&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;actorId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;PENELOPE&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;lastName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;GUINESS&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              </span><span class="token property">&quot;actor&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;actorId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;firstName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;CHRISTIAN&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token property">&quot;lastName&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;GABLE&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">              </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;filmId&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;title&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;ACE GOLDFINGER&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;description&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;A Astounding Epistle of a Database Administrator And a Explorer who must Find a Car in Ancient China&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;releaseYear&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;2006&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token property">&quot;filmActor&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">&quot;pages&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">334</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">      </span><span class="token property">&quot;current&quot;</span><span class="token operator" style="color:rgb(0, 0, 0)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Behind the scene, the following SQL were queried:</p><div class="language-sql codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-sql codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;title&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;description&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;release_year&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;language_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;original_language_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;rental_duration&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;rental_rate&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;length&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;replacement_cost&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;rating&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;special_features&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">       </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;last_update&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;release_year&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;=</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;2006&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">BY</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;title&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">ASC</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">LIMIT</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">OFFSET</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;last_update&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_actor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;film_id&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">SELECT</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;first_name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;last_name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;last_update&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">FROM</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">WHERE</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;actor_id&quot;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">24</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">162</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">20</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">160</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">188</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">123</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">30</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">53</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">40</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">85</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">198</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">19</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">108</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">90</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Under the hood, Seaography uses <a href="https://docs.rs/async-graphql/latest/async_graphql/dataloader/index.html" target="_blank" rel="noopener noreferrer">async_graphql::dataloader</a> in querying nested objects to tackle the N+1 problem.</p><p>To learn more, checkout the <a href="https://www.sea-ql.org/Seaography/docs/data-loader/" target="_blank" rel="noopener noreferrer">Seaography Documentation</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>Seaography is an ergonomic library that turns SeaORM entities into GraphQL nodes. It provides a set of utilities and combined with a code generator makes GraphQL API building a breeze.</p><p>However, Seaography is still a new-born. Like all other open-source projects developed by passionate Rust developers, you can contribute to it if you also find the concept interesting. With its addition to the SeaQL ecosystem, we are one step closer to the vision of Rust being the best tool for data engineering.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="people">People<a href="#people" class="hash-link" aria-label="Direct link to People" title="Direct link to People">‚Äã</a></h2><p>Seaography is created by:</p><div class="container"><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/karatakis" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7329022?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Panagiotis Karatakis</div>Summer of Code Contributor; developer of Seaography</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div>Summer of Code Mentor; lead developer of SeaQL</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div>Summer of Code Mentor; core member of SeaQL</div></div></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="What a fruitful Summer of Code! Today, we are excited to introduce Seaography to the SeaQL community. Seaography is a GraphQL framework for building GraphQL resolvers using SeaORM. It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-09-17-introducing-seaography/">Introducing Seaography üß≠</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-09-17T00:00:00.000Z" itemprop="datePublished">September 17, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>What a fruitful Summer of Code! Today, we are excited to introduce <a href="https://github.com/SeaQL/seaography" target="_blank" rel="noopener noreferrer">Seaography</a> to the SeaQL community. Seaography is a GraphQL framework for building GraphQL resolvers using <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer">SeaORM</a>. It ships with a CLI tool that can generate ready-to-compile Rust projects from existing MySQL, Postgres and SQLite databases.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">‚Äã</a></h2><p>We observed that other ecosystems have similar tools such as PostGraphile and Hasura allowing users to query a database via GraphQL with minimal effort upfront. We decided to bring that seamless experience to the Rust ecosystem.</p><p>For existing SeaORM users, adding a GraphQL API is straight forward. Start by adding <code>seaography</code> and <code>async-graphql</code> dependencies to your crate. Then, deriving a few extra derive macros to the SeaORM entities. Finally, spin up a GraphQL server to serve queries!</p><p>If you are new to SeaORM, no worries, we have your back. You only need to provide a database connection, and <code>seaography-cli</code> will generate the SeaORM entities together with a complete Rust project!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="design">Design<a href="#design" class="hash-link" aria-label="Direct link to Design" title="Direct link to Design">‚Äã</a></h2><p>We considered two approaches in our <a href="https://github.com/SeaQL/summer-of-code/discussions/12" target="_blank" rel="noopener noreferrer">initial discussion</a>: 1) blackbox query engine 2) code generator. The drawback with a blackbox query engine is it&#x27;s difficult to customize or extend its behaviour, making it difficult to develop and operate in the long run. We opted the code generator approach, giving users full control and endless possibilities with the versatile async Rust ecosystem.</p><p>This project is separated into the following crates:</p><ul><li><p><a href="https://github.com/SeaQL/seaography" target="_blank" rel="noopener noreferrer"><code>seaography</code></a>: The facade crate; exporting macros, structures and helper functions to turn SeaORM entities into GraphQL nodes.</p></li><li><p><a href="https://github.com/SeaQL/seaography/tree/main/cli" target="_blank" rel="noopener noreferrer"><code>seaography-cli</code></a>: The CLI tool; it generates SeaORM entities along with a full Rust project based on a user-provided database.</p></li><li><p><a href="https://github.com/SeaQL/seaography/tree/main/discoverer" target="_blank" rel="noopener noreferrer"><code>seaography-discoverer</code></a>: A helper crate used by the CLI tool to discover the database schema and transform into a generic format.</p></li><li><p><a href="https://github.com/SeaQL/seaography/tree/main/generator" target="_blank" rel="noopener noreferrer"><code>seaography-generator</code></a>: A helper crate used by the CLI tool to consume the database schema and generate a full Rust project.</p></li><li><p><a href="https://github.com/SeaQL/seaography/tree/main/derive" target="_blank" rel="noopener noreferrer"><code>seaography-derive</code></a>: A set of procedural macros to derive types and trait implementations on SeaORM entities, turning them into GraphQL nodes.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">‚Äã</a></h2><ul><li>Relational query (1-to-1, 1-to-N)</li><li>Pagination on query&#x27;s root entity</li><li>Filter with operators (e.g. gt, lt, eq)</li><li>Order by any column</li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">‚Äã</a></h2><p>To quick start, we have the following examples for you, alongside with the SQL scripts to initialize the database.</p><ul><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/mysql" target="_blank" rel="noopener noreferrer">MySQL</a></li><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/postgres" target="_blank" rel="noopener noreferrer">PostgreSQL</a></li><li><a href="https://github.com/SeaQL/seaography/tree/main/examples/sqlite" target="_blank" rel="noopener noreferrer">SQLite</a></li></ul><p>All examples provide a web-based GraphQL playground when running, so you can inspect the GraphQL schema and make queries. We also hosted a <a href="https://playground.sea-ql.org/seaography" target="_blank" rel="noopener noreferrer">demo GraphQL playground</a> in case you can&#x27;t wait to play with it.</p><p>For more documentation, visit <a href="https://www.sea-ql.org/Seaography/" target="_blank" rel="noopener noreferrer">www.sea-ql.org/Seaography</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="whats-next">What&#x27;s Next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next?" title="Direct link to What&#x27;s Next?">‚Äã</a></h2><p>This project passed the first milestone shipping the essential features, but it still has a long way to go. The next milestone would be:</p><ul><li>Query enhancements<ul><li>Filter related queries</li><li>Filter based on related queries properties</li><li>Paginate related queries</li><li>Order by related queries</li></ul></li><li>Cursor based pagination</li><li>Single entity query</li><li>Mutations<ul><li>Insert single entity</li><li>Insert batch entities</li><li>Update single entity</li><li>Update batch entities using filter</li><li>Delete single entity</li><li>Delete batch entities</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>Seaography is an ergonomic library that turns SeaORM entities into GraphQL nodes. It provides a set of utilities and combined with a code generator makes GraphQL API building a breeze.</p><p>However, Seaography is still a new-born. Like all other open-source projects developed by passionate Rust developers, you can contribute to it if you also find the concept interesting. With its addition to the SeaQL ecosystem, we are one step closer to the vision of Rust being the best tool for data engineering.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="people">People<a href="#people" class="hash-link" aria-label="Direct link to People" title="Direct link to People">‚Äã</a></h2><p>Seaography is created by:</p><div class="container"><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/karatakis" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7329022?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Panagiotis Karatakis</div>Summer of Code Contributor; developer of Seaography</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div>Summer of Code Mentor; lead developer of SeaQL</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div>Summer of Code Mentor; core member of SeaQL</div></div></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="We are celebrating the milestone of reaching 3,000 GitHub stars across all SeaQL repositories!"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-08-12-3k-github-stars/">Celebrating 3,000+ GitHub Stars üéâ</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-08-12T00:00:00.000Z" itemprop="datePublished">August 12, 2022</time> ¬∑ <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are celebrating the milestone of reaching 3,000 GitHub stars across all SeaQL repositories!</p><p>This wouldn&#x27;t have happened without your support and contribution, so we want to thank the community for being with us along the way.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="the-journey">The Journey<a href="#the-journey" class="hash-link" aria-label="Direct link to The Journey" title="Direct link to The Journey">‚Äã</a></h2><p>SeaQL.org was founded back in 2020. We devoted ourselves into developing open source libraries that help Rust developers to build data intensive applications. In the past two years, we published and maintained four open source libraries: <a href="https://github.com/SeaQL/sea-query" target="_blank" rel="noopener noreferrer">SeaQuery</a>, <a href="https://github.com/SeaQL/sea-schema" target="_blank" rel="noopener noreferrer">SeaSchema</a>, <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer">SeaORM</a> and <a href="https://github.com/SeaQL/starfish-ql" target="_blank" rel="noopener noreferrer">StarfishQL</a>. Each library is designed to fill a niche in the Rust ecosystem, and they are made to play well with other Rust libraries.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="2020">2020<a href="#2020" class="hash-link" aria-label="Direct link to 2020" title="Direct link to 2020">‚Äã</a></h3><ul><li>Oct 2020: <strong>SeaQL founded</strong></li><li>Dec 2020: <strong>SeaQuery first released</strong></li></ul><h3 class="anchor anchorWithStickyNavbar_w1X2" id="2021">2021<a href="#2021" class="hash-link" aria-label="Direct link to 2021" title="Direct link to 2021">‚Äã</a></h3><ul><li>Apr 2021: <strong>SeaSchema first released</strong></li><li>Aug 2021: <strong>SeaORM first released</strong></li><li>Nov 2021: SeaORM reached 0.4.0</li><li>Dec 2021: SeaQuery reached 0.20.0</li><li>Dec 2021: SeaSchema reached 0.4.0</li></ul><h3 class="anchor anchorWithStickyNavbar_w1X2" id="2022">2022<a href="#2022" class="hash-link" aria-label="Direct link to 2022" title="Direct link to 2022">‚Äã</a></h3><ul><li>Apr 2022: SeaQL selected as a Google Summer of Code 2022 <a href="https://summerofcode.withgoogle.com/programs/2022/organizations/seaql" target="_blank" rel="noopener noreferrer">mentor organization</a></li><li>Apr 2022: <strong>StarfishQL first released</strong></li><li>Jul 2022: SeaQuery reached 0.26.2</li><li>Jul 2022: SeaSchema reached 0.9.3</li><li>Jul 2022: SeaORM reached 0.9.1</li><li>Aug 2022: <strong>SeaQL reached 3,000+ GitHub stars</strong></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="wherere-we-now">Where&#x27;re We Now?<a href="#wherere-we-now" class="hash-link" aria-label="Direct link to Where&#x27;re We Now?" title="Direct link to Where&#x27;re We Now?">‚Äã</a></h2><p>We&#x27;re pleased by the adoption by the Rust community. We couldn&#x27;t make it this far without your feedback and contributions.</p><div class="row"><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">4 üì¶</div><div class="col col--12">Open source projects</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">5 üè¨</div><div class="col col--12">Startups using SeaQL</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">1,972 üéà</div><div class="col col--12">Dependent projects</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">131 üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div><div class="col col--12">Contributors</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">1,061 ‚úÖ</div><div class="col col--12">Merged PRs &amp; resolved issues</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">3,158 ‚≠ê</div><div class="col col--12">GitHub stars</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">432 üó£Ô∏è</div><div class="col col--12">Discord members</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">87,937 ‚å®Ô∏è</div><div class="col col--12">Lines of Rust</div></div></div><div class="col col--4 margin-top--md margin-bottom--md"><div class="row row--no-gutters"><div class="col col--12" style="font-size:38px;line-height:38px;font-weight:bold">667,769 üíø</div><div class="col col--12">Downloads on crates.io</div></div></div></div><div style="text-align:right"><p></p><p><small>* as of Aug 12</small></p></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="core-members">Core Members<a href="#core-members" class="hash-link" aria-label="Direct link to Core Members" title="Direct link to Core Members">‚Äã</a></h2><p>Our team has grown from two people initially into four. We always welcome passionate engineers to join us!</p><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div>Founder. Led the initial development and maintaining the projects.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div>Founding member. Contributed many features and bug fixes. Keeps the community alive.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/ikrivosheev" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/6786239?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ivan Krivosheev</div>Joined in 2022. Contributed many features and bug fixes, most notably to SeaQuery.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/shpun817" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/47468266?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sanford Pun</div>Developed StarfishQL and wrote SeaORM&#x27;s tutorial.</div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="special-thanks">Special Thanks<a href="#special-thanks" class="hash-link" aria-label="Direct link to Special Thanks" title="Direct link to Special Thanks">‚Äã</a></h2><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7566389?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marco Napetti</div>Contributed transaction, streaming and tracing API to SeaORM.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/nitnelave" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/796633?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">nitnelave</div>Contributed binder crate and other improvements to SeaQuery.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/samsamai" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/3764355?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sam Samai</div>Developed SeaORM&#x27;s test suite and demo schema.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/scrblue" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1524936?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Daniel Lyne</div>Developed SeaSchema&#x27;s Postgres implementation.</div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/charleschege" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/33346042?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Charles Chege</div>Developed SeaSchema&#x27;s SQLite implementation.</div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsors">Sponsors<a href="#sponsors" class="hash-link" aria-label="Direct link to Sponsors" title="Direct link to Sponsors">‚Äã</a></h2><p>If you are feeling generous, a small <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">donation</a> will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="contributors">Contributors<a href="#contributors" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">‚Äã</a></h2><p>Many features and enhancements are actually proposed and implemented by the community. We want to take this chance to thank all our contributors!</p><div class="row"><div class="col col--12"><a href="https://github.com/SeaQL/sea-orm/graphs/contributors" target="_blank" rel="noopener noreferrer" alt="SeaORM Contributors"><img loading="lazy" src="https://opencollective.com/sea-orm/contributors.svg?width=1000&amp;button=false" class="img_WBRq"></a></div><div class="col col--12"><a href="https://github.com/SeaQL/sea-query/graphs/contributors" target="_blank" rel="noopener noreferrer" alt="SeaQuery Contributors"><img loading="lazy" src="https://opencollective.com/sea-query/contributors.svg?width=1000&amp;button=false" class="img_WBRq"></a></div><div class="col col--12"><a href="https://github.com/SeaQL/sea-schema/graphs/contributors" target="_blank" rel="noopener noreferrer" alt="SeaSchema Contributors"><img loading="lazy" src="https://opencollective.com/sea-schema/contributors.svg?width=1000&amp;button=false" class="img_WBRq"></a></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="whats-next">What&#x27;s Next?<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next?" title="Direct link to What&#x27;s Next?">‚Äã</a></h2><p>We have two ongoing <a href="https://www.sea-ql.org/blog/2022-06-02-summer-of-code-2022-intro/" target="_blank" rel="noopener noreferrer">Summer of Code 2022 projects</a> to enrich the SeaQL ecosystem, planning to be released later this year. In the meantime, we&#x27;re focusing on improving existing SeaQL libraries until reaching version 1.0, we&#x27;d love to hear comments and feedback from the community.</p><p>If you like what we do, consider starring, commenting, sharing, contributing and together building for Rust&#x27;s future!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaQuery 0.26.0! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-08-05-whats-new-in-seaquery-0.26.0/">What&#x27;s new in SeaQuery 0.26.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-08-05T00:00:00.000Z" itemprop="datePublished">August 5, 2022</time> ¬∑ <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Ivan Krivosheev</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaQuery <a href="https://github.com/SeaQL/sea-query/releases/tag/0.26.0" target="_blank" rel="noopener noreferrer"><code>0.26.0</code></a>! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="dependency-upgrades">Dependency Upgrades<a href="#dependency-upgrades" class="hash-link" aria-label="Direct link to Dependency Upgrades" title="Direct link to Dependency Upgrades">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/356" target="_blank" rel="noopener noreferrer">#356</a>] We have upgraded a few major dependencies:</p><ul><li>Upgrade <a href="https://github.com/launchbadge/sqlx" target="_blank" rel="noopener noreferrer"><code>sqlx</code></a> to 0.6</li><li>Upgrade <a href="https://github.com/time-rs/time" target="_blank" rel="noopener noreferrer"><code>time</code></a> to 0.3</li><li>Upgrade <a href="https://github.com/uuid-rs/uuid" target="_blank" rel="noopener noreferrer"><code>uuid</code></a> to 1.0</li><li>Upgrade <a href="https://github.com/akubera/bigdecimal-rs" target="_blank" rel="noopener noreferrer"><code>bigdecimal</code></a> to 0.3</li><li>Upgrade <a href="https://github.com/achanda/ipnetwork" target="_blank" rel="noopener noreferrer"><code>ipnetwork</code></a> to 0.19</li></ul><p>Note that you might need to upgrade the corresponding dependency on your application as well.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="values-lists">VALUES lists<a href="#values-lists" class="hash-link" aria-label="Direct link to VALUES lists" title="Direct link to VALUES lists">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/350" target="_blank" rel="noopener noreferrer">#351</a>] Add support for VALUES lists</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// SELECT * FROM (VALUES (1, &#x27;hello&#x27;), (2, &#x27;world&#x27;)) AS &quot;x&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">SelectStatement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">asterisk</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;hello&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;world&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;x&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT * FROM (VALUES (1, &#x27;hello&#x27;), (2, &#x27;world&#x27;)) AS &quot;x&quot;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="introduce-sea-query-binder">Introduce sea-query-binder<a href="#introduce-sea-query-binder" class="hash-link" aria-label="Direct link to Introduce sea-query-binder" title="Direct link to Introduce sea-query-binder">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/273" target="_blank" rel="noopener noreferrer">#273</a>] Native support SQLx without marcos</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query_binder</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SqlxBinder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Create SeaQuery query with prepare SQLx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">columns</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">FontSize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Meta</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Decimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">BigDecimal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Created</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Inet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MacAddress</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">order_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Order</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Desc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build_sqlx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Execute query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> rows </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">sqlx</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">query_as_with</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">CharacterStructChrono</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> _</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fetch_all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> pool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Print rows</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> row </span><span class="token keyword" style="color:rgb(0, 0, 255)">in</span><span class="token plain"> rows</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">iter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> row</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="case-when-statement-support">CASE WHEN statement support<a href="#case-when-statement-support" class="hash-link" aria-label="Direct link to CASE WHEN statement support" title="Direct link to CASE WHEN statement support">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/pull/304" target="_blank" rel="noopener noreferrer">#304</a>] Add support for <code>CASE WHEN</code> statement</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expr_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">CaseStatement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">case</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Aspect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">is_in</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">finally</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;is_even&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT (CASE WHEN (&quot;glyph&quot;.&quot;aspect&quot; IN (2, 4)) THEN TRUE ELSE FALSE END) AS &quot;is_even&quot; FROM &quot;glyph&quot;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="add-support-for-ip46network-and-macaddress">Add support for Ip(4,6)Network and MacAddress<a href="#add-support-for-ip46network-and-macaddress" class="hash-link" aria-label="Direct link to Add support for Ip(4,6)Network and MacAddress" title="Direct link to Add support for Ip(4,6)Network and MacAddress">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/pull/309" target="_blank" rel="noopener noreferrer">#309</a>] Add support for Network types in PostgreSQL backend</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="introduce-sea-query-attr">Introduce sea-query-attr<a href="#introduce-sea-query-attr" class="hash-link" aria-label="Direct link to Introduce sea-query-attr" title="Direct link to Introduce sea-query-attr">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/296" target="_blank" rel="noopener noreferrer">#296</a>] Proc-macro for deriving Iden enum from struct</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">gen_type_def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[gen_type_def]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Hello</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;{:?}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">HelloTypeDef</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="add-ability-to-alter-foreign-keys">Add ability to alter foreign keys<a href="#add-ability-to-alter-foreign-keys" class="hash-link" aria-label="Direct link to Add ability to alter foreign keys" title="Direct link to Add ability to alter foreign keys">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/pull/299" target="_blank" rel="noopener noreferrer">#299</a>] Add support for <code>ALTER</code> foreign Keys</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> foreign_key_char </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TableForeignKey</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;FK_character_glyph&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">FontId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Glyph</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">FontId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> table </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">alter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add_foreign_key</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">foreign_key_char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;ALTER TABLE &quot;character&quot;&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;ADD CONSTRAINT &quot;FK_character_glyph&quot;&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;FOREIGN KEY (&quot;font_id&quot;, &quot;id&quot;) REFERENCES &quot;glyph&quot; (&quot;font_id&quot;, &quot;id&quot;)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;ON DELETE CASCADE ON UPDATE CASCADE,&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="select-distinct-on">Select DISTINCT ON<a href="#select-distinct-on" class="hash-link" aria-label="Direct link to Select DISTINCT ON" title="Direct link to Select DISTINCT ON">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/issues/250" target="_blank" rel="noopener noreferrer">#250</a>]</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> query </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">distinct_on</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Character</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SizeW</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Char</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">SizeH</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">PostgresQueryBuilder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">     </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT DISTINCT ON (&quot;character&quot;) &quot;character&quot;, &quot;size_w&quot;, &quot;size_h&quot; FROM &quot;character&quot;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="miscellaneous-enhancements">Miscellaneous Enhancements<a href="#miscellaneous-enhancements" class="hash-link" aria-label="Direct link to Miscellaneous Enhancements" title="Direct link to Miscellaneous Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-query/pull/353" target="_blank" rel="noopener noreferrer">#353</a>] Support <code>LIKE ... ESCAPE ...</code>  expression  </li><li>[<a href="https://github.com/SeaQL/sea-query/pull/306" target="_blank" rel="noopener noreferrer">#306</a>] Move <code>escape</code> and <code>unescape</code> string to backend</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/365" target="_blank" rel="noopener noreferrer">#365</a>] Add method to make a column nullable</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/348" target="_blank" rel="noopener noreferrer">#348</a>] Add <code>is</code> &amp; <code>is_not</code> to Expr</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/349" target="_blank" rel="noopener noreferrer">#349</a>] Add <code>CURRENT_TIMESTAMP</code> function</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/345" target="_blank" rel="noopener noreferrer">#345</a>] Add <code>in_tuple</code> method to Expr</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/266" target="_blank" rel="noopener noreferrer">#266</a>] Insert Default</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/324" target="_blank" rel="noopener noreferrer">#324</a>] Make <code>sea-query-driver</code> an optional dependency</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/334" target="_blank" rel="noopener noreferrer">#334</a>] Add <code>ABS</code> function</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/332" target="_blank" rel="noopener noreferrer">#332</a>] Support <code>IF NOT EXISTS</code> when create index</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/314" target="_blank" rel="noopener noreferrer">#314</a>] Support different <code>blob</code> types in MySQL</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/331" target="_blank" rel="noopener noreferrer">#331</a>] Add <code>VarBinary</code> column type</li><li>[<a href="https://github.com/SeaQL/sea-query/pull/335" target="_blank" rel="noopener noreferrer">#335</a>] <code>RETURNING</code> expression supporting <code>SimpleExpr</code></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaQuery plays well with the other crates in the rust ecosystem. </p><ul><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/postgres" target="_blank" rel="noopener noreferrer">Postgres Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/rusqlite" target="_blank" rel="noopener noreferrer">Rusqlite Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_any" target="_blank" rel="noopener noreferrer">SQLx Any Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_postgres" target="_blank" rel="noopener noreferrer">SQLx Postgres Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_mysql" target="_blank" rel="noopener noreferrer">SQLx MySql Example</a></li><li><a href="https://github.com/SeaQL/sea-query/tree/master/examples/sqlx_sqlite" target="_blank" rel="noopener noreferrer">SQLx Sqlite Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="It&#x27;s hard to pin down the exact date, but I think SeaQL.org was setup in July 2020, a little over a year ago. Over the course of the year, SeaORM went from 0.1 to 0.9 and the number of users kept growing. I would like to outline our engineering process in this blog post, and perhaps it can serve as a reference or guidance to prospective contributors and the future maintainer of this project."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-07-30-engineering/">Engineering at SeaQL.org</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-07-30T00:00:00.000Z" itemprop="datePublished">July 30, 2022</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">Lead Developer</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>It&#x27;s hard to pin down the exact date, but I think SeaQL.org was setup in July 2020, a little over a year ago. Over the course of the year, SeaORM went from 0.1 to 0.9 and the number of users kept growing. I would like to outline our engineering process in this blog post, and perhaps it can serve as a reference or guidance to prospective contributors and the future maintainer of this project.</p><p>In the open source world, the Benevolent Dictator for Life (BDL) model underpins a number of successful open source projects. That&#x27;s not me! As a maintainer, I believe in an open, bottom-up, iterative and progressive approach. Let me explain each of these words and what they mean to me.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="open">Open<a href="#open" class="hash-link" aria-label="Direct link to Open" title="Direct link to Open">‚Äã</a></h3><p>Open as in source availability, but also engineering. We always welcome new contributors! We&#x27;d openly discuss ideas and designs. I would often explain why a decision was made in the first place for various things. The project is structured not as a monorepo, but several interdependent repos. This reduces the friction for new contributors, because they can have a smaller field of vision to focus on solving one particular problem at hand.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="bottom-up">Bottom-up<a href="#bottom-up" class="hash-link" aria-label="Direct link to Bottom-up" title="Direct link to Bottom-up">‚Äã</a></h3><p>We rely on users to file feature requests, bug reports and of course pull requests to drive the project forward. The great thing is, for every feature / bug fix, there is a use case for it and a confirmation from a real user that it works and is reasonable. As a maintainer, I could not have first hand experience for all features and so could not understand some of the pain points.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="iterative">Iterative<a href="#iterative" class="hash-link" aria-label="Direct link to Iterative" title="Direct link to Iterative">‚Äã</a></h3><p>Open source software is imperfect, impermanent and incomplete. While I do have a grand vision in mind, we do not try rushing it all the way in one charge, nor keeping a project secret until it is &#x27;complete&#x27;. Good old &#x27;release early, release often&#x27; - we would release an initial working version of a tool, gather user feedback and improve upon it, often reimplementing a few things and break a few others - which brings us to the next point.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="progressive">Progressive<a href="#progressive" class="hash-link" aria-label="Direct link to Progressive" title="Direct link to Progressive">‚Äã</a></h3><p>Favour progression. Always look forward and leave legacy behind. It does not mean that we would arbitrary break things, but when a decision is made, we&#x27;d always imagine how the software <em>should be</em> without historic context. We&#x27;d provide migrate paths and encourage users to move forward with us. After all, Rust is a young and evolving language! You may or may not know that <code>async</code> was just stabilized in 2020.</p><p>Enough said for the philosophy, let&#x27;s now talk about the actual engineering process.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="1-idea--design">1. Idea &amp; Design<a href="#1-idea--design" class="hash-link" aria-label="Direct link to 1. Idea &amp; Design" title="Direct link to 1. Idea &amp; Design">‚Äã</a></h3><p>We first have some vague idea on what problem we want to tackle. As we put in more details to the use case, we can define the problem and brainstorm solutions. Then we look for workable ways to implement that in Rust.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="2-implementation">2. Implementation<a href="#2-implementation" class="hash-link" aria-label="Direct link to 2. Implementation" title="Direct link to 2. Implementation">‚Äã</a></h3><p>An initial proof of concept is appreciated. We iterate on the implementation to reduce the impact and improve the maintainability.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="3-testing">3. Testing<a href="#3-testing" class="hash-link" aria-label="Direct link to 3. Testing" title="Direct link to 3. Testing">‚Äã</a></h3><p>We rely on automated tests. Every feature should come with corresponding tests, and a release is good if and only if all tests are green. Which means for features not covered by our test suite, it is an uncertainty to when we would break them. So if certain undocumented feature is important to you, we encourage you to add that to our test suite.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="4-documentation">4. Documentation<a href="#4-documentation" class="hash-link" aria-label="Direct link to 4. Documentation" title="Direct link to 4. Documentation">‚Äã</a></h3><p>Coding is not complete without documentation. Rust doc tests kill two birds with one stone and so is greatly appreciated. For SeaORM we have separate documentation repository and tutorial repository. It takes a lot of effort to maintain those to be up to date, and right now it&#x27;s mostly done by our core contributors.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="5-release">5. Release<a href="#5-release" class="hash-link" aria-label="Direct link to 5. Release" title="Direct link to 5. Release">‚Äã</a></h3><p>We run on a release train model, although the frequency varies. The ethos is to have small number breaking changes often. At one point, SeaQuery has a new release every week. SeaORM runs on monthly, although it more or less relaxes to bimonthly now. At any time, we maintain two branches, the latest release and master. PRs are always merged into master, and if it is non-breaking (and worthy) I would backport it to the release branch and make a minor release. At the end, I want to maintain momentum and move forward together with the community. Users can have a rough expectation on when merges will be released. And there are just <strong>lots</strong> of change we cannot avoid a breaking release as of the current state of the Rust ecosystem. Users are advised to upgrade regularly, and we ship along many small improvements to encourage that.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>Open source software is a collaborative effort and thank you all who participated! Also a big thanks to SeaQL&#x27;s core contributors who made wonders. If you have not already, I invite you to star all our repositories. If you want to support us materially, a small donation would make a big difference. SeaQL the organization is still in its infancy, and your support is vital to SeaQL&#x27;s longevity and the prospect of the Rust community.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.9.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-07-17-whats-new-in-0.9.0/">What&#x27;s new in SeaORM 0.9.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-07-17T00:00:00.000Z" itemprop="datePublished">July 17, 2022</time> ¬∑ <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.9.0" target="_blank" rel="noopener noreferrer"><code>0.9.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="dependency-upgrades">Dependency Upgrades<a href="#dependency-upgrades" class="hash-link" aria-label="Direct link to Dependency Upgrades" title="Direct link to Dependency Upgrades">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/834" target="_blank" rel="noopener noreferrer">#834</a>] We have upgraded a few major dependencies:</p><ul><li>Upgrade <a href="https://github.com/launchbadge/sqlx" target="_blank" rel="noopener noreferrer"><code>sqlx</code></a> to 0.6</li><li>Upgrade <a href="https://github.com/time-rs/time" target="_blank" rel="noopener noreferrer"><code>time</code></a> to 0.3</li><li>Upgrade <a href="https://github.com/uuid-rs/uuid" target="_blank" rel="noopener noreferrer"><code>uuid</code></a> to 1.0</li><li>Upgrade <a href="https://github.com/SeaQL/sea-query" target="_blank" rel="noopener noreferrer"><code>sea-query</code></a> to 0.26</li><li>Upgrade <a href="https://github.com/SeaQL/sea-schema" target="_blank" rel="noopener noreferrer"><code>sea-schema</code></a> to 0.9</li></ul><p>Note that you might need to upgrade the corresponding dependency on your application as well.</p><div class="row"><div class="col col--8 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Proposed by:</div></div><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/D1plo1d" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/145184?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Rob Gilson</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/boraarslan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/44371603?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">boraarslan</div></div></div></div></div></div><div class="col col--4 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Contributed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="cursor-pagination">Cursor Pagination<a href="#cursor-pagination" class="hash-link" aria-label="Direct link to Cursor Pagination" title="Direct link to Cursor Pagination">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/822" target="_blank" rel="noopener noreferrer">#822</a>] Paginate models based on column(s) such as the primary key.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Create a cursor that order by `cake`.`id`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> cursor </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">cursor_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Filter paginated result by `cake`.`id` &gt; 1 AND `cake`.`id` &lt; 100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">after</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">before</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Get first 10 rows (order by `cake`.`id` ASC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> rows</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">first</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Get last 10 rows (order by `cake`.`id` DESC but rows are returned in ascending order)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> rows</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cursor</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">last</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--4 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Proposed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/lberezy" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/5207383?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Lucas Berezy</div></div></div></div></div></div><div class="col col--8 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Contributed by:</div></div><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="insert-on-conflict">Insert On Conflict<a href="#insert-on-conflict" class="hash-link" aria-label="Direct link to Insert On Conflict" title="Direct link to Insert On Conflict">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/791" target="_blank" rel="noopener noreferrer">#791</a>] Insert an active model with on conflict behaviour.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> orange </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Orange&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// On conflict do nothing: </span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//   - INSERT INTO &quot;cake&quot; (&quot;id&quot;, &quot;name&quot;) VALUES (2, &#x27;Orange&#x27;) ON CONFLICT (&quot;name&quot;) DO NOTHING</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">orange</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">clone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_conflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">OnConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">do_nothing</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// On conflict do update:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//   - INSERT INTO &quot;cake&quot; (&quot;id&quot;, &quot;name&quot;) VALUES (2, &#x27;Orange&#x27;) ON CONFLICT (&quot;name&quot;) DO UPDATE SET &quot;name&quot; = &quot;excluded&quot;.&quot;name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">orange</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_conflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">OnConflict</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">update_column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Proposed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/baoyachi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/10433001?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">baoyachi. Aka Rust Hairy crabs</div></div></div></div></div></div><div class="col col--6 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Contributed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/liberwang1013" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16575148?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">liberwang1013</div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="join-table-with-custom-conditions-and-table-alias">Join Table with Custom Conditions and Table Alias<a href="#join-table-with-custom-conditions-and-table-alias" class="hash-link" aria-label="Direct link to Join Table with Custom Conditions and Table Alias" title="Direct link to Join Table with Custom Conditions and Table Alias">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/793" target="_blank" rel="noopener noreferrer">#793</a>, <a href="https://github.com/SeaQL/sea-orm/pull/852" target="_blank" rel="noopener noreferrer">#852</a>] Click <a href="https://www.sea-ql.org/SeaORM/docs/next/relation/custom-join-condition" target="_blank" rel="noopener noreferrer">Custom Join Conditions</a> and <a href="https://www.sea-ql.org/SeaORM/docs/next/advanced-query/custom-joins" target="_blank" rel="noopener noreferrer">Custom Joins</a> to learn more.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit_alias&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_simple_expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit_name&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">JoinType</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">LeftJoin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">def</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">on_condition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">_left</span><span class="token closure-params punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token closure-params"> right</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">tbl</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">right</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">like</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;%tropical%&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_condition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Alias</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;fruit_alias&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SELECT `cake`.`id`, `cake`.`name`, `fruit_alias`.`name` AS `fruit_name` FROM `cake`&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;LEFT JOIN `fruit` AS `fruit_alias` ON `cake`.`id` = `fruit_alias`.`cake_id` AND `fruit_alias`.`name` LIKE &#x27;%tropical%&#x27;&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">join</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Proposed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/Tuetuopay" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/4009336?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Tuetuopay</div></div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/nag763" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/55486724?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Lo√Øc</div></div></div></div></div></div><div class="col col--6 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Contributed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/MattGson" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/20088009?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Matt</div></div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/liberwang1013" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16575148?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">liberwang1013</div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="deserialize-custom-json-type">(de)serialize Custom JSON Type<a href="#deserialize-custom-json-type" class="hash-link" aria-label="Direct link to (de)serialize Custom JSON Type" title="Direct link to (de)serialize Custom JSON Type">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/794" target="_blank" rel="noopener noreferrer">#794</a>] JSON stored in the database could be deserialized into custom struct in Rust.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;json_struct&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// JSON column defined in `serde_json::Value`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// JSON column defined in custom struct</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> json_value</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">KeyValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> json_value_opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">KeyValue</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// The custom struct must derive `FromJsonQueryResult`, `Serialize` and `Deserialize`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, Serialize, Deserialize, FromJsonQueryResult)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">KeyValue</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">f32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> notes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Proposed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/mara214" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/37018485?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Mara Schulke</div></div></div></div><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div></div></div><div class="col col--6 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Contributed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="derived-migration-name">Derived Migration Name<a href="#derived-migration-name" class="hash-link" aria-label="Direct link to Derived Migration Name" title="Direct link to Derived Migration Name">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/736" target="_blank" rel="noopener noreferrer">#736</a>] Introduce <code>DeriveMigrationName</code> procedural macros to infer migration name from the file name.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm_migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Used to be...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationName</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;m20220120_000001_create_post_table&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Now... derive `DeriveMigrationName`,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// no longer have to specify the migration name explicitly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveMigrationName)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">down</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">drop_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--4 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Proposed by:</div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div></div></div><div class="col col--8 margin-bottom--md"><div class="row"><div class="col col--12 margin-bottom--md">Contributed by:</div></div><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/smonv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8962973?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">smonv</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/inf0rm4tik3r" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/9355833?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Lukas Potthast</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="seaorm-cli-improvements">SeaORM CLI Improvements<a href="#seaorm-cli-improvements" class="hash-link" aria-label="Direct link to SeaORM CLI Improvements" title="Direct link to SeaORM CLI Improvements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/735" target="_blank" rel="noopener noreferrer">#735</a>] Improve logging of generate entity command</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/588" target="_blank" rel="noopener noreferrer">#588</a>] Generate enum with numeric like variants</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/755" target="_blank" rel="noopener noreferrer">#755</a>] Allow old pending migration to be applied</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/837" target="_blank" rel="noopener noreferrer">#837</a>] Skip generating entity for ignored tables</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/724" target="_blank" rel="noopener noreferrer">#724</a>] Generate code for <code>time</code> crate</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/850" target="_blank" rel="noopener noreferrer">#850</a>] Add various blob column types</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/422" target="_blank" rel="noopener noreferrer">#422</a>] Generate entity files with Postgres&#x27;s schema name</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/851" target="_blank" rel="noopener noreferrer">#851</a>] Skip checking connection string for credentials</li></ul><div class="row"><div class="col col--12 margin-bottom--md">Proposed &amp; Contributed by:</div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/ttys3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/41882455?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">ttys3</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/kyoto7250" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/50972773?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">kyoto7250</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/yb3616" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8839021?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">yb3616</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/cemoktra" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/15634263?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Bastian</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/nahuakang" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/18533347?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Nahua</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/hunjixin" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/41407352?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Mike</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/frankhorv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/6849119?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Frank Horvath</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/maikelwever" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1009019?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Maikel Wever</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="miscellaneous-enhancements">Miscellaneous Enhancements<a href="#miscellaneous-enhancements" class="hash-link" aria-label="Direct link to Miscellaneous Enhancements" title="Direct link to Miscellaneous Enhancements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/800" target="_blank" rel="noopener noreferrer">#800</a>] Added <code>sqlx_logging_level</code> to <code>ConnectOptions</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/768" target="_blank" rel="noopener noreferrer">#768</a>] Added <code>num_items_and_pages</code> to <code>Paginator</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/849" target="_blank" rel="noopener noreferrer">#849</a>] Added <code>TryFromU64</code> for <code>time</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/853" target="_blank" rel="noopener noreferrer">#853</a>] Include column name in <code>TryGetError::Null</code></li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/778" target="_blank" rel="noopener noreferrer">#778</a>] Refactor stream metrics</li></ul><div class="row"><div class="col col--12 margin-bottom--md">Proposed &amp; Contributed by:</div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/SandaruKasa" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/50824690?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">SandaruKasa</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/fistons" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/972209?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Eric</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/dinhani" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1139781?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Renato Dinhani</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/kyoto7250" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/50972773?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">kyoto7250</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7566389?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marco Napetti</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaORM plays well with the other crates in the async ecosystem. We maintain an array of example projects for building REST, GraphQL and gRPC services. More examples <a href="https://github.com/SeaQL/sea-orm/issues/269" target="_blank" rel="noopener noreferrer">wanted</a>!</p><ul><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example" target="_blank" rel="noopener noreferrer">Actix v4 Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example" target="_blank" rel="noopener noreferrer">Axum Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example" target="_blank" rel="noopener noreferrer">GraphQL Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example" target="_blank" rel="noopener noreferrer">jsonrpsee Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example" target="_blank" rel="noopener noreferrer">Poem Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example" target="_blank" rel="noopener noreferrer">Rocket Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/salvo_example" target="_blank" rel="noopener noreferrer">Salvo Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example" target="_blank" rel="noopener noreferrer">Tonic Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/10" target="_blank" rel="noopener noreferrer"><code>0.10.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="We are thrilled to announce that we will bring in four contributors this summer! Two of them are sponsored by Google while two of them are sponsored by SeaQL."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-06-02-summer-of-code-2022-intro/">Welcome Summer of Code 2022 Contributors</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-06-02T00:00:00.000Z" itemprop="datePublished">June 2, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are thrilled to announce that we will bring in four contributors this summer! Two of them are sponsored by Google while two of them are sponsored by SeaQL.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="a-graphql-framework-on-top-of-seaorm">A GraphQL Framework on Top of SeaORM<a href="#a-graphql-framework-on-top-of-seaorm" class="hash-link" aria-label="Direct link to A GraphQL Framework on Top of SeaORM" title="Direct link to A GraphQL Framework on Top of SeaORM">‚Äã</a></h3><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/karatakis" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7329022?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Panagiotis Karatakis</div></div></div></div></div><p>I&#x27;m Panagiotis, I live in Athens Greece and currently I pursue my second bachelors on economic sciences. My first bachelors was on computer science and I&#x27;ve a great passion on studying and implementing enterprise software solutions. I know Rust the last year and I used it almost daily for a small startup project that me and my friends build for a startup competition.</p><p>I&#x27;ll be working on creating a CLI tool that will explore a database schema and then generate a ready to build <code>async-graphql</code> API. The tool will allow quick integration with the SeaQL and Rust ecosystems as well as GraphQL. To be more specific, for database exploring I&#x27;ll use <code>sea-schema</code> and <code>sea-orm-codegen</code> for entity generation, my job is to glue those together with <code>async-graphql</code> library. You can read more <a href="https://github.com/SeaQL/summer-of-code/discussions/12" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="sql-interpreter-for-mock-testing">SQL Interpreter for Mock Testing<a href="#sql-interpreter-for-mock-testing" class="hash-link" aria-label="Direct link to SQL Interpreter for Mock Testing" title="Direct link to SQL Interpreter for Mock Testing">‚Äã</a></h3><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/Samyak2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img loading="lazy" src="https://avatars.githubusercontent.com/u/34161949?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Samyak Sarnayak</div></div></div></div></div><p>I&#x27;m Samyak Sarnayak, a final year Computer Science student from Bangalore, India. I started learning Rust around 6-7 months ago and it feels like I have found the perfect language for me :D. It does not have a runtime, has a great type system, really good compiler errors, good tooling, some functional programming patterns and metaprogramming. You can find more about me on my GitHub profile.</p><p>I&#x27;ll be working on a new SQL interpreter for mock testing. This will be built specifically for testing and so the emphasis will be on correctness - it can be slow but the operations must always be correct. I&#x27;m hoping to build a working version of this and integrate it into the existing tests of SeaORM. Here is the <a href="https://github.com/SeaQL/summer-of-code/discussions/11" target="_blank" rel="noopener noreferrer">discussion</a> for this project.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="support-tidb-in-the-seaql-ecosystem">Support TiDB in the SeaQL Ecosystem<a href="#support-tidb-in-the-seaql-ecosystem" class="hash-link" aria-label="Direct link to Support TiDB in the SeaQL Ecosystem" title="Direct link to Support TiDB in the SeaQL Ecosystem">‚Äã</a></h3><p>Edit: This project was canceled.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="query-linter-for-seaorm">Query Linter for SeaORM<a href="#query-linter-for-seaorm" class="hash-link" aria-label="Direct link to Query Linter for SeaORM" title="Direct link to Query Linter for SeaORM">‚Äã</a></h3><p>Edit: This project was canceled.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="mentors">Mentors<a href="#mentors" class="hash-link" aria-label="Direct link to Mentors" title="Direct link to Mentors">‚Äã</a></h2><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div></div><p>I am a strong believer in open source. I started my GitHub journey 10 years ago, when I published my first programming library. I had been looking for a programming language with speed, ergonomic and expressiveness. Until I found Rust.</p><p>Seeing a niche and demand for data engineering tools in the Rust ecosystem, I founded SeaQL in 2020 and have been leading the development and maintaining the libraries since then.</p><br><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><p>Hey, this is Billy from Hong Kong. I&#x27;ve been using open-source libraries ever since I started coding but it&#x27;s until 2020, I dedicated myself to be a Rust open-source developer.</p><p>I was also a full-stack developer specialized in formulating requirement specifications for user interfaces and database structures, implementing and testing both frontend and backend from ground up, finally releasing the MVP for production and maintaining it for years to come.</p><p>I enjoy working with Rustaceans across the globe, building a better and sustainable ecosystem for Rust community. If you like what we do, consider starring, commenting, sharing and contributing, it would be much appreciated.</p><br><div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a href="https://github.com/shpun817" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img loading="lazy" src="https://avatars.githubusercontent.com/u/47468266?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sanford Pun</div></div></div></div></div><p>I&#x27;m Sanford, an enthusiastic software engineer who enjoys problem-solving! I&#x27;ve worked on Rust for a couple of years now. During my early days with Rust, I focused more on the field of graphics/image processing, where I fell in love with what the language has to offer! This year, I&#x27;ve been exploring data engineering in the StarfishQL project.</p><p>A toast to the endless potential of Rust!</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>If you are interested in the projects and want to share your thoughts, please star and watch the <a href="https://github.com/SeaQL/summer-of-code" target="_blank" rel="noopener noreferrer">SeaQL/summer-of-code</a> repository on GitHub and join us on our <a href="https://discord.com/invite/uCPdDXzbdv" target="_blank" rel="noopener noreferrer">Discord server</a>!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.8.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-05-15-whats-new-in-0.8.0/">What&#x27;s new in SeaORM 0.8.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-05-15T00:00:00.000Z" itemprop="datePublished">May 15, 2022</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.8.0" target="_blank" rel="noopener noreferrer"><code>0.8.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="migration-utilities-moved-to-sea-orm-migration-crate">Migration Utilities Moved to <code>sea-orm-migration</code> crate<a href="#migration-utilities-moved-to-sea-orm-migration-crate" class="hash-link" aria-label="Direct link to migration-utilities-moved-to-sea-orm-migration-crate" title="Direct link to migration-utilities-moved-to-sea-orm-migration-crate">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/666" target="_blank" rel="noopener noreferrer">#666</a>] Utilities of SeaORM migration have been moved from <code>sea-schema</code> to <code>sea-orm-migration</code> crate. Users are advised to upgrade from older versions with the following steps:</p><ol><li><p>Bump <code>sea-orm</code> version to <code>0.8.0</code>.</p></li><li><p>Replace <code>sea-schema</code> dependency with <code>sea-orm-migration</code> in your <code>migration</code> crate.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockTitle_py4g">migration/Cargo.toml</div><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">[dependencies]</span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"> sea-schema = { version = &quot;^0.7.0&quot;, ... }</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> sea-orm-migration = { version = &quot;^0.8.0&quot; }</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Find and replace <code>use sea_schema::migration::</code> with <code>use sea_orm_migration::</code> in your <code>migration</code> crate.</p><div class="language-diff codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-diff codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"> use sea_schema::migration::prelude::*;</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> use sea_orm_migration::prelude::*;</span><br></span><span class="token-line" style="color:#000000"><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"></span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token deleted-sign deleted prefix deleted" style="color:rgb(163, 21, 21)">-</span><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"> use sea_schema::migration::*;</span><br></span><span class="token-line" style="color:#000000"><span class="token deleted-sign deleted line" style="color:rgb(163, 21, 21)"></span><span class="token inserted-sign inserted prefix inserted" style="color:rgb(9, 134, 88)">+</span><span class="token inserted-sign inserted line" style="color:rgb(9, 134, 88)"> use sea_orm_migration::*;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><div class="row"><div class="col col--6 margin-bottom--md">Designed by:<br><br><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="generating-new-migration">Generating New Migration<a href="#generating-new-migration" class="hash-link" aria-label="Direct link to Generating New Migration" title="Direct link to Generating New Migration">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/656" target="_blank" rel="noopener noreferrer">#656</a>] You can create a new migration with the <code>migrate generate</code> subcommand. This simplifies the migration process, as new migrations no longer need to be added manually.</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)"># A migration file `MIGRATION_DIR/src/mYYYYMMDD_HHMMSS_create_product_table.rs` will be created.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)"># And, the migration file will be imported and included in the migrator located at `MIGRATION_DIR/src/lib.rs`.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">sea-orm-cli migrate generate create_product_table</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed &amp; Contributed by:<br><br><div class="avatar"><a href="https://github.com/viktorbahr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8578264?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Viktor Bahr</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="inserting-one-with-default">Inserting One with Default<a href="#inserting-one-with-default" class="hash-link" aria-label="Direct link to Inserting One with Default" title="Direct link to Inserting One with Default">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/589" target="_blank" rel="noopener noreferrer">#589</a>] Insert a row populate with default values. Note that the target table should have default values defined for all of its columns.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> pear </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// all attributes are `NotSet`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// The SQL statement:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//   - MySQL: INSERT INTO `fruit` VALUES ()</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//   - SQLite: INSERT INTO &quot;fruit&quot; DEFAULT VALUES</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">//   - PostgreSQL: INSERT INTO &quot;fruit&quot; VALUES (DEFAULT) RETURNING &quot;id&quot;, &quot;name&quot;, &quot;cake_id&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> pear</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> pear</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/Crypto-Virus" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/6034171?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Crypto-Virus</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="checking-if-an-activemodel-is-changed">Checking if an <code>ActiveModel</code> is changed<a href="#checking-if-an-activemodel-is-changed" class="hash-link" aria-label="Direct link to checking-if-an-activemodel-is-changed" title="Direct link to checking-if-an-activemodel-is-changed">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/683" target="_blank" rel="noopener noreferrer">#683</a>] You can check whether any field in an <code>ActiveModel</code> is <code>Set</code> with the help of the <code>is_changed</code> method.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">!</span><span class="token plain">fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">is_changed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">is_changed</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/kudlatyamroth" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2165237?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Karol Fuksiewicz</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/kirawi" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/67773714?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Kirawi</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="minor-improvements">Minor Improvements<a href="#minor-improvements" class="hash-link" aria-label="Direct link to Minor Improvements" title="Direct link to Minor Improvements">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/670" target="_blank" rel="noopener noreferrer">#670</a>] Add <code>max_connections</code> option to <code>sea-orm-cli generate entity</code> subcommand</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/677" target="_blank" rel="noopener noreferrer">#677</a>] Derive <code>Eq</code> and <code>Clone</code> for <code>DbErr</code></li></ul><div class="row"><div class="col col--6 margin-bottom--md">Proposed &amp; Contributed by:<br><br><div class="avatar"><a href="https://github.com/benluelo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/57334811?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">benluelo</div></div></div><br><div class="avatar"><a href="https://github.com/SebastienGllmt" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2608559?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sebastien Guillemot</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="integration-examples">Integration Examples<a href="#integration-examples" class="hash-link" aria-label="Direct link to Integration Examples" title="Direct link to Integration Examples">‚Äã</a></h2><p>SeaORM plays well with the other crates in the async ecosystem. It can be integrated easily with common RESTful frameworks and also gRPC frameworks; check out our new <a href="https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example" target="_blank" rel="noopener noreferrer">Tonic example</a> to see how it works. More examples <a href="https://github.com/SeaQL/sea-orm/issues/269" target="_blank" rel="noopener noreferrer">wanted</a>!</p><ul><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example" target="_blank" rel="noopener noreferrer">Rocket Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/actix_example" target="_blank" rel="noopener noreferrer">Actix Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example" target="_blank" rel="noopener noreferrer">Axum Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/poem_example" target="_blank" rel="noopener noreferrer">Poem Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/graphql_example" target="_blank" rel="noopener noreferrer">GraphQL Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/jsonrpsee_example" target="_blank" rel="noopener noreferrer">jsonrpsee Example</a></li><li><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/tonic_example" target="_blank" rel="noopener noreferrer">Tonic Example</a></li></ul><h2 class="anchor anchorWithStickyNavbar_w1X2" id="whos-using-seaorm">Who&#x27;s using SeaORM?<a href="#whos-using-seaorm" class="hash-link" aria-label="Direct link to Who&#x27;s using SeaORM?" title="Direct link to Who&#x27;s using SeaORM?">‚Äã</a></h2><p>The following products are powered by SeaORM:</p><table><tbody><tr><td><br><a href="https://caido.io/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/SeaORM/img/other/caido-logo.png" width="250" class="img_WBRq"></a><br>A lightweight web security auditing toolkit</td><td><a href="https://www.svix.com/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/SeaORM/img/other/svix-logo.svg" width="250" class="img_WBRq"></a><br>The enterprise ready webhooks service</td><td><a href="https://www.spyglass.fyi/" target="_blank" rel="noopener noreferrer"><img loading="lazy" src="https://www.sea-ql.org/SeaORM/img/other/spyglass-logo.svg" width="250" class="img_WBRq"></a><br>A personal search engine</td></tr></tbody></table><p>SeaORM is the foundation of <a href="https://github.com/SeaQL/starfish-ql" target="_blank" rel="noopener noreferrer">StarfishQL</a>, an experimental graph database and query engine.</p><p>For more projects, see <a href="https://github.com/SeaQL/sea-orm/blob/master/COMMUNITY.md#built-with-seaorm" target="_blank" rel="noopener noreferrer">Built with SeaORM</a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/exzachlyvv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46034847?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zachary Vander Velden</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/9" target="_blank" rel="noopener noreferrer"><code>0.9.x</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="gsoc-2022">GSoC 2022<a href="#gsoc-2022" class="hash-link" aria-label="Direct link to GSoC 2022" title="Direct link to GSoC 2022">‚Äã</a></h2><p>We are super excited to be selected as a Google Summer of Code 2022 <a href="https://summerofcode.withgoogle.com/programs/2022/organizations/seaql" target="_blank" rel="noopener noreferrer">mentor organization</a>. The application is now closed, but the program is about to start! If you have thoughts over how we are going to implement the <a href="https://github.com/SeaQL/summer-of-code/tree/main/2022" target="_blank" rel="noopener noreferrer">project ideas</a>, feel free to participate in the discussion.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="FAQ.01 Why SeaORM does not nest objects for parent-child relation?"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-05-14-faq-01/">SeaORM FAQ.01</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-05-14T00:00:00.000Z" itemprop="datePublished">May 14, 2022</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_w1X2" id="faq01-why-seaorm-does-not-nest-objects-for-parent-child-relation">FAQ.01 Why SeaORM does not nest objects for parent-child relation?<a href="#faq01-why-seaorm-does-not-nest-objects-for-parent-child-relation" class="hash-link" aria-label="Direct link to FAQ.01 Why SeaORM does not nest objects for parent-child relation?" title="Direct link to FAQ.01 Why SeaORM does not nest objects for parent-child relation?">‚Äã</a></h2><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cake_with_fruits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">find_with_related</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Consider the above API, <code>Cake</code> and <code>Fruit</code> are two separate models.</p><p>If you come from a dynamic language, you&#x27;d probably used to:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>It&#x27;s so convenient that you can simply:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cake </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">println!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Fruit = {}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Sweet right? Okay so, the problem with this pattern is that it does not fit well with Rust.</p><p>Let&#x27;s look at this playground: <a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=6fb0a981189ace081fbb2aa04f50146b" target="_blank" rel="noopener noreferrer">https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2021&amp;gist=6fb0a981189ace081fbb2aa04f50146b</a></p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Parent</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    child</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Child</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">ParentWithBox</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    child</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Box</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Child</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Child</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    a</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    b</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    c</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    d</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">dbg!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">size_of</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Parent</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">dbg!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">size_of</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">ParentWithBox</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">dbg!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">std</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">mem</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">size_of</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Child</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What&#x27;s the output you guess?</p><div class="language-log codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-log codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">[src/main.rs:21] std::mem::size_of::&lt;Parent&gt;() = 48</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[src/main.rs:22] std::mem::size_of::&lt;ParentWithBox&gt;() = 16</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">[src/main.rs:23] std::mem::size_of::&lt;Child&gt;() = 32</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In dynamic languages, objects are always held by pointers, and that maps to a <code>Box</code> in Rust. In Rust, we don&#x27;t put objects in <code>Box</code>es by default, because it forces the object to be allocated on the heap. And that is an extra cost! Because objects are always first constructed on the stack and then being copied over to the heap.</p><p>Ref:</p><ol><li><a href="https://users.rust-lang.org/t/how-to-create-large-objects-directly-in-heap/26405" target="_blank" rel="noopener noreferrer">https://users.rust-lang.org/t/how-to-create-large-objects-directly-in-heap/26405</a></li><li><a href="https://github.com/PoignardAzur/placement-by-return/blob/placement-by-return/text/0000-placement-by-return.md" target="_blank" rel="noopener noreferrer">https://github.com/PoignardAzur/placement-by-return/blob/placement-by-return/text/0000-placement-by-return.md</a></li></ol><p>We face the dilemma where we either put the object on the stack and waste some space (it takes up 48 bytes no matter <code>child</code> is <code>None</code> or not) or put the object in a box and waste some cycles.</p><p>If you are new to Rust, all these might be unfamiliar, but a Rust programmer has to consciously make decisions over memory management, and we don&#x27;t want to make decisions on behalf of our users.</p><p>That said, there were proposals to add API with this style to SeaORM, and we might implement that in the future. Hopefully this would shed some light on the matter meanwhile.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="We are pleased to introduce StarfishQL to the Rust community today. StarfishQL is a graph database and query engine to enable graph analysis and visualization on the web. It is an experimental project, with its primary purpose to explore the dependency network of Rust crates published on crates.io."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-04-04-introducing-starfish-ql/">Introducing StarfishQL</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-04-04T00:00:00.000Z" itemprop="datePublished">April 4, 2022</time> ¬∑ <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are pleased to introduce <a href="https://www.sea-ql.org/StarfishQL/" target="_blank" rel="noopener noreferrer">StarfishQL</a> to the Rust community today. StarfishQL is a graph database and query engine to enable graph analysis and visualization on the web. It is an experimental project, with its primary purpose to explore the dependency network of Rust crates published on crates.io.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="motivation">Motivation<a href="#motivation" class="hash-link" aria-label="Direct link to Motivation" title="Direct link to Motivation">‚Äã</a></h2><p>StarfishQL is a framework for providing a graph database and a graph query engine that interacts with it.</p><p>A concrete example (Freeport) involving the graph of crate dependency on <a href="https://crates.io/" target="_blank" rel="noopener noreferrer">crates.io</a> is used for illustration. With this example, you can see StarfishQL in action.</p><p>At the end of the day, we&#x27;re interested in performing graph analysis, that is to extract meaningful information out of plain graph data. To achieve that, we believe that visualization is a crucial aid.</p><p>StarfishQL&#x27;s query engine is designed to be able to incorporate different forms of visualization by using a flexible query language. However, the development of the project has been centred around the following, as showcased in our <a href="https://starfish-ql.sea-ql.org/" target="_blank" rel="noopener noreferrer">demo apps</a>.</p><div class="row" id="colourful-graphs"><div class="col col--6 margin-bottom--md"><div class="card item shadow--lw"><div class="card__header"><a href="https://starfish-ql.sea-ql.org/graph.html" target="_blank" rel="noopener noreferrer"><h3>Top-N Dependencies</h3></a></div><div class="card__body"><img loading="lazy" src="https://www.sea-ql.org/StarfishQL/img/graph.png" class="img_WBRq"><p>Traverse the dependency graph in the normal direction starting from the N most connected nodes.</p></div></div></div><div class="col col--6 margin-bottom--md"><div class="card item shadow--lw"><div class="card__header"><a href="https://starfish-ql.sea-ql.org/tree.html" target="_blank" rel="noopener noreferrer"><h3>Dependencies &amp; Dependents</h3></a></div><div class="card__body"><img loading="lazy" src="https://www.sea-ql.org/StarfishQL/img/tree.png" class="img_WBRq"><p>Traverse the dependency tree in both forward and reverse directions starting from a particular node.</p></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="design">Design<a href="#design" class="hash-link" aria-label="Direct link to Design" title="Direct link to Design">‚Äã</a></h2><p>In general, a query engine takes input queries written in a specific query language (e.g. SQL statements), performs the necessary operations in the database, and then outputs the data of interest to the user application. You may also view a query engine as an abstraction layer such that the user can design queries simply in the supported query language and let the query engine do the rest.</p><p>In the case of a graph query engine, the output data is a graph (<a href="https://en.wikipedia.org/wiki/Graph_(abstract_data_type)" target="_blank" rel="noopener noreferrer">wiki</a>).</p><p><img loading="lazy" src="https://www.sea-ql.org/StarfishQL/img/graph_query_engine_overview.png" alt="Graph query engine overview" class="img_WBRq"></p><p>In the case of StarfishQL, the query language is a custom language we defined in the JSON format, which enables the engine to be highly accessible and portable.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">‚Äã</a></h2><p>In the example of Freeport, StarfishQL consists of the following three components.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="graph-query-engine">Graph Query Engine<a href="#graph-query-engine" class="hash-link" aria-label="Direct link to Graph Query Engine" title="Direct link to Graph Query Engine">‚Äã</a></h3><p>As a core component of StarfishQL, the graph query engine is a Rust backend application powered by the <a href="https://crates.io/crates/rocket" target="_blank" rel="noopener noreferrer">Rocket</a> web framework and the <a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer">SeaQL ecosystem</a>.</p><p>The engine listens at the following endpoints for the corresponding operation:</p><ul><li><code>/schema</code> - <a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/defining-graph-schema" target="_blank" rel="noopener noreferrer">Define/Reset the schema</a></li><li><code>/mutate</code> - <a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/mutate-operations" target="_blank" rel="noopener noreferrer">Perform mutate operations</a></li><li><code>/query</code> - <a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/querying-graph-data" target="_blank" rel="noopener noreferrer">Perform queries</a></li></ul><p>You could also invoke the endpoints above programmatically.</p><p>Graph data are stored in a relational database:</p><ul><li><a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage" target="_blank" rel="noopener noreferrer">Metadata</a> - Definition of each entity and relation, e.g. attributes of crates and dependency</li><li><a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage#storage-of-entities" target="_blank" rel="noopener noreferrer">Node Data</a> - An instance of an entity, e.g. crate name and version number</li><li><a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/data-storage#storage-of-relations" target="_blank" rel="noopener noreferrer">Edge Data</a> - An instance of a relation, e.g. one crate depends on another</li></ul><h3 class="anchor anchorWithStickyNavbar_w1X2" id="cratesio-crawler">crates.io Crawler<a href="#cratesio-crawler" class="hash-link" aria-label="Direct link to crates.io Crawler" title="Direct link to crates.io Crawler">‚Äã</a></h3><p>To obtain the crate data to insert into the database, we used a <a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-crates-io-crawler/overview" target="_blank" rel="noopener noreferrer">fast, non-disruptive crawler</a> on a local clone of the public index repo of crates.io.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="graph-visualization">Graph Visualization<a href="#graph-visualization" class="hash-link" aria-label="Direct link to Graph Visualization" title="Direct link to Graph Visualization">‚Äã</a></h3><p>We used <a href="https://d3js.org/" target="_blank" rel="noopener noreferrer"><code>d3.js</code></a> to create force-directed graphs to display the results. The two <a href="#colourful-graphs">colourful graphs</a> above are such products.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="findings">Findings<a href="#findings" class="hash-link" aria-label="Direct link to Findings" title="Direct link to Findings">‚Äã</a></h2><p>Here are some interesting findings we made during the process.</p><div class="row"><div class="col col--12 margin-bottom--md"><div class="card item shadow--lw"><div class="card__header"><h3>Top-10 Dependencies</h3></div><div class="card__body"><p>List of top 10 crates order by different <a href="https://www.sea-ql.org/StarfishQL/docs/architecture-of-graph-query-engine/calculating-node-connectivity/#weight-decay-factors" target="_blank" rel="noopener noreferrer">decay modes</a>.</p><div class="row row--no-gutters"><div class="col col--4 padding-left--none padding-right--none"><table><thead><tr><th colspan="2">Decay Mode: Immediate / Simple Connectivity</th></tr><tr><th>crate</th><th>connectivity</th></tr></thead><tbody><tr><td><a href="https://crates.io/crates/serde" target="_blank" rel="noopener noreferrer">serde</a></td><td>17,441</td></tr><tr><td><a href="https://crates.io/crates/serde_json" target="_blank" rel="noopener noreferrer">serde_json</a></td><td>10,528</td></tr><tr><td><a href="https://crates.io/crates/log" target="_blank" rel="noopener noreferrer">log</a></td><td>9,220</td></tr><tr><td><a href="https://crates.io/crates/clap" target="_blank" rel="noopener noreferrer">clap</a></td><td>6,323</td></tr><tr><td><a href="https://crates.io/crates/thiserror" target="_blank" rel="noopener noreferrer">thiserror</a></td><td>5,547</td></tr><tr><td><a href="https://crates.io/crates/rand" target="_blank" rel="noopener noreferrer">rand</a></td><td>5,340</td></tr><tr><td><a href="https://crates.io/crates/futures" target="_blank" rel="noopener noreferrer">futures</a></td><td>5,263</td></tr><tr><td><a href="https://crates.io/crates/lazy_static" target="_blank" rel="noopener noreferrer">lazy_static</a></td><td>5,211</td></tr><tr><td><a href="https://crates.io/crates/tokio" target="_blank" rel="noopener noreferrer">tokio</a></td><td>5,168</td></tr><tr><td><a href="https://crates.io/crates/chrono" target="_blank" rel="noopener noreferrer">chrono</a></td><td>4,794</td></tr></tbody></table></div><div class="col col--4 padding-left--none padding-right--none"><table><thead><tr><th colspan="2">Decay Mode: Medium (.5) / Complex Connectivity</th></tr><tr><th>crate</th><th>connectivity</th></tr></thead><tbody><tr><td><a href="https://crates.io/crates/quote" target="_blank" rel="noopener noreferrer">quote</a></td><td>4,126</td></tr><tr><td><a href="https://crates.io/crates/syn" target="_blank" rel="noopener noreferrer">syn</a></td><td>4,069</td></tr><tr><td><a href="https://crates.io/crates/pure-rust-locales" target="_blank" rel="noopener noreferrer">pure-rust-locales</a></td><td>4,067</td></tr><tr><td><a href="https://crates.io/crates/reqwest" target="_blank" rel="noopener noreferrer">reqwest</a></td><td>3,950</td></tr><tr><td><a href="https://crates.io/crates/proc-macro2" target="_blank" rel="noopener noreferrer">proc-macro2</a></td><td>3,743</td></tr><tr><td><a href="https://crates.io/crates/num_threads" target="_blank" rel="noopener noreferrer">num_threads</a></td><td>3,555</td></tr><tr><td><a href="https://crates.io/crates/value-bag" target="_blank" rel="noopener noreferrer">value-bag</a></td><td>3,506</td></tr><tr><td><a href="https://crates.io/crates/futures-macro" target="_blank" rel="noopener noreferrer">futures-macro</a></td><td>3,455</td></tr><tr><td><a href="https://crates.io/crates/time-macros" target="_blank" rel="noopener noreferrer">time-macros</a></td><td>3,450</td></tr><tr><td><a href="https://crates.io/crates/thiserror-impl" target="_blank" rel="noopener noreferrer">thiserror-impl</a></td><td>3,416</td></tr></tbody></table></div><div class="col col--4 padding-left--none padding-right--none"><table><thead><tr><th colspan="2">Decay Mode: None / Compound Connectivity</th></tr><tr><th>crate</th><th>connectivity</th></tr></thead><tbody><tr><td><a href="https://crates.io/crates/unicode-xid" target="_blank" rel="noopener noreferrer">unicode-xid</a></td><td>54,982</td></tr><tr><td><a href="https://crates.io/crates/proc-macro2" target="_blank" rel="noopener noreferrer">proc-macro2</a></td><td>54,949</td></tr><tr><td><a href="https://crates.io/crates/quote" target="_blank" rel="noopener noreferrer">quote</a></td><td>54,910</td></tr><tr><td><a href="https://crates.io/crates/syn" target="_blank" rel="noopener noreferrer">syn</a></td><td>54,744</td></tr><tr><td><a href="https://crates.io/crates/rustc-std-workspace-core" target="_blank" rel="noopener noreferrer">rustc-std-workspace-core</a></td><td>51,650</td></tr><tr><td><a href="https://crates.io/crates/libc" target="_blank" rel="noopener noreferrer">libc</a></td><td>51,645</td></tr><tr><td><a href="https://crates.io/crates/serde_derive" target="_blank" rel="noopener noreferrer">serde_derive</a></td><td>51,056</td></tr><tr><td><a href="https://crates.io/crates/serde" target="_blank" rel="noopener noreferrer">serde</a></td><td>51,054</td></tr><tr><td><a href="https://crates.io/crates/jobserver" target="_blank" rel="noopener noreferrer">jobserver</a></td><td>50,567</td></tr><tr><td><a href="https://crates.io/crates/cc" target="_blank" rel="noopener noreferrer">cc</a></td><td>50,566</td></tr></tbody></table></div></div><p>If we look at <i>Decay Mode: Immediate</i>, where the connectivity is simply the <b>number of immediate dependants</b>, we can see that<a href="https://crates.io/crates/serde" target="_blank" rel="noopener noreferrer"><code>serde</code></a> and <a href="https://crates.io/crates/serde_json" target="_blank" rel="noopener noreferrer"><code>serde_json</code></a> are at the top. I guess that supports our decision of defining the query language in JSON.</p><p><i>Decay Mode: None</i> tells another interesting story: when the connectivity is the <b>entire tree of dependants</b>, we are looking at the really core crates that are nested somewhere deeply inside the most crates. In other words, these are the ones that are built along with the most crates. Under this setting, the utility crates that interacts with the low-level, more fundamental aspects of Rust are ranked higher,like <a href="https://crates.io/crates/quote" target="_blank" rel="noopener noreferrer"><code>quote</code></a> with syntax trees, <a href="https://crates.io/crates/proc-macro2" target="_blank" rel="noopener noreferrer"><code>proc-macro2</code></a> with procedural macros, and <a href="https://crates.io/crates/unicode-xid" target="_blank" rel="noopener noreferrer"><code>unicode-xid</code></a> with Unicode checking.</p></div></div></div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="card item shadow--lw"><div class="card__header"><h3>Number of crates without Dependencies</h3></div><div class="card__body"><p>19,369 out of 79,972 crates, or 24% of the crates, do not depend on any crates.</p><p>e.g.¬†<a href="https://crates.io/crates/a" target="_blank" rel="noopener noreferrer">a</a>,¬†<a href="https://crates.io/crates/a-" target="_blank" rel="noopener noreferrer">a-</a>,¬†<a href="https://crates.io/crates/a0" target="_blank" rel="noopener noreferrer">a0</a>,¬† ...,¬†<a href="https://crates.io/crates/zyx_test" target="_blank" rel="noopener noreferrer">zyx_test</a>,¬†<a href="https://crates.io/crates/zz-buffer" target="_blank" rel="noopener noreferrer">zz-buffer</a>,¬†<a href="https://crates.io/crates/z_table" target="_blank" rel="noopener noreferrer">z_table</a></p><p>In other words, about 76% of the crates are standing on the shoulders of giants! üí™</p><img loading="lazy" src="https://www.sea-ql.org/StarfishQL/img/crate_without_dependency_count.png" class="img_WBRq"><img loading="lazy" src="https://www.sea-ql.org/StarfishQL/img/crate_without_dependency_percentage.png" class="img_WBRq"></div></div></div></div><div class="row"><div class="col col--12 margin-bottom--md"><div class="card item shadow--lw"><div class="card__header"><h3>Number of crates without Dependants</h3></div><div class="card__body"><p>53,910 out of 79,972 crates, or 67% of the crates, have no dependants, i.e. no other crates depend on them.</p><p>e.g.¬†<a href="https://crates.io/crates/a" target="_blank" rel="noopener noreferrer">a</a>,¬†<a href="https://crates.io/crates/a-" target="_blank" rel="noopener noreferrer">a-</a>,¬†<a href="https://crates.io/crates/a-bot" target="_blank" rel="noopener noreferrer">a-bot</a>,¬† ...,¬†<a href="https://crates.io/crates/zzp-tools" target="_blank" rel="noopener noreferrer">zzp-tools</a>,¬†<a href="https://crates.io/crates/zzz" target="_blank" rel="noopener noreferrer">zzz</a>,¬†<a href="https://crates.io/crates/z_table" target="_blank" rel="noopener noreferrer">z_table</a></p><p>We imagine many of those crates are binaries/executables, if only we could figure out a way to check that... ü§î</p></div></div></div></div><p><em>As of March 30, 2022</em></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2><p>StarfishQL allows flexible and portable definition, manipulation, retrieval, and visualization of graph data.</p><p>The graph query engine built in Rust provides a nice interface for any web applications to access data in the relational graph database with stable performance and memory safety.</p><p>Admittedly, StarfishQL is still in its infancy, so every detail in the design and implementation is subject to change. Fortunately, the good thing about this is, like all other open-source projects developed by brilliant Rust developers, you can contribute to it if you also find the concept interesting. With its addition to the <a href="https://www.sea-ql.org/SeaORM/" target="_blank" rel="noopener noreferrer">SeaQL ecosystem</a>, together we are one step closer to the vision of Rust for data engineering.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="people">People<a href="#people" class="hash-link" aria-label="Direct link to People" title="Direct link to People">‚Äã</a></h2><p>StarfishQL is created by the following SeaQL team members:</p><div class="container"><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/shpun817" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/47468266?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sanford Pun</div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="contributing">Contributing<a href="#contributing" class="hash-link" aria-label="Direct link to Contributing" title="Direct link to Contributing">‚Äã</a></h2><p>We are super excited to be selected as a Google Summer of Code 2022 mentor organization!</p><p>StarfishQL is one of the <a href="https://github.com/SeaQL/summer-of-code/blob/main/2022/README.md#2-a-graph-database-and-query-engine-codename-starfishql-for-graph-analysis-and-visualization" target="_blank" rel="noopener noreferrer">GSoC project ideas</a> that opens for development proposals. Join us on GSoC 2022 by following the instructions on <a href="https://github.com/SeaQL/summer-of-code/blob/main/2022/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">GSoC Contributing Guide</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.7.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-03-26-whats-new-in-0.7.0/">What&#x27;s new in SeaORM 0.7.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-03-26T00:00:00.000Z" itemprop="datePublished">March 26, 2022</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.7.0" target="_blank" rel="noopener noreferrer"><code>0.7.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="update-activemodel-by-json">Update ActiveModel by JSON<a href="#update-activemodel-by-json" class="hash-link" aria-label="Direct link to Update ActiveModel by JSON" title="Direct link to Update ActiveModel by JSON">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/492" target="_blank" rel="noopener noreferrer">#492</a>] If you want to save user input into the database you can easily convert JSON value into ActiveModel.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Serialize, Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;fruit&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[serde(skip_deserializing)]</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// Skip deserializing</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> cake_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Set the attributes in ActiveModel with <code>set_from_json</code> method.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// A ActiveModel with primary key set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> fruit </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    cake_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Note that this method will not alter the primary key values in ActiveModel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">set_from_json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">json!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;cake_id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        cake_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a new ActiveModel from JSON value with the <code>from_json</code> method.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> fruit </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_json</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">json!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;name&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        cake_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NotSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/qyihua" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/13034668?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">qltk</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-time-crate-in-model">Support <code>time</code> crate in Model<a href="#support-time-crate-in-model" class="hash-link" aria-label="Direct link to support-time-crate-in-model" title="Direct link to support-time-crate-in-model">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/602" target="_blank" rel="noopener noreferrer">#602</a>] You can define datetime column in Model with <code>time</code> crate. You can migrate your Model originally defined in <code>chrono</code> to <code>time</code> crate.</p><p>Model defined in <code>chrono</code> crate.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;transaction_log&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// chrono::NaiveDate</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// chrono::NaiveTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> date_time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// chrono::NaiveDateTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> date_time_tz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTimeWithTimeZone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// chrono::DateTime&lt;chrono::FixedOffset&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Model defined in <code>time</code> crate.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;transaction_log&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TimeDate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// time::Date</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TimeTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// time::Time</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> date_time</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TimeDateTime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// time::PrimitiveDateTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> date_time_tz</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">TimeDateTimeWithTimeZone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(0, 128, 0)">// time::OffsetDateTime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/tasn" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/108670?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Tom Hacohen</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="delete-by-primary-key">Delete by Primary Key<a href="#delete-by-primary-key" class="hash-link" aria-label="Direct link to Delete by Primary Key" title="Direct link to Delete by Primary Key">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/590" target="_blank" rel="noopener noreferrer">#590</a>] Instead of selecting <code>Model</code> from the database then deleting it. You could also delete a row from database directly by its primary key.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DeleteResult</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">delete_by_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">38</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">exec</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">rows_affected</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/ShouvikGhosh2048" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/91585022?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shouvik Ghosh</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/Ilqjx" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/53934234?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zhenwei Guo</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="paginate-results-from-raw-query">Paginate Results from Raw Query<a href="#paginate-results-from-raw-query" class="hash-link" aria-label="Direct link to Paginate Results from Raw Query" title="Direct link to Paginate Results from Raw Query">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/617" target="_blank" rel="noopener noreferrer">#617</a>] You can paginate <a href="https://docs.rs/sea-orm/0.6.0/sea_orm/struct.SelectorRaw.html" target="_blank" rel="noopener noreferrer"><code>SelectorRaw</code></a> and fetch <code>Model</code> in batch.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> cake_pages </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from_raw_sql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Statement</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_sql_and_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Postgres</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;cake&quot;.&quot;id&quot;, &quot;cake&quot;.&quot;name&quot; FROM &quot;cake&quot; WHERE &quot;id&quot; = $1&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">paginate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">50</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"> </span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">cakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cake_pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fetch_and_next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Do something on cakes: Vec&lt;cake::Model&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/cemoktra" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/15634263?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Bastian</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/shinbunbun" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/34409044?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">shinbunbun</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="create-database-index">Create Database Index<a href="#create-database-index" class="hash-link" aria-label="Direct link to Create Database Index" title="Direct link to Create Database Index">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/593" target="_blank" rel="noopener noreferrer">#593</a>] To create indexes in database instead of writing <a href="https://docs.rs/sea-query/*/sea_query/index/struct.IndexCreateStatement.html" target="_blank" rel="noopener noreferrer"><code>IndexCreateStatement</code></a> manually, you can derive it from <code>Entity</code> using <a href="https://docs.rs/sea-orm/0.5/sea_orm/schema/struct.Schema.html#method.create_index_from_entity" target="_blank" rel="noopener noreferrer"><code>Schema::create_index_from_entity</code></a>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain">sea_query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> builder </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">get_database_backend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> schema </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> stmts </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> schema</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_index_from_entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">indexes</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">stmts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">len</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> idx </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;idx-indexes-index1_attr&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">indexes</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">indexes</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Index1Attr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">stmts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">0</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> idx </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Index</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">create</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;idx-indexes-index2_attr&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">indexes</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">col</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">indexes</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Index2Attr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">stmts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> builder</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">idx</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/grtlr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/3404250?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Jochen G√∂rtler</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/nickb937" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1443207?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Nick Burrett</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/exzachlyvv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46034847?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zachary Vander Velden</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/deansheather" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11241812?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/8" target="_blank" rel="noopener noreferrer"><code>0.8.x</code></a>.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="gsoc-2022">GSoC 2022<a href="#gsoc-2022" class="hash-link" aria-label="Direct link to GSoC 2022" title="Direct link to GSoC 2022">‚Äã</a></h2><p>We are super excited to be selected as a Google Summer of Code 2022 mentor organization. Prospective contributors, please visit our <a href="https://summerofcode.withgoogle.com/programs/2022/organizations/seaql" target="_blank" rel="noopener noreferrer">GSoC 2022 Organization Profile</a>!</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="GSoC 2022 Organization Profile"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/gsoc-2022/">Google Summer of Code 2022</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-03-08T00:00:00.000Z" itemprop="datePublished">March 8, 2022</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p><a href="https://summerofcode.withgoogle.com/programs/2022/organizations/seaql" target="_blank" rel="noopener noreferrer">GSoC 2022 Organization Profile</a></p><p>We are super excited to be selected as a Google Summer of Code 2022 mentor organization. Thank you everyone in the SeaQL community for your support and adoption!</p><p>In 2020, when we were developing systems in Rust, we noticed a missing piece in the ecosystem: an ORM that integrates well with the Rust async ecosystem. With that in mind, we designed SeaORM to have a familiar API that welcomes developers from node.js, Go, Python, PHP, Ruby and your favourite language.</p><p>The first piece of tool we released is <a href="https://github.com/SeaQL/sea-query" target="_blank" rel="noopener noreferrer">SeaQuery</a>, a query builder with a fluent API. It has a simplified AST that reflects SQL syntax. It frees you from stitching strings together in case you needed to construct SQL dynamically and safely, with the advantages of Rust typings.</p><p>The second piece of tool is <a href="https://github.com/SeaQL/sea-schema" target="_blank" rel="noopener noreferrer">SeaSchema</a>, a schema manager that allows you to discover and manipulate database schema. The type definition of the schema is database-specific and thus reflecting the features of MySQL, Postgres and SQLite tightly.</p><p>The third piece of tool is <a href="https://github.com/SeaQL/sea-orm" target="_blank" rel="noopener noreferrer">SeaORM</a>, an Object Relational Mapper for building web services in Rust, whether it&#x27;s REST, gRPC or GraphQL. We have &quot;async &amp; dynamic&quot; in mind, so developers from dynamic languages can feel right at home.</p><p>But why stops at three?</p><p>This is just the foundation to setup Rust to be the best language for data engineering, and we have many more ideas on our idea list!</p><p>Your participation is what makes us unique; your adoption is what drives us forward.</p><p>Thank you everyone for all your karma, it&#x27;s the Rust community here that makes it possible. We will gladly take the mission to nurture open source developers during GSoC.</p><p>Prospective contributors, stay in touch with us. We also welcome any discussion on the future of the Rust ecosystem and the SeaQL organization.</p><p><a href="https://github.com/SeaQL/summer-of-code/blob/main/2022/README.md" target="_blank" rel="noopener noreferrer">GSoC 2022 Idea List</a></p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.6.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-02-07-whats-new-in-0.6.0/">What&#x27;s new in SeaORM 0.6.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-02-07T00:00:00.000Z" itemprop="datePublished">February 7, 2022</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.6.0" target="_blank" rel="noopener noreferrer"><code>0.6.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="migration">Migration<a href="#migration" class="hash-link" aria-label="Direct link to Migration" title="Direct link to Migration">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/335" target="_blank" rel="noopener noreferrer">#335</a>] Version control you database schema with migrations written in SeaQuery or in raw SQL. View <a href="https://www.sea-ql.org/SeaORM/docs/migration/setting-up-migration" target="_blank" rel="noopener noreferrer">migration docs</a> to learn more.</p><ol><li><p>Setup the migration directory by executing <code>sea-orm-cli migrate init</code>.</p><div class="codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-text codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">migration</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îú‚îÄ‚îÄ Cargo.toml</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îú‚îÄ‚îÄ README.md</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">‚îî‚îÄ‚îÄ src</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ‚îú‚îÄ‚îÄ lib.rs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ‚îú‚îÄ‚îÄ m20220101_000001_create_table.rs</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    ‚îî‚îÄ‚îÄ main.rs</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Defines the migration in SeaQuery.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_schema</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">migration</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationName</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">str</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;m20220101_000001_create_table&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[async_trait::async_trait]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MigrationTrait</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Migration</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">up</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">create_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">down</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token class-name" style="color:rgb(38, 127, 153)">SchemaManager</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        manager</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">drop_table</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">...</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>Apply the migration by executing <code>sea-orm-cli migrate</code>.</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token plain">$ sea-orm-cli migrate</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Applying all pending migrations</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Applying migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20220101_000001_create_table&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">Migration </span><span class="token string" style="color:rgb(163, 21, 21)">&#x27;m20220101_000001_create_table&#x27;</span><span class="token plain"> has been applied</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ol><div class="row"><div class="col col--6 margin-bottom--md">Designed by:<br><br><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-datetimeutc--datetimelocal-in-model">Support DateTimeUtc &amp; DateTimeLocal in Model<a href="#support-datetimeutc--datetimelocal-in-model" class="hash-link" aria-label="Direct link to Support DateTimeUtc &amp; DateTimeLocal in Model" title="Direct link to Support DateTimeUtc &amp; DateTimeLocal in Model">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/489" target="_blank" rel="noopener noreferrer">#489</a>] Represents database&#x27;s timestamp column in Model with attribute of type <code>DateTimeLocal</code> (<code>chrono::DateTime&lt;Local&gt;</code>) or <code>DateTimeUtc</code> (<code>chrono::DateTime&lt;Utc&gt;</code>).</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;satellite&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> satellite_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> launch_date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTimeUtc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> deployment_date</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTimeLocal</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/lz1998" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/9082086?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">lz1998</div></div></div><br><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/charleschege" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/33346042?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Charles¬∑Chege</div></div></div><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="mock-join-results">Mock Join Results<a href="#mock-join-results" class="hash-link" aria-label="Direct link to Mock Join Results" title="Direct link to Mock Join Results">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/455" target="_blank" rel="noopener noreferrer">#455</a>] Constructs mock results of related model with tuple of model.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> db </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MockDatabase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Postgres</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Mocking result of cake with its related fruit</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">append_query_results</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            cake_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_connection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">find_also_related</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            cake_id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/cemoktra" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/15634263?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Bastian</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/cemoktra" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/15634263?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Bastian</div></div></div><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="support-max-connection-lifetime-option">Support Max Connection Lifetime Option<a href="#support-max-connection-lifetime-option" class="hash-link" aria-label="Direct link to Support Max Connection Lifetime Option" title="Direct link to Support Max Connection Lifetime Option">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/493" target="_blank" rel="noopener noreferrer">#493</a>] You can set the maximum lifetime of individual connection with the <code>max_lifetime</code> method.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> opt </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ConnectOptions</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;protocol://username:password@host/database&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">max_lifetime</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_secs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">max_connections</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">100</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">min_connections</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">5</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">connect_timeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_secs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">idle_timeout</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Duration</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_secs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">8</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">sqlx_logging</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> db </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Database</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">connect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">opt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="seaorm-cli--codegen-updates">SeaORM CLI &amp; Codegen Updates<a href="#seaorm-cli--codegen-updates" class="hash-link" aria-label="Direct link to SeaORM CLI &amp; Codegen Updates" title="Direct link to SeaORM CLI &amp; Codegen Updates">‚Äã</a></h2><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/433" target="_blank" rel="noopener noreferrer">#433</a>] Generates the <code>column_name</code> macro attribute for column which is not named in snake case</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/335" target="_blank" rel="noopener noreferrer">#335</a>] Introduces migration subcommands <code>sea-orm-cli migrate</code></li></ul><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/Gabriel-Paulucci" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/43076727?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Gabriel Paulucci</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/Sytten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/2366731?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">√âmile Fugulin</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/exzachlyvv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46034847?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zachary Vander Velden</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/7" target="_blank" rel="noopener noreferrer"><code>0.7.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.5.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2022-01-01-whats-new-in-0.5.0/">What&#x27;s new in SeaORM 0.5.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2022-01-01T00:00:00.000Z" itemprop="datePublished">January 1, 2022</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.5.0" target="_blank" rel="noopener noreferrer"><code>0.5.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="insert-and-update-return-model">Insert and Update Return <code>Model</code><a href="#insert-and-update-return-model" class="hash-link" aria-label="Direct link to insert-and-update-return-model" title="Direct link to insert-and-update-return-model">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/339" target="_blank" rel="noopener noreferrer">#339</a>] As asked and requested by many of our community members. You can now get the refreshed <code>Model</code> after insert or update operations. If you want to mutate the model and save it back to the database you can convert it into <code>ActiveModel</code> with the method <code>into_active_model</code>.</p><p>Breaking Changes:</p><ul><li><code>ActiveModel::insert</code> and <code>ActiveModel::update</code> return <code>Model</code> instead of <code>ActiveModel</code></li><li>Method <code>ActiveModelBehavior::after_save</code> takes <code>Model</code> as input instead of <code>ActiveModel</code></li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Construct a `ActiveModel`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> active_model </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Classic Vanilla Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Do insert</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Classic Vanilla Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Covert `Model` into `ActiveModel`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> active_model </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Change the name of cake</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">name </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Chocolate Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Do update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> active_model</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">update</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Chocolate Cake&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Do delete</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">delete</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/nicoulaj" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/3162?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Julien Nicoulaud</div></div></div><br><div class="avatar"><a href="https://github.com/edg-l" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/15859336?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Edgar</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="activevalue-revamped"><code>ActiveValue</code> Revamped<a href="#activevalue-revamped" class="hash-link" aria-label="Direct link to activevalue-revamped" title="Direct link to activevalue-revamped">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/340" target="_blank" rel="noopener noreferrer">#340</a>] The <code>ActiveValue</code> is now defined as an enum instead of a struct. The public API of it remains unchanged, except <code>Unset</code> was deprecated and <code>ActiveValue::NotSet</code> should be used instead.</p><p>Breaking Changes:</p><ul><li>Rename method <code>sea_orm::unchanged_active_value_not_intended_for_public_use</code> to <code>sea_orm::Unchanged</code></li><li>Rename method <code>ActiveValue::unset</code> to <code>ActiveValue::not_set</code></li><li>Rename method <code>ActiveValue::is_unset</code> to <code>ActiveValue::is_not_set</code></li><li><code>PartialEq</code> of <code>ActiveValue</code> will also check the equality of state instead of just checking the equality of value</li></ul><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">/// Defines a stateful value used in ActiveModel.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">ActiveValue</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">V</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">where</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">V</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Into</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Value</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// A defined [Value] actively being set</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">V</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// A defined [Value] remain unchanged</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Unchanged</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">V</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">/// An undefined [Value]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">NotSet</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Designed by:<br><br><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="seaorm-cli--codegen-updates">SeaORM CLI &amp; Codegen Updates<a href="#seaorm-cli--codegen-updates" class="hash-link" aria-label="Direct link to SeaORM CLI &amp; Codegen Updates" title="Direct link to SeaORM CLI &amp; Codegen Updates">‚Äã</a></h2><p>Install latest version of <code>sea-orm-cli</code>:</p><div class="language-shell codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-shell codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token function" style="color:rgb(0, 0, 255)">cargo</span><span class="token plain"> </span><span class="token function" style="color:rgb(0, 0, 255)">install</span><span class="token plain"> sea-orm-cli</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Updates related to entity files generation (<code>cargo generate entity</code>):</p><ul><li>[<a href="https://github.com/SeaQL/sea-orm/pull/348" target="_blank" rel="noopener noreferrer">#348</a>] Discovers and defines PostgreSQL enums</li><li>[<a href="https://github.com/SeaQL/sea-orm/pull/386" target="_blank" rel="noopener noreferrer">#386</a>] Supports SQLite database, you can generate entity files from all supported databases including MySQL, PostgreSQL and SQLite</li></ul><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/exzachlyvv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46034847?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zachary Vander Velden</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/charleschege" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/33346042?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Charles¬∑Chege</div></div></div><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="tracing">Tracing<a href="#tracing" class="hash-link" aria-label="Direct link to Tracing" title="Direct link to Tracing">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/373" target="_blank" rel="noopener noreferrer">#373</a>] You can trace the query executed by SeaORM with <code>debug-print</code> feature enabled and <a href="https://crates.io/crates/tracing-subscriber" target="_blank" rel="noopener noreferrer"><code>tracing-subscriber</code></a> up and running.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">main</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">tracing_subscriber</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">fmt</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">with_max_level</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">tracing</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Level</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token constant" style="color:rgb(129, 31, 63)">DEBUG</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">with_test_writer</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">init</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7566389?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marco Napetti</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sakti" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/196178?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sakti Dwi Cahyono</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/exzachlyvv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46034847?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zachary Vander Velden</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/praveenperera" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1775346?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Praveen Perera</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/6" target="_blank" rel="noopener noreferrer"><code>0.6.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.4.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-11-19-whats-new-in-0.4.0/">What&#x27;s new in SeaORM 0.4.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-11-19T00:00:00.000Z" itemprop="datePublished">November 19, 2021</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.4.0" target="_blank" rel="noopener noreferrer"><code>0.4.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rust-edition-2021">Rust Edition 2021<a href="#rust-edition-2021" class="hash-link" aria-label="Direct link to Rust Edition 2021" title="Direct link to Rust Edition 2021">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/273" target="_blank" rel="noopener noreferrer">#273</a>] Upgrading SeaORM to <a href="https://blog.rust-lang.org/2021/10/21/Rust-1.56.0.html#rust-2021" target="_blank" rel="noopener noreferrer">Rust Edition 2021</a> ü¶Ä‚ù§üêö!</p><p>Contributed by:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/sno2" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/43641633?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Carter Snook</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="enumeration">Enumeration<a href="#enumeration" class="hash-link" aria-label="Direct link to Enumeration" title="Direct link to Enumeration">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/issues/252" target="_blank" rel="noopener noreferrer">#252</a>] You can now use Rust enums in model where the values are mapped to a database string, integer or native enum. Learn more <a href="https://www.sea-ql.org/SeaORM/docs/generate-entity/enumeration" target="_blank" rel="noopener noreferrer">here</a>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Clone, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;active_enum&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Use our custom enum in a model</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> category</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Category</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> color</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> tea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rs_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;String&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, db_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;String(Some(1))&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// An enum serialized into database as a string value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Category</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;B&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Big</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;S&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Small</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rs_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;i32&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, db_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Integer&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// An enum serialized into database as an integer value</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Color</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(num_value = 0)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Black</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(num_value = 1)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">White</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(rs_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;String&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, db_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Enum&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, enum_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;tea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// An enum serialized into database as a database native enum</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Tea</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;EverydayTea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">EverydayTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(string_value = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;BreakfastTea&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">BreakfastTea</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Designed by:<br><br><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="supports-returning-clause-on-postgresql">Supports <code>RETURNING</code> Clause on PostgreSQL<a href="#supports-returning-clause-on-postgresql" class="hash-link" aria-label="Direct link to supports-returning-clause-on-postgresql" title="Direct link to supports-returning-clause-on-postgresql">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/issues/183" target="_blank" rel="noopener noreferrer">#183</a>] When performing insert or update operation on <code>ActiveModel</code> against PostgreSQL, <code>RETURNING</code> clause will be used to perform select in a single SQL statement.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// For PostgreSQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple Pie&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">postgres_db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    postgres_db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_transaction_log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token class-name" style="color:rgb(38, 127, 153)">Transaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_sql_and_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Postgres</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;INSERT INTO &quot;cake&quot; (&quot;name&quot;) VALUES ($1) RETURNING &quot;id&quot;, &quot;name&quot;&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple Pie&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// For MySQL &amp; SQLite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple Pie&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">other_db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    other_db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_transaction_log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Transaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_sql_and_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;INSERT INTO `cake` (`name`) VALUES (?)&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Apple Pie&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Transaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_sql_and_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">MySql</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT `cake`.`id`, `cake`.`name` FROM `cake` WHERE `cake`.`id` = ? LIMIT ?&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">15</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="row"><div class="col col--6 margin-bottom--md">Proposed by:<br><br><div class="avatar"><a href="https://github.com/marlon-sousa" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/21093041?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marlon Brand√£o de Sousa</div></div></div></div><div class="col col--6 margin-bottom--md">Contributed by:<br><br><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="axum-integration-example">Axum Integration Example<a href="#axum-integration-example" class="hash-link" aria-label="Direct link to Axum Integration Example" title="Direct link to Axum Integration Example">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/297" target="_blank" rel="noopener noreferrer">#297</a>] Added <a href="https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example" target="_blank" rel="noopener noreferrer">Axum integration example</a>. More examples <a href="https://github.com/SeaQL/sea-orm/issues/269" target="_blank" rel="noopener noreferrer">wanted</a>!</p><p>Contributed by:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/YoshieraHuang" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/38752027?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Yoshiera</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="sponsor">Sponsor<a href="#sponsor" class="hash-link" aria-label="Direct link to Sponsor" title="Direct link to Sponsor">‚Äã</a></h2><p>Our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub Sponsor</a> profile is up! If you feel generous, a small donation will be greatly appreciated.</p><p>A big shout out to our first sponsors üòá:</p><div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/shanesveller" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Shane Sveller</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a href="https://github.com/exzachlyvv" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/46034847?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Zachary Vander Velden</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" style="width:100%" src="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Unnamed Sponsor</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/5" target="_blank" rel="noopener noreferrer"><code>0.5.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.3.0 today! Here are some feature highlights üåü:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-10-15-whats-new-in-0.3.0/">What&#x27;s new in SeaORM 0.3.0</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-10-15T00:00:00.000Z" itemprop="datePublished">October 15, 2021</time> ¬∑ <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.3.0" target="_blank" rel="noopener noreferrer"><code>0.3.0</code></a> today! Here are some feature highlights üåü:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="transaction">Transaction<a href="#transaction" class="hash-link" aria-label="Direct link to Transaction" title="Direct link to Transaction">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/222" target="_blank" rel="noopener noreferrer">#222</a>] Use database transaction to perform atomic operations</p><p>Two transaction APIs are provided:</p><ul><li><p><code>closure</code> style. Will be committed on Ok and rollback on Err.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// &lt;Fn, A, B&gt; -&gt; Result&lt;A, B&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">transaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> _</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token closure-params">txn</span><span class="token closure-params closure-punctuation punctuation" style="color:rgb(4, 81, 165)">|</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Box</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">pin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">move</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">bakery</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;SeaSide Bakery&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">save</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">txn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token namespace">bakery</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Top Bakery&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">Default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">save</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">txn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li><p>RAII style. <code>begin</code> the transaction followed by <code>commit</code> or <code>rollback</code>. If <code>txn</code> goes out of scope, it&#x27;d automatically rollback.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> txn </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">begin</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// do something with txn</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">txn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">commit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><p>Contributed by:</p><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7566389?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marco Napetti</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="streaming">Streaming<a href="#streaming" class="hash-link" aria-label="Direct link to Streaming" title="Direct link to Streaming">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/222" target="_blank" rel="noopener noreferrer">#222</a>] Use async stream on any <code>Select</code> for memory efficiency.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">mut</span><span class="token plain"> stream </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">while</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">item</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> stream</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">try_next</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> item</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// do something with item</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7566389?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marco Napetti</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="api-for-custom-logic-on-save--delete">API for custom logic on save &amp; delete<a href="#api-for-custom-logic-on-save--delete" class="hash-link" aria-label="Direct link to API for custom logic on save &amp; delete" title="Direct link to API for custom logic on save &amp; delete">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/210" target="_blank" rel="noopener noreferrer">#210</a>] We redefined the trait methods of <code>ActiveModelBehavior</code>. You can now perform custom validation before and after <code>insert</code>, <code>update</code>, <code>save</code>, <code>delete</code> actions. You can abort an action even after it is done, if you are inside a transaction.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">impl</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelBehavior</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">for</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Override default values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            serial</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Set</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new_v4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">..</span><span class="token class-name" style="color:rgb(38, 127, 153)">ActiveModelTrait</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">default</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Triggered before insert / update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">before_save</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">bool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">if</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token plain">price</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_ref</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;=</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token number" style="color:rgb(9, 134, 88)">0.0</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Err</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Custom</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">format!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;[before_save] Invalid Price, insert: {}&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                insert</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Triggered after insert / update</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">after_save</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> insert</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">bool</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Triggered before delete</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">before_delete</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Triggered after delete</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">after_delete</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Result</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">Self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbErr</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Ok</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token keyword" style="color:rgb(0, 0, 255)">self</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/MuhannadAlrusayni" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/14802524?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Muhannad</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="generate-entity-models-that-derive-serialize--deserialize">Generate Entity Models That Derive Serialize / Deserialize<a href="#generate-entity-models-that-derive-serialize--deserialize" class="hash-link" aria-label="Direct link to Generate Entity Models That Derive Serialize / Deserialize" title="Direct link to Generate Entity Models That Derive Serialize / Deserialize">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/237" target="_blank" rel="noopener noreferrer">#237</a>] You can use <code>sea-orm-cli</code> to generate entity models that also derive serde <code>Serialize</code> / <code>Deserialize</code> traits.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">//! SeaORM Entity. Generated by sea-orm-codegen 0.3.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">serde</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token class-name" style="color:rgb(38, 127, 153)">Deserialize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Serialize</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Serialize, Deserialize)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;cake&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(column_type = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;Text&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, nullable)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// ...</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/elbart" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/48974?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Tim Eggert</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="introduce-deriveintoactivemodel-macro--intoactivevalue-trait">Introduce <code>DeriveIntoActiveModel</code> macro &amp; <code>IntoActiveValue</code> Trait<a href="#introduce-deriveintoactivemodel-macro--intoactivevalue-trait" class="hash-link" aria-label="Direct link to introduce-deriveintoactivemodel-macro--intoactivevalue-trait" title="Direct link to introduce-deriveintoactivemodel-macro--intoactivevalue-trait">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/240" target="_blank" rel="noopener noreferrer">#240</a>] introduced a new derive macro <code>DeriveIntoActiveModel</code> for implementing <code>IntoActiveModel</code> on structs. This is useful when creating your own struct with only partial fields of a model, for example as a form submission in a REST API.</p><p><code>IntoActiveValue</code> trait allows converting <code>Option&lt;T&gt;</code> into <code>ActiveValue&lt;T&gt;</code> with the method <code>into_active_value</code>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Define regular model as usual</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveModel, DeriveActiveModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;users&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Uuid</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> created_at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTimeWithTimeZone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> updated_at</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DateTimeWithTimeZone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> full_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> phone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Create a new struct with some fields omitted</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveIntoActiveModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">NewUser</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// id, created_at and updated_at are omitted from this struct,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// and will always be `ActiveValue::unset`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> email</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> password</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Full name is usually optional, but it can be required here</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> full_name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Option implements `IntoActiveValue`, and when `None` will be `unset`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> phone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(DeriveIntoActiveModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">UpdateUser</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Option&lt;Option&lt;T&gt;&gt; allows for Some(None) to update the column to be NULL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> phone</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/Acidic9" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16362377?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ari Seyhun</div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/4" target="_blank" rel="noopener noreferrer"><code>0.4.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="üéâ We are pleased to release SeaORM 0.2.4 today! Some feature highlights:"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-10-01-whats-new-in-0.2.4/">What&#x27;s new in SeaORM 0.2.4</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-10-01T00:00:00.000Z" itemprop="datePublished">October 1, 2021</time> ¬∑ <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://www.sea-ql.org/SeaORM/img/SeaQL.png" alt="SeaQL Team" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">SeaQL Team</span></a></div><small class="avatar__subtitle" itemprop="description">Chris Tsang</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>üéâ We are pleased to release SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.2.4" target="_blank" rel="noopener noreferrer"><code>0.2.4</code></a> today! Some feature highlights:</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="better-ergonomic-when-working-with-custom-select-list">Better ergonomic when working with custom select list<a href="#better-ergonomic-when-working-with-custom-select-list" class="hash-link" aria-label="Direct link to Better ergonomic when working with custom select list" title="Direct link to Better ergonomic when working with custom select list">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/208" target="_blank" rel="noopener noreferrer">#208</a>] Use <a href="https://docs.rs/sea-orm/0.2.4/sea_orm/entity/prelude/struct.Select.html#method.into_values" target="_blank" rel="noopener noreferrer">Select::into_values</a> to quickly select a custom column list and destruct as tuple.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DeriveColumn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">EnumIter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">QueryAs</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">CakeName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">NumOfCakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">select_only</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryAs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">CakeName</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column_as</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">count</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryAs</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">NumOfCakes</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">group_by</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">QueryAs</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    res</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;Chocolate Forest&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">2i64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/MuhannadAlrusayni" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/14802524?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Muhannad</div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="rename-column-name--column-enum-variant">Rename column name &amp; column enum variant<a href="#rename-column-name--column-enum-variant" class="hash-link" aria-label="Direct link to Rename column name &amp; column enum variant" title="Direct link to Rename column name &amp; column enum variant">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-orm/pull/209" target="_blank" rel="noopener noreferrer">#209</a>] Rename the column name and enum variant of a model attribute, especially helpful when the column name is a Rust keyword.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">mod</span><span class="token plain"> </span><span class="token module-declaration namespace">my_entity</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token namespace">prelude</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;my_entity&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(primary_key, enum_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;IdentityColumn&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">, column_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">i32</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[sea_orm(column_name = </span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;type&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token keyword" style="color:rgb(0, 0, 255)">pub</span><span class="token plain"> type_</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">String</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">//...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">my_entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">IdentityColumn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;id&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">my_entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Type</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">as_str</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;type&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="container"><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="not-on-a-condition-tree"><code>not</code> on a condition tree<a href="#not-on-a-condition-tree" class="hash-link" aria-label="Direct link to not-on-a-condition-tree" title="Direct link to not-on-a-condition-tree">‚Äã</a></h2><p>[<a href="https://github.com/SeaQL/sea-query/pull/145" target="_blank" rel="noopener noreferrer">#145</a>] Build a complex condition tree with <a href="https://docs.rs/sea-query/0.16.5/sea_query/query/struct.Condition.html" target="_blank" rel="noopener noreferrer">Condition</a>.</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token keyword" style="color:rgb(0, 0, 255)">use</span><span class="token plain"> </span><span class="token namespace">sea_orm</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token namespace">entity</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token operator" style="color:rgb(0, 0, 0)">*</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">tests_cfg</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token plain">cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token namespace">sea_query</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">filter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">Condition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Condition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">not</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">2</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Condition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">3</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Expr</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">val</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">eq</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">4</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">build</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Postgres</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_string</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;cake&quot;.&quot;id&quot;, &quot;cake&quot;.&quot;name&quot; FROM &quot;cake&quot; WHERE (NOT (1 = 1 AND 2 = 2)) AND (3 = 3 OR 4 = 4)&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Contributed by:</p><div class="container"><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/nitnelave" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/796633?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">nitnelave</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/6xzo" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/36180574?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">6xzo</div></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="community">Community<a href="#community" class="hash-link" aria-label="Direct link to Community" title="Direct link to Community">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><p>Here is the roadmap for SeaORM <a href="https://github.com/SeaQL/sea-orm/milestone/3" target="_blank" rel="noopener noreferrer"><code>0.3.x</code></a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="We are pleased to introduce SeaORM 0.2.2 to the Rust community today. It&#x27;s our pleasure to have received feedback and contributions from awesome people to SeaQuery and SeaORM since 0.1.0."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-09-20-introducing-sea-orm/">Introducing SeaORM üêö</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-09-20T00:00:00.000Z" itemprop="datePublished">September 20, 2021</time> ¬∑ <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>We are pleased to introduce SeaORM <a href="https://github.com/SeaQL/sea-orm/releases/tag/0.2.2" target="_blank" rel="noopener noreferrer"><code>0.2.2</code></a> to the Rust community today. It&#x27;s our pleasure to have received feedback and contributions from awesome people to SeaQuery and SeaORM since <code>0.1.0</code>.</p><p>Rust is a wonderful language that can be used to build anything. One of the FAQs is &quot;Are We Web Yet?&quot;, and if Rocket (or your favourite web framework) is Rust&#x27;s Rail, then SeaORM is precisely Rust&#x27;s ActiveRecord.</p><p>SeaORM is an async ORM built from the ground up, designed to play well with the async ecosystem, whether it&#x27;s actix, async-std, tokio or any web framework built on top.</p><p>Let&#x27;s have a quick tour of SeaORM.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="async">Async<a href="#async" class="hash-link" aria-label="Direct link to Async" title="Direct link to Async">‚Äã</a></h2><p>Here is how you&#x27;d execute multiple queries in parallel:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// execute multiple queries in parallel</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cakes_and_fruits</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">fruit</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">futures</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token macro property">try_join!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">Cake</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Fruit</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_w1X2" id="dynamic">Dynamic<a href="#dynamic" class="hash-link" aria-label="Direct link to Dynamic" title="Direct link to Dynamic">‚Äã</a></h2><p>You can use SeaQuery to build complex queries without &#x27;fighting the ORM&#x27;:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// build subquery with ease</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> cakes_with_filling</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Vec</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">filter</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Condition</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">any</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">add</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">in_subquery</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                </span><span class="token class-name" style="color:rgb(38, 127, 153)">Query</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">select</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake_filling</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">CakeId</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">from</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake_filling</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">all</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://docs.rs/sea-query/*/sea_query/" target="_blank" rel="noopener noreferrer">More on SeaQuery</a></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="testable">Testable<a href="#testable" class="hash-link" aria-label="Direct link to Testable" title="Direct link to Testable">‚Äã</a></h2><p>To write unit tests, you can use our mock interface:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token comment" style="color:rgb(0, 128, 0)">// Setup mock connection</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> db </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">MockDatabase</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">new</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Postgres</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">append_query_results</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">                name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;New York Cheese&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_connection</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Perform your application logic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Entity</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">one</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token operator" style="color:rgb(0, 0, 0)">?</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Some</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">cake</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        name</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;New York Cheese&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">to_owned</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token comment" style="color:rgb(0, 128, 0)">// Compare it against the expected transaction log</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token macro property">assert_eq!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    db</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into_transaction_log</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token class-name" style="color:rgb(38, 127, 153)">Transaction</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">from_sql_and_values</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token class-name" style="color:rgb(38, 127, 153)">DbBackend</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Postgres</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token string" style="color:rgb(163, 21, 21)">r#&quot;SELECT &quot;cake&quot;.&quot;id&quot;, &quot;cake&quot;.&quot;name&quot; FROM &quot;cake&quot; LIMIT $1&quot;#</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            </span><span class="token macro property">vec!</span><span class="token punctuation" style="color:rgb(4, 81, 165)">[</span><span class="token number" style="color:rgb(9, 134, 88)">1u64</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">into</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://www.sea-ql.org/SeaORM/docs/write-test/mock" target="_blank" rel="noopener noreferrer">More on testing</a></p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="service-oriented">Service Oriented<a href="#service-oriented" class="hash-link" aria-label="Direct link to Service Oriented" title="Direct link to Service Oriented">‚Äã</a></h2><p>Here is an example <code>Rocket</code> handler with pagination:</p><div class="language-rust codeBlockContainer_pNCn theme-code-block" style="--prism-color:#000000;--prism-background-color:#ffffff"><div class="codeBlockContent_PW_d"><pre tabindex="0" class="prism-code language-rust codeBlock_ciFa thin-scrollbar"><code class="codeBlockLines_xvQi"><span class="token-line" style="color:#000000"><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">#[get(</span><span class="token attribute attr-name string" style="color:rgb(163, 21, 21)">&quot;/?&lt;page&gt;&amp;&lt;posts_per_page&gt;&quot;</span><span class="token attribute attr-name" style="color:rgb(255, 0, 0)">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token keyword" style="color:rgb(0, 0, 255)">async</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(0, 0, 255)">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:rgb(0, 0, 255)">list</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Connection</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token class-name" style="color:rgb(38, 127, 153)">Db</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    per_page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Option</span><span class="token operator" style="color:rgb(0, 0, 0)">&lt;</span><span class="token keyword" style="color:rgb(0, 0, 255)">usize</span><span class="token operator" style="color:rgb(0, 0, 0)">&gt;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Template</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Set page number and items per page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> page </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap_or</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> per_page </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> per_page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap_or</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token number" style="color:rgb(9, 134, 88)">10</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Setup paginator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> paginator </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(38, 127, 153)">Post</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">find</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">order_by_asc</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token namespace">post</span><span class="token namespace punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Column</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token class-name" style="color:rgb(38, 127, 153)">Id</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">paginate</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token operator" style="color:rgb(0, 0, 0)">&amp;</span><span class="token plain">conn</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"> per_page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> num_pages </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> paginator</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">num_pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">unwrap</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token comment" style="color:rgb(0, 128, 0)">// Fetch paginated posts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token keyword" style="color:rgb(0, 0, 255)">let</span><span class="token plain"> posts </span><span class="token operator" style="color:rgb(0, 0, 0)">=</span><span class="token plain"> paginator</span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">fetch_page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain">page </span><span class="token operator" style="color:rgb(0, 0, 0)">-</span><span class="token plain"> </span><span class="token number" style="color:rgb(9, 134, 88)">1</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token keyword" style="color:rgb(0, 0, 255)">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">.</span><span class="token function" style="color:rgb(0, 0, 255)">expect</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token string" style="color:rgb(163, 21, 21)">&quot;could not retrieve posts&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token punctuation" style="color:rgb(4, 81, 165)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token class-name" style="color:rgb(38, 127, 153)">Template</span><span class="token punctuation" style="color:rgb(4, 81, 165)">::</span><span class="token function" style="color:rgb(0, 0, 255)">render</span><span class="token punctuation" style="color:rgb(4, 81, 165)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token string" style="color:rgb(163, 21, 21)">&quot;index&quot;</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token macro property">context!</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(4, 81, 165)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            per_page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> per_page</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            posts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> posts</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">            num_pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">:</span><span class="token plain"> num_pages</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><span class="token punctuation" style="color:rgb(4, 81, 165)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(4, 81, 165)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#000000"><span class="token plain"></span><span class="token punctuation" style="color:rgb(4, 81, 165)">}</span><br></span></code></pre><div class="buttonGroup_MLkC"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_D0BD" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_gkhl"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_IyzZ"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><a href="https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example" target="_blank" rel="noopener noreferrer">Full Rocket example</a></p><p>We are building more examples for other web frameworks too.</p><h2 class="anchor anchorWithStickyNavbar_w1X2" id="people">People<a href="#people" class="hash-link" aria-label="Direct link to People" title="Direct link to People">‚Äã</a></h2><p>SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust&#x27;s future.</p><h3 class="anchor anchorWithStickyNavbar_w1X2" id="core-members">Core Members<a href="#core-members" class="hash-link" aria-label="Direct link to Core Members" title="Direct link to Core Members">‚Äã</a></h3><div class="container"><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1782664?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Chris Tsang</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/billy1624" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/30400950?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Billy Chan</div></div></div></div></div></div><h3 class="anchor anchorWithStickyNavbar_w1X2" id="contributors">Contributors<a href="#contributors" class="hash-link" aria-label="Direct link to Contributors" title="Direct link to Contributors">‚Äã</a></h3><p>As a courtesy, here is the list of SeaQL&#x27;s early contributors (in alphabetic order):</p><div class="container"><div class="row"><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/Acidic9" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/16362377?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ari Seyhun</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/MozarellaMan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/48062697?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ayomide Bamidele</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/benarmstead" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/70973680?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Ben Armstead</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/bobbyng626" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/67236456?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Bobby Ng</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/scrblue" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/1524936?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Daniel Lyne</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/Hirtol" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/55356909?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Hirtol</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/Follpvosten" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/22855787?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sylvie Rinner</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/nappa85" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/7566389?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Marco Napetti</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/code-mm" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/43041831?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Markus Merklinger</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/MuhannadAlrusayni" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/14802524?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Muhannad</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/nitnelave" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/796633?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">nitnelave</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/duchainer" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/11084784?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Rapha√´l Ducha√Æne</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/RemiKalbe" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/8604600?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">R√©mi Kalbe</div></div></div></div><div class="col col--3 margin-bottom--md"><div class="avatar"><a href="https://github.com/samsamai" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo avatar__photo--sm"><img loading="lazy" src="https://avatars.githubusercontent.com/u/3764355?v=4" class="img_WBRq"></a><div class="avatar__intro"><div class="avatar__name">Sam Samai</div></div></div></div></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="Today we will outline our release plan in the near future."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-08-30-release-model/">Release Model</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-08-30T00:00:00.000Z" itemprop="datePublished">August 30, 2021</time> ¬∑ <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>Today we will outline our release plan in the near future.</p><p>One of Rust&#x27;s slogan is <a href="https://doc.rust-lang.org/book/appendix-07-nightly-rust.html#stability-without-stagnation" target="_blank" rel="noopener noreferrer">Stability Without Stagnation</a>, and SeaQL&#x27;s take on it, is &#x27;progression without stagnation&#x27;.</p><p>Before reaching <code>1.0</code>, we will be releasing every week, incorporating the latest changes and merged pull requests. There will be at most one incompatible release per month, so you will be expecting <code>0.2</code> in Sep 2021 and <code>0.9</code> in Apr 2022. We will decide by then whether the next release is an incremental <code>0.10</code> or a stable <code>1.0</code>.</p><p>After that, a major release will be rolled out every year. So you will probably be expecting a <code>2.0</code> in 2023.</p><p>All of these is only made possible with a solid infrastructure. While we have a <a href="https://github.com/SeaQL/sea-orm/actions" target="_blank" rel="noopener noreferrer">test suite</a>, its coverage will likely never be enough. We urge you to submit test cases to SeaORM if a particular feature is of importance to you.</p><p>We hope that a rolling release model will provide momentum to the community and propell us forward in the near future.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="After 8 months of secrecy, SeaORM is now public!"><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-08-07-hello-world/">Hello World</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-08-07T00:00:00.000Z" itemprop="datePublished">August 7, 2021</time> ¬∑ <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>After <a href="https://github.com/SeaQL/sea-query/discussions/9" target="_blank" rel="noopener noreferrer">8 months of secrecy</a>, SeaORM is now public!</p><p>The Rust async ecosystem is definitely thriving, with Tokio <a href="https://tokio.rs/blog/2021-07-announcing-axum" target="_blank" rel="noopener noreferrer">announcing Axum</a> a week before.</p><p>We are now busy doing the brush ups to head towards our announcement in Sep.</p><p>If you stumbled upon us just now, well, hello! We sincerely invite you to be our alpha tester.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><meta itemprop="description" content="One year ago, when we were writing data processing algorithms in Rust, we needed an async library to interface with a database. Back then, there weren&#x27;t many choices. So we have to write our own."><header><h2 class="title_ayX4" itemprop="headline"><a itemprop="url" href="/preview/pr-126/blog/2021-07-01-welcome/">Welcome to SeaQL</a></h2><div class="container_fNW3 margin-vert--md"><time datetime="2021-07-01T00:00:00.000Z" itemprop="datePublished">July 1, 2021</time> ¬∑ <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_UD2L"><div class="avatar margin-bottom--sm"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://avatars.githubusercontent.com/u/1782664?v=4" alt="Chris Tsang" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/tyt2y3" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Chris Tsang</span></a></div><small class="avatar__subtitle" itemprop="description">SeaQL Team</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>One year ago, when we were writing data processing algorithms in Rust, we needed an async library to interface with a database. Back then, there weren&#x27;t many choices. So we have to write our own.</p><p>December last year, we released <a href="https://github.com/SeaQL/sea-query" target="_blank" rel="noopener noreferrer">SeaQuery</a>, and received welcoming responses from the community. We decided to push the project further and develop a full blown async ORM.</p><p>It has been a bumpy ride, as designing an async ORM requires working within and sometimes around Rust&#x27;s unique type system. After several iterations of experimentation, I think we&#x27;ve attained a balance between static &amp; dynamic and compile-time &amp; run-time that it offers benefits of the Rust language while still be familiar and easy-to-work-with for those who come from other languages.</p><p>SeaORM is tentative to be released in Sep 2021 and stabilize in May 2022. We hope that SeaORM will become a go-to choice for working with databases in Rust and that the Rust language will be adopted by more organizations in building applications.</p><p>If you are intrigued like I do, please stay in touch and join the community.</p><p><a href="https://github.com/SeaQL/seaql.github.io/discussions/3" target="_blank" rel="noopener noreferrer">Share your thoughts here</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_ilPp padding--none margin-left--sm"><li class="tag_ZFc9"><a class="tag_nIIP tagRegular_ss3n" href="/preview/pr-126/blog/tags/news/">news</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://discord.com/invite/uCPdDXzbdv" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/sea_ql" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/sea-ql" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li><li class="footer__item"><a href="https://dev.to/seaql" target="_blank" rel="noopener noreferrer" class="footer__link-item">DEV</a></li><li class="footer__item"><a href="https://summerofcode.withgoogle.com/programs/2022/organizations/seaql" target="_blank" rel="noopener noreferrer" class="footer__link-item">GSoC</a></li></ul></div><div class="col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.sea-ql.org/SeaORM/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SeaORM</a></li><li class="footer__item"><a href="https://github.com/SeaQL/sea-query" target="_blank" rel="noopener noreferrer" class="footer__link-item">SeaQuery</a></li><li class="footer__item"><a href="https://www.sea-ql.org/StarfishQL/" target="_blank" rel="noopener noreferrer" class="footer__link-item">StarfishQL</a></li><li class="footer__item"><a href="https://www.sea-ql.org/Seaography/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Seaography</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br>Copyright ¬© 2024 SeaQL.org</div></div></div></footer></div>
<script src="/preview/pr-126/blog/assets/js/runtime~main.cb4149fe.js"></script>
<script src="/preview/pr-126/blog/assets/js/main.0d57e8cc.js"></script>
</body>
</html>