"use strict";(self.webpackChunksea_orm=self.webpackChunksea_orm||[]).push([[85334],{6408:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"install-and-config/debug-log","title":"\u8c03\u8bd5\u65e5\u5fd7","description":"\u8bed\u53e5\u65e5\u5fd7","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/02-install-and-config/03-debug-log.md","sourceDirName":"02-install-and-config","slug":"/install-and-config/debug-log","permalink":"/SeaORM/zh-CN/docs/install-and-config/debug-log","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/SeaORM/docs/02-install-and-config/03-debug-log.md","tags":[],"version":"current","lastUpdatedBy":"Chris Tsang","lastUpdatedAt":1772389428000,"sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u6570\u636e\u5e93\u8fde\u63a5","permalink":"/SeaORM/zh-CN/docs/install-and-config/connection"},"next":{"title":"\u8bbe\u7f6e\u8fc1\u79fb","permalink":"/SeaORM/zh-CN/docs/migration/setting-up-migration"}}');var a=s(74848),r=s(28453);const c={},i="\u8c03\u8bd5\u65e5\u5fd7",o={},l=[{value:"\u8bed\u53e5\u65e5\u5fd7",id:"\u8bed\u53e5\u65e5\u5fd7",level:2},{value:"SQLx \u65e5\u5fd7",id:"sqlx-\u65e5\u5fd7",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"\u8c03\u8bd5\u65e5\u5fd7",children:"\u8c03\u8bd5\u65e5\u5fd7"})}),"\n",(0,a.jsx)(n.h2,{id:"\u8bed\u53e5\u65e5\u5fd7",children:"\u8bed\u53e5\u65e5\u5fd7"}),"\n",(0,a.jsxs)(n.p,{children:["SeaORM \u901a\u8fc7 ",(0,a.jsx)(n.a,{href:"https://crates.io/crates/tracing",children:(0,a.jsx)(n.code,{children:"tracing"})})," crate \u8bb0\u5f55 debug \u6d88\u606f\u3002"]}),"\n",(0,a.jsxs)(n.p,{children:["\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,a.jsx)(n.code,{children:"debug-print"})," feature flag \u542f\u7528 SeaORM \u7684\u65e5\u5fd7\u8bb0\u5f55\uff1a"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-toml",children:'[dependencies.sea-orm]\nversion = "2.0.0-rc"\nfeatures = ["debug-print"]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["\u60a8\u9700\u8981\u914d\u7f6e ",(0,a.jsx)(n.a,{href:"https://crates.io/crates/tracing-subscriber",children:(0,a.jsx)(n.code,{children:"tracing-subscriber"})})," \u6765\u6355\u83b7\u548c\u67e5\u770b debug \u65e5\u5fd7\u3002\u8bf7\u53c2\u9605\u4e0b\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u4ee5\u53ca\u5b8c\u6574\u793a\u4f8b",(0,a.jsx)(n.a,{href:"https://github.com/SeaQL/sea-orm/blob/master/examples/actix_example/src/main.rs",children:"\u6b64\u5904"}),"\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-rust",children:"pub async fn main() {\n    tracing_subscriber::fmt()\n        .with_max_level(tracing::Level::DEBUG)\n        .with_test_writer()\n        .init();\n\n    // ...\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:"SeaORM \u7684 debug print \u4f1a\u5c06\u53c2\u6570\u63d2\u5165\u5230 SQL \u5b57\u7b26\u4e32\u4e2d\uff0c\u4f7f\u5176\u66f4\u6613\u4e8e\u9605\u8bfb\u3002\u60a8\u4e0d\u4f1a\u770b\u5230\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:'SELECT "cake"."name" FROM "cake" WHERE "cake"."id" = $1\n'})}),"\n",(0,a.jsx)(n.p,{children:"\u800c\u662f\u4f1a\u770b\u5230\uff1a"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:'SELECT "cake"."name" FROM "cake" WHERE "cake"."id" = 101\n'})}),"\n",(0,a.jsx)(n.h2,{id:"sqlx-\u65e5\u5fd7",children:"SQLx \u65e5\u5fd7"}),"\n",(0,a.jsxs)(n.p,{children:["SQLx \u9ed8\u8ba4\u4e5f\u4f1a\u8bb0\u5f55\u65e5\u5fd7\u3002\u5982\u679c\u60a8\u5df2\u5f00\u542f SeaORM \u7684 ",(0,a.jsx)(n.code,{children:"debug-print"}),"\uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06 ",(0,a.jsx)(n.a,{href:"https://docs.rs/sea-orm/2.0.0-rc.25/sea_orm/struct.ConnectOptions.html",children:(0,a.jsx)(n.code,{children:"ConnectOptions"})})," \u4f20\u9012\u7ed9 ",(0,a.jsx)(n.code,{children:"connect()"})," \u6765\u7981\u7528 SQLx \u7684\u65e5\u5fd7\u3002"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-rust",children:'let mut opt = ConnectOptions::new("protocol://username:password@host/database".to_owned());\nopt.sqlx_logging(false); // disable SQLx logging\n\nlet db = Database::connect(opt).await?;\n'})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>i});var t=s(96540);const a={},r=t.createContext(a);function c(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);