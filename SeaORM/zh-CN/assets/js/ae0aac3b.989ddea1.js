"use strict";(self.webpackChunksea_orm=self.webpackChunksea_orm||[]).push([[93539],{12573:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>i,contentTitle:()=>o,default:()=>c,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"generate-entity/newtype","title":"\u65b0\u7c7b\u578b","description":"\u4f60\u53ef\u4ee5\u5b9a\u4e49 New Type\uff08T\uff09\u5e76\u5c06\u5176\u7528\u4f5c\u6a21\u578b\u5b57\u6bb5\u3002\u9700\u8981\u5b9e\u73b0\u4ee5\u4e0b\u7279\u5f81\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/04-generate-entity/05-newtype.md","sourceDirName":"04-generate-entity","slug":"/generate-entity/newtype","permalink":"/SeaORM/zh-CN/docs/generate-entity/newtype","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/SeaORM/docs/04-generate-entity/05-newtype.md","tags":[],"version":"current","lastUpdatedBy":"Chris Tsang","lastUpdatedAt":1772368507000,"sidebarPosition":5,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ActiveEnum","permalink":"/SeaORM/zh-CN/docs/generate-entity/enumeration"},"next":{"title":"Entity \u4f18\u5148\u5de5\u4f5c\u6d41\u7a0b","permalink":"/SeaORM/zh-CN/docs/generate-entity/entity-first"}}');var t=n(74848),a=n(28453);const l={},o="\u65b0\u7c7b\u578b",i={},d=[{value:"\u5305\u88c5\u6807\u91cf\u7c7b\u578b",id:"\u5305\u88c5\u6807\u91cf\u7c7b\u578b",level:2},{value:"\u4f7f\u7528\u5c01\u88c5\u7c7b\u578b\u4f5c\u4e3a\u4e3b\u952e",id:"\u4f7f\u7528\u5c01\u88c5\u7c7b\u578b\u4f5c\u4e3a\u4e3b\u952e",level:3},{value:"\u5305\u88c5 <code>Vec&lt;T&gt;</code>\uff08\u4ec5 Postgres\uff09",id:"\u5305\u88c5-vect\u4ec5-postgres",level:2},{value:"\u5305\u88c5 <code>Vec&lt;T&gt;</code>\uff08\u540e\u7aef\u901a\u7528\uff09",id:"\u5305\u88c5-vect\u540e\u7aef\u901a\u7528",level:2},{value:"\u5c06\u4efb\u610f\u7c7b\u578b\u89c6\u4e3a JSON",id:"\u5c06\u4efb\u610f\u7c7b\u578b\u89c6\u4e3a-json",level:2},{value:"\u679a\u4e3e\u5b57\u7b26\u4e32",id:"\u679a\u4e3e\u5b57\u7b26\u4e32",level:2},{value:"\u7c7b\u5b57\u7b26\u4e32\u7ed3\u6784\u4f53",id:"\u7c7b\u5b57\u7b26\u4e32\u7ed3\u6784\u4f53",level:2}];function u(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components},{Details:n}=r;return n||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"\u65b0\u7c7b\u578b",children:"\u65b0\u7c7b\u578b"})}),"\n",(0,t.jsxs)(r.p,{children:["\u4f60\u53ef\u4ee5\u5b9a\u4e49 New Type\uff08",(0,t.jsx)(r.code,{children:"T"}),"\uff09\u5e76\u5c06\u5176\u7528\u4f5c\u6a21\u578b\u5b57\u6bb5\u3002\u9700\u8981\u5b9e\u73b0\u4ee5\u4e0b\u7279\u5f81\u3002"]}),"\n",(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsxs)(r.li,{children:["\u4e3a ",(0,t.jsx)(r.a,{href:"https://docs.rs/sea-query/*/sea_query/value/enum.Value.html",children:(0,t.jsx)(r.code,{children:"sea_query::Value"})})," \u5b9e\u73b0 ",(0,t.jsx)(r.code,{children:"From<T>"})]}),"\n",(0,t.jsxs)(r.li,{children:["\u4e3a ",(0,t.jsx)(r.code,{children:"T"})," \u5b9e\u73b0 ",(0,t.jsx)(r.a,{href:"https://docs.rs/sea-orm/2.0.0-rc.25/sea_orm/trait.TryGetable.html",children:(0,t.jsx)(r.code,{children:"sea_orm::TryGetable"})})]}),"\n",(0,t.jsxs)(r.li,{children:["\u4e3a ",(0,t.jsx)(r.code,{children:"T"})," \u5b9e\u73b0 ",(0,t.jsx)(r.a,{href:"https://docs.rs/sea-query/*/sea_query/value/trait.ValueType.html",children:(0,t.jsx)(r.code,{children:"sea_query::ValueType"})})]}),"\n",(0,t.jsxs)(r.li,{children:["\u4e3a ",(0,t.jsx)(r.code,{children:"T"})," \u5b9e\u73b0 ",(0,t.jsx)(r.a,{href:"https://docs.rs/sea-query/*/sea_query/value/trait.Nullable.html",children:(0,t.jsx)(r.code,{children:"sea_query::Nullable"})})]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"\u5305\u88c5\u6807\u91cf\u7c7b\u578b",children:"\u5305\u88c5\u6807\u91cf\u7c7b\u578b"}),"\n",(0,t.jsx)(r.p,{children:"\u4f60\u53ef\u4ee5\u521b\u5efa\u5305\u88c5 SeaORM \u652f\u6301\u7684\u4efb\u4f55\u7c7b\u578b\u7684\u65b0\u7c7b\u578b\u3002"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'use sea_orm::entity::prelude::*;\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "custom_value_type")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub number: Integer,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\npub struct Integer(i32);\n'})}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.code,{children:"Integer"})," \u5c55\u5f00\u540e\u7684\u5185\u5bb9\uff1a"]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"#[automatically_derived]\nimpl std::convert::From<Integer> for sea_orm::Value {\n    fn from(source: Integer) -> Self {\n        source.0.into()\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::TryGetable for Integer {\n    fn try_get_by<I: sea_orm::ColIdx>(res: &sea_orm::QueryResult, idx: I)\n        -> std::result::Result<Self, sea_orm::TryGetError> {\n        <i32 as sea_orm::TryGetable>::try_get_by(res, idx).map(|v| Integer(v))\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::sea_query::ValueType for Integer {\n    fn try_from(v: sea_orm::Value) -> std::result::Result<Self, sea_orm::sea_query::ValueTypeErr> {\n        <i32 as sea_orm::sea_query::ValueType>::try_from(v).map(|v| Integer(v))\n    }\n\n    fn type_name() -> std::string::String {\n        stringify!(Integer).to_owned()\n    }\n\n    fn array_type() -> sea_orm::sea_query::ArrayType {\n        sea_orm::sea_query::ArrayType::Int\n    }\n\n    fn column_type() -> sea_orm::sea_query::ColumnType {\n        sea_orm::sea_query::ColumnType::Integer\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::sea_query::Nullable for Integer {\n    fn null() -> sea_orm::Value {\n        <i32 as sea_orm::sea_query::Nullable>::null()\n    }\n}\n"})})]}),"\n",(0,t.jsx)(r.h3,{id:"\u4f7f\u7528\u5c01\u88c5\u7c7b\u578b\u4f5c\u4e3a\u4e3b\u952e",children:"\u4f7f\u7528\u5c01\u88c5\u7c7b\u578b\u4f5c\u4e3a\u4e3b\u952e"}),"\n",(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsxs)(r.mdxAdmonitionTitle,{children:["\u81ea ",(0,t.jsx)(r.code,{children:"2.0.0"})," \u8d77"]})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "custom_value_type")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: Integer,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n'})}),"\n",(0,t.jsxs)(r.p,{children:["\u652f\u6301 ",(0,t.jsx)(r.code,{children:"i8"})," / ",(0,t.jsx)(r.code,{children:"i16"})," / ",(0,t.jsx)(r.code,{children:"i32"})," / ",(0,t.jsx)(r.code,{children:"i64"})," / ",(0,t.jsx)(r.code,{children:"u8"})," / ",(0,t.jsx)(r.code,{children:"u16"})," / ",(0,t.jsx)(r.code,{children:"u32"})," / ",(0,t.jsx)(r.code,{children:"u64"})," \u5c01\u88c5\u7c7b\u578b\u3002"]}),"\n",(0,t.jsxs)(r.h2,{id:"\u5305\u88c5-vect\u4ec5-postgres",children:["\u5305\u88c5 ",(0,t.jsx)(r.code,{children:"Vec<T>"}),"\uff08\u4ec5 Postgres\uff09"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'use sea_orm::entity::prelude::*;\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "custom_vec_type")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub str_vec: StringVec,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n\n#[derive(Clone, Debug, PartialEq, Eq, DeriveValueType)]\npub struct StringVec(pub Vec<String>);\n'})}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.code,{children:"StringVec"})," \u5c55\u5f00\u540e\u7684\u5185\u5bb9\uff1a"]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"#[automatically_derived]\nimpl std::convert::From<StringVec> for Value {\n    fn from(source: StringVec) -> Self {\n        source.0.into()\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::TryGetable for StringVec {\n    fn try_get_by<I: sea_orm::ColIdx>(res: &QueryResult, idx: I) -> Result<Self, sea_orm::TryGetError> {\n        <Vec<String> as sea_orm::TryGetable>::try_get_by(res, idx).map(|v| StringVec(v))\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::sea_query::ValueType for StringVec {\n    fn try_from(v: Value) -> Result<Self, sea_orm::sea_query::ValueTypeErr> {\n        <Vec<String> as sea_orm::sea_query::ValueType>::try_from(v).map(|v| StringVec(v))\n    }\n\n    fn type_name() -> String {\n        stringify!(StringVec).to_owned()\n    }\n\n    fn array_type() -> sea_orm::sea_query::ArrayType {\n        sea_orm::sea_query::ArrayType::String\n    }\n\n    fn column_type() -> sea_orm::sea_query::ColumnType {\n        sea_orm::sea_query::ColumnType::String(StringLen::None)\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::sea_query::Nullable for Integer {\n    fn null() -> sea_orm::Value {\n        <Vec<String> as sea_orm::sea_query::Nullable>::null()\n    }\n}\n"})})]}),"\n",(0,t.jsxs)(r.h2,{id:"\u5305\u88c5-vect\u540e\u7aef\u901a\u7528",children:["\u5305\u88c5 ",(0,t.jsx)(r.code,{children:"Vec<T>"}),"\uff08\u540e\u7aef\u901a\u7528\uff09"]}),"\n",(0,t.jsxs)(r.p,{children:["\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u5c06\u5bf9\u8c61\u5e8f\u5217\u5316/\u53cd\u5e8f\u5217\u5316\u4e3a/\u4ece JSON \u6765\u5305\u88c5 ",(0,t.jsx)(r.code,{children:"Vec<T>"})," \u5b57\u6bb5\u3002\u8fd9\u662f\u5728\u6570\u636e\u5e93\u95f4\u652f\u6301\u6570\u7ec4\u7c7b\u578b\u7684\u540e\u7aef\u901a\u7528\u65b9\u5f0f\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'use sea_orm::entity::prelude::*;\nuse serde::{Deserialize, Serialize};\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "json_vec_type")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub json_vec: ObjectVec,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n\n#[derive(Clone, Debug, PartialEq, Eq, Serialize, Deserialize, FromJsonQueryResult)]\npub struct ObjectVec(pub Vec<MyObject>);\n\n#[derive(Clone, Debug, PartialEq, Eq, Serialize, Deserialize)]\npub struct MyObject {\n    ..\n}\n'})}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.code,{children:"ObjectVec"})," \u5c55\u5f00\u540e\u7684\u5185\u5bb9\uff1a"]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"impl sea_orm::TryGetableFromJson for ObjectVec {}\n\nimpl std::convert::From<ObjectVec> for sea_orm::Value {\n    fn from(source: ObjectVec) -> Self {\n        sea_orm::Value::Json(serde_json::to_value(&source).ok().map(|s| std::boxed::Box::new(s)))\n    }\n}\n\nimpl sea_orm::sea_query::ValueType for ObjectVec {\n    fn try_from(v: sea_orm::Value) -> Result<Self, sea_orm::sea_query::ValueTypeErr> {\n        match v {\n            sea_orm::Value::Json(Some(json)) => Ok(\n                serde_json::from_value(*json).map_err(|_| sea_orm::sea_query::ValueTypeErr)?,\n            ),\n            _ => Err(sea_orm::sea_query::ValueTypeErr),\n        }\n    }\n\n    fn type_name() -> String {\n        stringify!(ObjectVec).to_owned()\n    }\n\n    fn array_type() -> sea_orm::sea_query::ArrayType {\n        sea_orm::sea_query::ArrayType::Json\n    }\n\n    fn column_type() -> sea_orm::sea_query::ColumnType {\n        sea_orm::sea_query::ColumnType::Json\n    }\n}\n\nimpl sea_orm::sea_query::Nullable for ObjectVec {\n    fn null() -> sea_orm::Value {\n        sea_orm::Value::Json(None)\n    }\n}\n"})})]}),"\n",(0,t.jsx)(r.h2,{id:"\u5c06\u4efb\u610f\u7c7b\u578b\u89c6\u4e3a-json",children:"\u5c06\u4efb\u610f\u7c7b\u578b\u89c6\u4e3a JSON"}),"\n",(0,t.jsxs)(r.p,{children:["\u9664\u4e86\u5305\u88c5 ",(0,t.jsx)(r.code,{children:"Vec<T>"})," \u4e4b\u5916\uff0c",(0,t.jsx)(r.code,{children:"FromJsonQueryResult"})," \u5b8f\u8fd8\u53ef\u7528\u4e8e\u5b9e\u73b0 serde \u7684 ",(0,t.jsx)(r.code,{children:"Serialize"})," \u548c ",(0,t.jsx)(r.code,{children:"Deserialize"})," \u7684\u4efb\u4f55\u7c7b\u578b\uff0c\u5b83\u4eec\u5728\u4e0e\u6570\u636e\u5e93\u4ea4\u4e92\u65f6\u4f1a\u88ab\u8f6c\u6362\u4e3a/\u4ece JSON\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'use sea_orm::FromJsonQueryResult;\nuse sea_orm::entity::prelude::*;\nuse serde::{Deserialize, Serialize};\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\n#[sea_orm(table_name = "json_struct")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub json_value: Metadata,\n    pub json_value_opt: Option<Metadata>,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n\n#[derive(Clone, Debug, PartialEq, Serialize, Deserialize, FromJsonQueryResult)]\npub struct Metadata {\n    pub id: i32,\n    pub name: String,\n    pub price: f32,\n    pub notes: Option<String>,\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"\u679a\u4e3e\u5b57\u7b26\u4e32",children:"\u679a\u4e3e\u5b57\u7b26\u4e32"}),"\n",(0,t.jsxs)(r.p,{children:["\u81ea ",(0,t.jsx)(r.code,{children:"1.1.8"})," \u8d77\uff0c",(0,t.jsx)(r.code,{children:"DeriveValueType"})," \u4e5f\u652f\u6301 ",(0,t.jsx)(r.code,{children:"enum"})," \u7c7b\u578b\u3002\u5b83\u4e3a\u7531\u5b57\u7b26\u4e32\u6570\u636e\u5e93\u7c7b\u578b\u652f\u6301\u7684\u5ba2\u6237\u7aef\u679a\u4e3e\u63d0\u4f9b\u4e86\u6bd4 ",(0,t.jsx)(r.code,{children:"DeriveActiveEnum"})," \u66f4\u7b80\u5355\u7684\u66ff\u4ee3\u65b9\u6848\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[derive(DeriveValueType)]\n#[sea_orm(value_type = "String")]\npub enum Tag {\n    Hard,\n    Soft,\n}\n\n// `from_str` defaults to `std::str::FromStr::from_str`\nimpl std::str::FromStr for Tag {\n    type Err = sea_orm::sea_query::ValueTypeErr;\n    fn from_str(s: &str) -> Result<Self, Self::Err> { .. }\n}\n\n// `to_str` defaults to `std::string::ToString::to_string`.\nimpl std::fmt::Display for Tag {\n    fn fmt(&self, f: &mut std::fmt::Formatter<\'_>) -> std::fmt::Result { .. }\n}\n'})}),"\n",(0,t.jsxs)(n,{children:[(0,t.jsxs)("summary",{children:[(0,t.jsx)(r.code,{children:"Tag"})," \u5c55\u5f00\u540e\u7684\u5185\u5bb9\uff1a"]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[automatically_derived]\nimpl std::convert::From<Tag> for sea_orm::Value {\n    fn from(source: Tag) -> Self {\n        std::string::ToString::to_string(&source).into()\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::TryGetable for Tag {\n    fn try_get_by<I: sea_orm::ColIdx>(res: &sea_orm::QueryResult, idx: I)\n        -> std::result::Result<Self, sea_orm::TryGetError> {\n        let string = String::try_get_by(res, idx)?;\n        std::str::FromStr::from_str(&string).map_err(|err| {\n            sea_orm::TryGetError::DbErr(sea_orm::DbErr::TryIntoErr {\n                from: "String",\n                into: stringify!(#name),\n                source: std::sync::Arc::new(err),\n            })\n        })\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::sea_query::ValueType for Tag {\n    fn try_from(v: sea_orm::Value) -> std::result::Result<Self, sea_orm::sea_query::ValueTypeErr> {\n        let string = <String as sea_orm::sea_query::ValueType>::try_from(v)?;\n        std::str::FromStr::from_str(&string).map_err(|_| sea_orm::sea_query::ValueTypeErr)\n    }\n\n    fn type_name() -> std::string::String {\n        stringify!(Tag).to_owned()\n    }\n\n    fn array_type() -> sea_orm::sea_query::ArrayType {\n        sea_orm::sea_query::ArrayType::String\n    }\n\n    fn column_type() -> sea_orm::sea_query::ColumnType {\n        sea_orm::sea_query::ColumnType::String(sea_orm::sea_query::StringLen::None)\n    }\n}\n\n#[automatically_derived]\nimpl sea_orm::sea_query::Nullable for Tag {\n    fn null() -> sea_orm::Value {\n        sea_orm::Value::String(None)\n    }\n}\n'})})]}),"\n",(0,t.jsxs)(r.p,{children:["\u4f60\u53ef\u4ee5\u4f7f\u7528\u81ea\u5b9a\u4e49\u51fd\u6570\u8986\u76d6 ",(0,t.jsx)(r.code,{children:"from_str"})," \u548c ",(0,t.jsx)(r.code,{children:"to_str"}),"\uff0c\u8fd9\u5728\u4f60\u5728\u4f7f\u7528 ",(0,t.jsx)(r.a,{href:"https://docs.rs/strum/latest/strum/derive.Display.html",children:(0,t.jsx)(r.code,{children:"strum::Display"})})," \u548c ",(0,t.jsx)(r.a,{href:"https://docs.rs/strum/latest/strum/derive.EnumString.html",children:(0,t.jsx)(r.code,{children:"strum::EnumString"})}),"\uff0c\u6216\u624b\u52a8\u5b9e\u73b0\u7684\u65b9\u6cd5\u65f6\u7279\u522b\u6709\u7528\uff1a"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[derive(DeriveValueType)]\n#[sea_orm(value_type = "String", from_str = "Tag::from_str", to_str = "Tag::to_str")]\npub enum Tag {\n    Color,\n    Grey,\n}\n\nimpl Tag {\n    fn from_str(s: &str) -> Result<Self, ValueTypeErr> { .. }\n\n    fn to_str(&self) -> &\'static str { .. }\n}\n'})}),"\n",(0,t.jsx)(r.h2,{id:"\u7c7b\u5b57\u7b26\u4e32\u7ed3\u6784\u4f53",children:"\u7c7b\u5b57\u7b26\u4e32\u7ed3\u6784\u4f53"}),"\n",(0,t.jsxs)(r.p,{children:["\u81ea ",(0,t.jsx)(r.code,{children:"2.0.0"})," \u8d77\uff0c",(0,t.jsx)(r.code,{children:"DeriveValueType"})," \u4e5f\u652f\u6301\u53ef\u4ee5\u8f6c\u6362\u4e3a\u5b57\u7b26\u4e32\u548c\u4ece\u5b57\u7b26\u4e32\u8f6c\u6362\u7684\u7ed3\u6784\u4f53\u7c7b\u578b\u3002\u8fd9\u4e0e Enum \u5b57\u7b26\u4e32\u5b8c\u5168\u76f8\u540c\u3002"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[derive(Copy, Clone, Debug, PartialEq, Eq, DeriveValueType)]\n#[sea_orm(value_type = "String", column_type = "Text")] // override column type\npub struct Tag3 {\n    pub i: i64,\n}\n\nimpl std::fmt::Display for Tag3 {\n    fn fmt(&self, f: &mut std::fmt::Formatter<\'_>) -> std::fmt::Result {\n        write!(f, "{}", self.i)\n    }\n}\n\nimpl std::str::FromStr for Tag3 {\n    type Err = std::num::ParseIntError;\n\n    fn from_str(s: &str) -> Result<Self, Self::Err> {\n        let i: i64 = s.parse()?;\n        Ok(Self { i })\n    }\n}\n'})})]})}function c(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}},28453:(e,r,n)=>{n.d(r,{R:()=>l,x:()=>o});var s=n(96540);const t={},a=s.createContext(t);function l(e){const r=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),s.createElement(a.Provider,{value:r},e.children)}}}]);