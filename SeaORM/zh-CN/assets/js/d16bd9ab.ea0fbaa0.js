"use strict";(self.webpackChunksea_orm=self.webpackChunksea_orm||[]).push([[61622],{3104:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"relation/one-to-one","title":"\u4e00\u5bf9\u4e00","description":"\u6211\u4eec\u7684\u8d34\u7eb8\u7531\u4f18\u8d28\u9632\u6c34 PVC \u5236\u6210\uff0c\u5177\u6709\u72ec\u7279\u7684\u54d1\u5149\u8868\u9762\uff0c\u975e\u5e38\u9002\u5408\u7c98\u8d34\u5728\u7b14\u8bb0\u672c\u7535\u8111\u6216\u5176\u4ed6\u5c0f\u5de5\u5177\u7684\u80cc\u9762\uff01","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/06-relation/01-one-to-one.md","sourceDirName":"06-relation","slug":"/relation/one-to-one","permalink":"/SeaORM/zh-CN/docs/relation/one-to-one","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/SeaORM/docs/06-relation/01-one-to-one.md","tags":[],"version":"current","lastUpdatedBy":"Chris Tsang","lastUpdatedAt":1772389428000,"sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\u81ea\u5b9a\u4e49 ActiveModel","permalink":"/SeaORM/zh-CN/docs/basic-crud/custom-active-model"},"next":{"title":"\u4e00\u5bf9\u591a","permalink":"/SeaORM/zh-CN/docs/relation/one-to-many"}}');var r=t(74848),o=t(28453);const s={},l="\u4e00\u5bf9\u4e00",a={},d=[{value:"\u5b9a\u4e49\u5173\u8054",id:"\u5b9a\u4e49\u5173\u8054",level:2},{value:"\u5b9a\u4e49\u53cd\u5411\u5173\u8054",id:"\u5b9a\u4e49\u53cd\u5411\u5173\u8054",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4e00\u5bf9\u4e00",children:"\u4e00\u5bf9\u4e00"})}),"\n",(0,r.jsx)(n.admonition,{title:"SeaQL \u7684 Rust \u8d34\u7eb8\u5305 \ud83e\udd80",type:"tip",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://www.sea-ql.org/sticker-pack/cn/",children:"\u6211\u4eec\u7684\u8d34\u7eb8"}),"\u7531\u4f18\u8d28\u9632\u6c34 PVC \u5236\u6210\uff0c\u5177\u6709\u72ec\u7279\u7684\u54d1\u5149\u8868\u9762\uff0c\u975e\u5e38\u9002\u5408\u7c98\u8d34\u5728\u7b14\u8bb0\u672c\u7535\u8111\u6216\u5176\u4ed6\u5c0f\u5de5\u5177\u7684\u80cc\u9762\uff01"]})}),"\n",(0,r.jsxs)(n.p,{children:["\u4e00\u5bf9\u4e00\u5173\u7cfb\u662f\u6700\u57fa\u672c\u7684\u6570\u636e\u5e93\u5173\u7cfb\u7c7b\u578b\u3002\u5047\u8bbe\u4e00\u4e2a ",(0,r.jsx)(n.code,{children:"Cake"})," Entity \u6700\u591a\u6709\u4e00\u4e2a ",(0,r.jsx)(n.code,{children:"Fruit"})," \u914d\u6599\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9a\u4e49\u5173\u8054",children:"\u5b9a\u4e49\u5173\u8054"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 ",(0,r.jsx)(n.code,{children:"Cake"})," Entity \u4e0a\u5b9a\u4e49\u5173\u7cfb\uff1a"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728 ",(0,r.jsx)(n.code,{children:"Model"})," \u4e2d\u6dfb\u52a0\u65b0\u5b57\u6bb5 ",(0,r.jsx)(n.code,{children:"fruit"}),"\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"has_one"})," \u6ce8\u89e3\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",metastring:'{7,8} title="entity/cake.rs"',children:'#[sea_orm::model]\n#[derive(DeriveEntityModel, ..)]\n#[sea_orm(table_name = "cake")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    #[sea_orm(has_one)]\n    pub fruit: HasOne<super::fruit::Entity>,\n}\n'})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"\u5c55\u5f00\u540e\uff1a"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",metastring:'{3,4,9} title="entity/cake.rs"',children:'#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\npub enum Relation {\n    #[sea_orm(has_one = "super::fruit::Entity")]\n    Fruit,\n}\n\nimpl Related<super::fruit::Entity> for Entity {\n    fn to() -> RelationDef {\n        Relation::Fruit.def()\n    }\n}\n'})})]}),"\n",(0,r.jsx)(n.h2,{id:"\u5b9a\u4e49\u53cd\u5411\u5173\u8054",children:"\u5b9a\u4e49\u53cd\u5411\u5173\u8054"}),"\n",(0,r.jsxs)(n.p,{children:["\u5728 ",(0,r.jsx)(n.code,{children:"Fruit"})," Entity \u4e0a\uff0c\u5176 ",(0,r.jsx)(n.code,{children:"cake_id"})," \u5c5e\u6027\u5f15\u7528 ",(0,r.jsx)(n.code,{children:"Cake"})," Entity \u7684\u4e3b\u952e\u3002"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["\u7ecf\u9a8c\u6cd5\u5219\u662f\uff1a\u59cb\u7ec8\u5728\u5e26\u6709\u5916\u952e ",(0,r.jsx)(n.code,{children:"xxx_id"})," \u7684 Entity \u4e0a\u5b9a\u4e49 ",(0,r.jsx)(n.code,{children:"belongs_to"}),"\u3002"]})}),"\n",(0,r.jsx)(n.p,{children:"\u5b9a\u4e49\u53cd\u5411\u5173\u7cfb\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728 fruit ",(0,r.jsx)(n.code,{children:"Model"})," \u4e2d\u6dfb\u52a0\u65b0\u5b57\u6bb5 ",(0,r.jsx)(n.code,{children:"cake"}),"\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.code,{children:"belongs_to"})," \u6ce8\u89e3\u8be5\u5173\u7cfb\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5b9e\u73b0 ",(0,r.jsx)(n.code,{children:"Related<cake::Entity>"})," \u7279\u5f81\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",metastring:'{9,10} title="entity/fruit.rs"',children:'#[sea_orm::model]\n#[derive(DeriveEntityModel, ..)]\n#[sea_orm(table_name = "fruit")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    #[sea_orm(unique)]\n    pub cake_id: Option<i32>,\n    #[sea_orm(belongs_to, from = "cake_id", to = "id")]\n    pub cake: HasOne<super::cake::Entity>,\n}\n'})}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:"\u5c55\u5f00\u540e\uff1a"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-rust",children:'#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\npub enum Relation {\n    #[sea_orm(\n        belongs_to = "super::cake::Entity",\n        from = "Column::CakeId",\n        to = "super::cake::Column::Id"\n    )]\n    Cake,\n}\n\nimpl Related<super::cake::Entity> for Entity {\n    fn to() -> RelationDef {\n        Relation::Cake.def()\n    }\n}\n'})})]})]})}function u(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>l});var i=t(96540);const r={},o=i.createContext(r);function s(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);