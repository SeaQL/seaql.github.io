"use strict";(self.webpackChunksea_orm=self.webpackChunksea_orm||[]).push([[67433],{28453:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>l});var r=a(96540);const t={},s=r.createContext(t);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}},63567:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"graph-ql/getting-started","title":"\u5feb\u901f\u5165\u95e8","description":"\u6211\u4eec\u4ece\u4f7f\u7528\u7b80\u5316\u7248 Bakery schema \u7684 Seaography \u793a\u4f8b \u5f00\u59cb\u3002","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/10-graph-ql/02-getting-started.md","sourceDirName":"10-graph-ql","slug":"/graph-ql/getting-started","permalink":"/SeaORM/zh-CN/docs/graph-ql/getting-started","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/SeaORM/docs/10-graph-ql/02-getting-started.md","tags":[],"version":"current","lastUpdatedBy":"Chris Tsang","lastUpdatedAt":1772389428000,"sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"\ud83e\udded Seaography","permalink":"/SeaORM/zh-CN/docs/graph-ql/seaography-intro"},"next":{"title":"\ud83d\udda5\ufe0f SeaORM Pro","permalink":"/SeaORM/zh-CN/docs/sea-orm-pro/sea-orm-pro-intro"}}');var t=a(74848),s=a(28453);const i={},l="\u5feb\u901f\u5165\u95e8",o={},c=[{value:"\u5b89\u88c5 Seaography CLI",id:"\u5b89\u88c5-seaography-cli",level:2},{value:"\u751f\u6210 Seaography \u5b9e\u4f53",id:"\u751f\u6210-seaography-\u5b9e\u4f53",level:2},{value:"Dense Entity \u683c\u5f0f",id:"dense-entity-\u683c\u5f0f",level:3},{value:"Compact Entity \u683c\u5f0f",id:"compact-entity-\u683c\u5f0f",level:3},{value:"\u751f\u6210 GraphQL \u9879\u76ee",id:"\u751f\u6210-graphql-\u9879\u76ee",level:2},{value:"\u542f\u52a8\u670d\u52a1\u5668",id:"\u542f\u52a8\u670d\u52a1\u5668",level:2},{value:"\u8fd0\u884c\u4e00\u4e9b\u67e5\u8be2",id:"\u8fd0\u884c\u4e00\u4e9b\u67e5\u8be2",level:2},{value:"\u67e5\u627e\u5de7\u514b\u529b\u86cb\u7cd5\u5e76\u77e5\u9053\u5728\u54ea\u91cc\u8d2d\u4e70",id:"\u67e5\u627e\u5de7\u514b\u529b\u86cb\u7cd5\u5e76\u77e5\u9053\u5728\u54ea\u91cc\u8d2d\u4e70",level:3},{value:"\u67e5\u627e Alice \u70d8\u7119\u7684\u6240\u6709\u86cb\u7cd5",id:"\u67e5\u627e-alice-\u70d8\u7119\u7684\u6240\u6709\u86cb\u7cd5",level:3},{value:"\u5217\u51fa\u6240\u6709\u70d8\u7119\u5e97\u53ca\u5176\u86cb\u7cd5\uff0c\u4ee5\u53ca\u70d8\u7119\u5b83\u4eec\u7684\u9762\u5305\u5e08",id:"\u5217\u51fa\u6240\u6709\u70d8\u7119\u5e97\u53ca\u5176\u86cb\u7cd5\u4ee5\u53ca\u70d8\u7119\u5b83\u4eec\u7684\u9762\u5305\u5e08",level:3},{value:"\u4e0b\u4e00\u6b65",id:"\u4e0b\u4e00\u6b65",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u5feb\u901f\u5165\u95e8",children:"\u5feb\u901f\u5165\u95e8"})}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u4eec\u4ece\u4f7f\u7528\u7b80\u5316\u7248 Bakery schema \u7684 ",(0,t.jsx)(n.a,{href:"https://github.com/SeaQL/sea-orm/tree/master/examples/seaography_example",children:"Seaography \u793a\u4f8b"})," \u5f00\u59cb\u3002"]}),"\n",(0,t.jsx)(n.p,{children:"\u8fd8\u6709\u5176\u4ed6\u66f4\u590d\u6742 schema \u7684\u793a\u4f8b\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/SeaQL/seaography/tree/main/examples/sqlite",children:"Sakila"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/SeaQL/sea-orm-pro",children:"AdventureWorks"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:"https://raw.githubusercontent.com/SeaQL/sea-orm/master/examples/seaography_example/Seaography%20example.png",alt:""})}),"\n",(0,t.jsxs)(n.p,{children:["\u8981\u5f00\u59cb\u4f7f\u7528\uff0c\u4f60\u53ea\u9700\u8981\u4e00\u4e2a\u5e26\u6709 schema \u7684\u53ef\u7528 SQL \u6570\u636e\u5e93\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u7f16\u5199 SeaORM \u5b9e\u4f53\u5728 Rust \u4e2d\u5b8c\u6210\u6240\u6709\u5de5\u4f5c\uff0c\u6216\u4f7f\u7528 GUI \u5de5\u5177\uff08\u4f8b\u5982 ",(0,t.jsx)(n.a,{href:"https://www.jetbrains.com/datagrip/",children:"DataGrip"}),"\uff09\u8bbe\u8ba1 schema\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5b89\u88c5-seaography-cli",children:"\u5b89\u88c5 Seaography CLI"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cargo install seaography-cli@^2.0.0-rc\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u751f\u6210-seaography-\u5b9e\u4f53",children:"\u751f\u6210 Seaography \u5b9e\u4f53"}),"\n",(0,t.jsx)(n.h3,{id:"dense-entity-\u683c\u5f0f",children:"Dense Entity \u683c\u5f0f"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"\u5b8c\u5168\u76f8\u540c\u7684\u3001\u9010\u5b57\u8282\u7684"})," SeaORM \u5b9e\u4f53\u53ef\u4ee5\u5728 Seaography \u4e2d\u4f7f\u7528\u3002\u9b54\u6cd5\u53d1\u751f\u5728 SeaORM \u5b8f\u7684 ",(0,t.jsx)(n.code,{children:"seaography"})," feature flag \u80cc\u540e\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sea-orm-cli generate entity --output-dir ./src/entities --entity-format dense\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",metastring:'title="src/entities/cake.rs"',children:'//! `SeaORM` Entity, @generated by sea-orm-codegen 2.0.0-rc.14\n\nuse sea_orm::entity::prelude::*;\n\n#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\n#[sea_orm(table_name = "cake")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub name: String,\n    #[sea_orm(column_type = "Decimal(Some((16, 4)))")]\n    pub price: Decimal,\n    pub bakery_id: i32,\n    pub gluten_free: bool,\n    #[sea_orm(\n        belongs_to,\n        from = "bakery_id",\n        to = "id",\n        on_update = "Cascade",\n        on_delete = "Cascade"\n    )]\n    pub bakery: HasOne<super::bakery::Entity>,\n    #[sea_orm(has_many, via = "cake_baker")]\n    pub bakers: HasMany<super::baker::Entity>,\n}\n\nimpl ActiveModelBehavior for ActiveModel {}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"compact-entity-\u683c\u5f0f",children:"Compact Entity \u683c\u5f0f"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"sea-orm-cli generate entity --output-dir ./src/entities --entity-format compact --seaography\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u50cf\u5f80\u5e38\u4e00\u6837\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"sea-orm-cli"})," \u751f\u6210\u5b9e\u4f53\uff0c\u4f46\u9700\u8981\u989d\u5916\u6dfb\u52a0 ",(0,t.jsx)(n.code,{children:"--seaography"})," \u6807\u5fd7\u3002\u8fd9\u4e9b\u5b9e\u4f53\u57fa\u672c\u4e0a\u662f\u7ecf\u5178\u7684 SeaORM \u5b9e\u4f53\uff0c\u4f46\u591a\u4e86\u4e00\u4e2a ",(0,t.jsx)(n.code,{children:"RelatedEntity"})," \u679a\u4e3e\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",metastring:'{24-30} title="src/entities/cake.rs"',children:'//! `SeaORM` Entity, @generated by sea-orm-codegen 2.0.0-rc.12\n\nuse sea_orm::entity::prelude::*;\n\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel, Eq)]\n#[sea_orm(table_name = "cake")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub name: String,\n    #[sea_orm(column_type = "Decimal(Some((16, 4)))")]\n    pub price: Decimal,\n    pub bakery_id: i32,\n    pub gluten_free: bool,\n}\n\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]\npub enum Relation { .. }\n\nimpl Related<super::bakery::Entity> for Entity { .. }\n\nimpl ActiveModelBehavior for ActiveModel {}\n\n#[derive(Copy, Clone, Debug, EnumIter, DeriveRelatedEntity)]\npub enum RelatedEntity {\n    #[sea_orm(entity = "super::bakery::Entity")]\n    Bakery,\n    #[sea_orm(entity = "super::baker::Entity")]\n    Baker,\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u751f\u6210-graphql-\u9879\u76ee",children:"\u751f\u6210 GraphQL \u9879\u76ee"}),"\n",(0,t.jsx)(n.p,{children:"\u751f\u6210\u65b0\u9879\u76ee\u662f\u542f\u52a8 GraphQL \u670d\u52a1\u5668\u7684\u6700\u7b80\u5355\u65b9\u5f0f\u3002\n\u7136\u800c\uff0cSeaography \u53ef\u4ee5\u8f7b\u677e\u96c6\u6210\u5230\u4f7f\u7528\u4efb\u4f55 Web \u6846\u67b6\u6784\u5efa\u7684\u73b0\u6709 Web \u670d\u52a1\u5668\u4e2d\u3002"}),"\n",(0,t.jsx)(n.p,{children:"Seaography \u5f00\u7bb1\u5373\u7528\u652f\u6301 Actix\u3001Axum \u548c Poem\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"seaography-cli --output-dir . --entities ./src/entities --framework axum sea-orm-seaography-example\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5b8c\u6574\u5e2e\u52a9\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"\ud83e\udded A GraphQL framework for SeaORM\n\nUsage: seaography-cli [OPTIONS] --entities <ENTITIES> --database-url <DATABASE_URL> <CRATE_NAME>\n\nArguments:\n  <CRATE_NAME>  Crate name for generated project\n\nOptions:\n  -o, --output-dir <OUTPUT_DIR>\n          Project output directory [default: ./]\n  -e, --entities <ENTITIES>\n          Entities directory\n  -u, --database-url <DATABASE_URL>\n          Database URL [env: DATABASE_URL]\n  -f, --framework <FRAMEWORK>\n          Which web framework to use [default: poem] [possible values: actix, poem, axum]\n      --depth-limit <DEPTH_LIMIT>\n          GraphQL depth limit\n      --complexity-limit <COMPLEXITY_LIMIT>\n          GraphQL complexity limit\n  -h, --help\n          Print help\n  -V, --version\n          Print version\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u542f\u52a8\u670d\u52a1\u5668",children:"\u542f\u52a8\u670d\u52a1\u5668"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"cd graphql\ncargo run\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u4f60\u5f53\u7136\u53ef\u4ee5\u81ea\u7531\u4fee\u6539\u9879\u76ee\u4ee5\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\u3002\n\u6709\u8da3\u7684\u90e8\u5206\u4ece ",(0,t.jsx)(n.code,{children:"query_root.rs"})," \u4e2d\u7684 ",(0,t.jsx)(n.code,{children:"schema_builder"})," \u51fd\u6570\u5f00\u59cb\u3002\n\u4f60\u53ef\u4ee5\u5411 GraphQL schema \u6dfb\u52a0\u81ea\u5b9a\u4e49\u5b9e\u4f53\u3001\u67e5\u8be2\u548c\u53d8\u66f4\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u8fd0\u884c\u4e00\u4e9b\u67e5\u8be2",children:"\u8fd0\u884c\u4e00\u4e9b\u67e5\u8be2"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"Visit GraphQL Playground at http://localhost:8000\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u5bfc\u822a\u5230 GraphQL Playground\uff0c\u7136\u540e\u5f00\u59cb\u8fd0\u884c\u4e00\u4e9b\u67e5\u8be2\uff01"}),"\n",(0,t.jsx)(n.h3,{id:"\u67e5\u627e\u5de7\u514b\u529b\u86cb\u7cd5\u5e76\u77e5\u9053\u5728\u54ea\u91cc\u8d2d\u4e70",children:"\u67e5\u627e\u5de7\u514b\u529b\u86cb\u7cd5\u5e76\u77e5\u9053\u5728\u54ea\u91cc\u8d2d\u4e70"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-graphql",children:'{\n  cake(filters: { name: { contains: "Chocolate" } }) {\n    nodes {\n      name\n      price\n      bakery {\n        name\n      }\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u67e5\u627e-alice-\u70d8\u7119\u7684\u6240\u6709\u86cb\u7cd5",children:"\u67e5\u627e Alice \u70d8\u7119\u7684\u6240\u6709\u86cb\u7cd5"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-graphql",children:'{\n  cake(having: { baker: { name: { eq: "Alice" } } }) {\n    nodes {\n      name\n      price\n      baker {\n        nodes {\n          name\n        }\n      }\n    }\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"\u5217\u51fa\u6240\u6709\u70d8\u7119\u5e97\u53ca\u5176\u86cb\u7cd5\u4ee5\u53ca\u70d8\u7119\u5b83\u4eec\u7684\u9762\u5305\u5e08",children:"\u5217\u51fa\u6240\u6709\u70d8\u7119\u5e97\u53ca\u5176\u86cb\u7cd5\uff0c\u4ee5\u53ca\u70d8\u7119\u5b83\u4eec\u7684\u9762\u5305\u5e08"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-graphql",children:"{\n  bakery(pagination: { page: { limit: 10, page: 0 } }, orderBy: { name: ASC }) {\n    nodes {\n      name\n      cake {\n        nodes {\n          name\n          price\n          baker {\n            nodes {\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4e0b\u4e00\u6b65",children:"\u4e0b\u4e00\u6b65"}),"\n",(0,t.jsxs)(n.p,{children:["Seaography \u6db5\u76d6\u6784\u5efa\u590d\u6742\u5e94\u7528\u7684\u6240\u6709\u9700\u6c42\u2014\u2014\u4ece\u6570\u636e\u8bbf\u95ee\u3001\u8bbf\u95ee\u63a7\u5236\u5230",(0,t.jsx)(n.a,{href:"https://www.sea-ql.org/sea-orm-pro",children:"\u524d\u7aef\u96c6\u6210"}),"\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.a,{href:"https://www.sea-ql.org/Seaography/docs/index/",children:"Seaography \u5b8c\u6574\u6587\u6863"})," \u4e2d\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u6dfb\u52a0\u81ea\u5b9a\u4e49 GraphQL \u7aef\u70b9\u548c\u81ea\u5b9a\u4e49 resolver \u7684\u5185\u5bb9\u3002"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);