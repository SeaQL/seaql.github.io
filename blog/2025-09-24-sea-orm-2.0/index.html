<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">SeaORM 2.0: A closer look | SeaQL</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="keywords" content="rust, orm, SeaORM, SeaQuery, SeaSchema, Seaography, StarfishQL, database, sql, mysql, sqlite, postgresql, rocket, tokio, sqlx, actix, async-std"><meta data-rh="true" property="og:title" content="SeaORM 2.0: A closer look | SeaQL"><meta data-rh="true" name="description" content="In the previous blog post, we highlighted some of the new features in SeaORM 2.0. In this post, we&#x27;re going to take a closer look to some of the changes under the hood."><meta data-rh="true" property="og:description" content="In the previous blog post, we highlighted some of the new features in SeaORM 2.0. In this post, we&#x27;re going to take a closer look to some of the changes under the hood."><meta data-rh="true" property="og:image" content="https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png"><meta data-rh="true" name="twitter:image" content="https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-09-24T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/SeaQL"><meta data-rh="true" property="article:tag" content="news"><link data-rh="true" rel="icon" href="/blog/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0/"><link data-rh="true" rel="alternate" href="https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0/" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://SLLZ32J41K-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0","mainEntityOfPage":"https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0","url":"https://www.sea-ql.org/blog/2025-09-24-sea-orm-2.0","headline":"SeaORM 2.0: A closer look","name":"SeaORM 2.0: A closer look","description":"In the previous blog post, we highlighted some of the new features in SeaORM 2.0. In this post, we're going to take a closer look to some of the changes under the hood.","datePublished":"2025-09-24T00:00:00.000Z","author":{"@type":"Person","name":"SeaQL Team","description":"Chris Tsang","url":"https://github.com/SeaQL","image":"https://www.sea-ql.org/blog/img/SeaQL.png"},"image":{"@type":"ImageObject","@id":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","url":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","contentUrl":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","caption":"title image for the blog post: SeaORM 2.0: A closer look"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://www.sea-ql.org/blog/","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="SeaQL RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="SeaQL Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="SeaQL" href="/blog/opensearch.xml">

<link rel="stylesheet" href="/cookieconsent/cookieconsent.css">
<script src="/sea-ql.js"></script>
<script type="module" src="/cookieconsent/cookieconsent.js" async></script><link rel="stylesheet" href="/blog/assets/css/styles.fec6f6f8.css">
<script src="/blog/assets/js/runtime~main.123b74bc.js" defer="defer"></script>
<script src="/blog/assets/js/main.0fbd7bb9.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/blog/img/SeaQL.png"><link rel="preload" as="image" href="https://www.sea-ql.org/blog/img/SeaQL.png"><link rel="preload" as="image" href="/blog/img/SeaORM%202.0%20Banner.png"><link rel="preload" as="image" href="/blog/img/sea-orm-pro-light.png#light"><link rel="preload" as="image" href="/blog/img/sea-orm-pro-dark.png#dark"><link rel="preload" as="image" href="https://www.sea-ql.org/static/sponsors/QDX.svg"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/8466133?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/13605369?u=9566a44f2d869f337a4909836487bb4a29c23b72&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/175388115?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/59872041?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/16665353?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/82152211?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/15045722?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/168573261?v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&amp;v=4"><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&amp;v=4"><link rel="preload" as="image" href="https://www.sea-ql.org/static/sticker-pack-1s.jpg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_jJMk" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://www.sea-ql.org" target="_self" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/blog/img/SeaQL.png" alt="SeaQL Logo" class="themedComponent_ScW9 themedComponent--light_SiUE"><img src="/blog/img/SeaQL.png" alt="SeaQL Logo" class="themedComponent_ScW9 themedComponent--dark_l9XK"></div><b class="navbar__title text--truncate">SeaQL</b></a><a href="https://www.sea-ql.org/blog/" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">Blog</a><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_jmIy colorModeToggle_JVcr"><button class="clean-btn toggleButton_kaPF toggleButtonDisabled_cVZq" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wS5t lightToggleIcon_pyQD"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wS5t darkToggleIcon_r7Lf"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_wS5t systemToggleIcon_vpU9"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_U0UZ"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_Dpm9"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_S4B3 thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_mPOM margin-bottom--md">All Posts</div><div role="group"><h3 class="yearGroupHeading_hSsj">2025</h3><ul class="sidebarItemList_Tvcn clean-list"><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-10-08-seaography/">Seaography 2.0: A Powerful and Extensible GraphQL Framework</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-09-30-sea-orm-rbac/">Role Based Access Control in SeaORM 2.0</a></li><li class="sidebarItem_xLoW"><a aria-current="page" class="sidebarItemLink_kt61 sidebarItemLinkActive_Oh6C" href="/blog/2025-09-24-sea-orm-2.0/">SeaORM 2.0: A closer look</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-09-16-sea-orm-2.0/">A Sneak Peek at SeaORM 2.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-08-30-sea-query-1.0/">The road to SeaQuery 1.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-08-15-sea-query-raw-sql/">SeaQuery just made writing raw SQL more enjoyable</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-06-01-whats-new-in-sea-orm-1.1/">What&#x27;s new in SeaORM 1.1.12</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-03-08-whats-new-in-sea-orm-1.1/">What&#x27;s new in SeaORM 1.1.7</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-01-08-sea-orm-inheritance/">Tutorial: Modeling Inheritance in SeaORM</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2025-01-02-community-survey-2024/">SeaQL Community Survey 2024 Results</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_hSsj">2024</h3><ul class="sidebarItemList_Tvcn clean-list"><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-12-03-whats-new-in-seaquery-0.32.x/">What&#x27;s new in SeaQuery 0.32.x</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-11-30-whats-new-in-sea-streamer-0.5/">What&#x27;s new in SeaStreamer 0.5</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-08-08-graphql-admin-dashboard-with-loco-seaography/">GraphQL based Admin Dashboard with Loco and Seaography</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-08-04-sea-orm-1.0/">Announcing SeaORM 1.0 🐚</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-07-01-graphql-support-with-loco-seaography/">Adding GraphQL Support to Loco with Seaography</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-05-28-getting-started-with-loco-seaorm/">Getting Started with Loco &amp; SeaORM</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-05-20-async-rainbow-bridge/">The rainbow bridge between sync and async Rust</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-05-05-redis-kafka-data-sink/">Building a Redis / Kafka Data Sink</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-04-08-whats-new-in-seaorm-1.0-rc.x/">What&#x27;s new in SeaORM 1.0-rc.x</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-01-23-whats-new-in-seaorm-0.12.x/">What&#x27;s new in SeaORM 0.12.x</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2024-01-18-community-survey-2023/">SeaQL Community Survey 2023 Results</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_hSsj">2023</h3><ul class="sidebarItemList_Tvcn clean-list"><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-11-25-openuk-award/">OpenUK Award 2023 🏆</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-11-22-async-runtime-generic/">Writing Async Runtime Generic Library</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-09-06-whats-new-in-sea-streamer-0.3/">What&#x27;s new in SeaStreamer 0.3</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-08-12-announcing-seaorm-0.12/">Announcing SeaORM 0.12</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-04-03-intro-sea-streamer/">Introducing SeaStreamer 🌊</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-02-08-whats-new-in-seaorm-0.11.0/">What&#x27;s new in SeaORM 0.11.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-02-05-faq-02/">SeaORM FAQ.02</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-01-28-internship-at-seaql/">Internship @ SeaQL</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2023-01-01-call-for-contributors-n-reviewers/">Call for Contributors and Reviewers 📢</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_hSsj">2022</h3><ul class="sidebarItemList_Tvcn clean-list"><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-12-30-whats-new-in-seaquery-0.28.0/">What&#x27;s new in SeaQuery 0.28.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-12-02-whats-new-in-seaography-0.3.0/">What&#x27;s new in Seaography 0.3.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-11-10-whats-new-in-0.10.x/">What&#x27;s new in SeaORM 0.10.x</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-11-09-toggle-stacked-download-graph-in-crates-io/">Toggle Stacked Download Graph in crates.io</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-10-31-whats-new-in-seaquery-0.27.0/">What&#x27;s new in SeaQuery 0.27.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-09-27-getting-started-with-seaography/">Getting Started with Seaography</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-09-17-introducing-seaography/">Introducing Seaography 🧭</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-08-12-3k-github-stars/">Celebrating 3,000+ GitHub Stars 🎉</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-08-05-whats-new-in-seaquery-0.26.0/">What&#x27;s new in SeaQuery 0.26.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-07-30-engineering/">Engineering at SeaQL.org</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-07-17-whats-new-in-0.9.0/">What&#x27;s new in SeaORM 0.9.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-06-02-summer-of-code-2022-intro/">Welcome Summer of Code 2022 Contributors</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-05-15-whats-new-in-0.8.0/">What&#x27;s new in SeaORM 0.8.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-05-14-faq-01/">SeaORM FAQ.01</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-04-04-introducing-starfish-ql/">Introducing StarfishQL</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-03-26-whats-new-in-0.7.0/">What&#x27;s new in SeaORM 0.7.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/gsoc-2022/">Google Summer of Code 2022</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-02-07-whats-new-in-0.6.0/">What&#x27;s new in SeaORM 0.6.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2022-01-01-whats-new-in-0.5.0/">What&#x27;s new in SeaORM 0.5.0</a></li></ul></div><div role="group"><h3 class="yearGroupHeading_hSsj">2021</h3><ul class="sidebarItemList_Tvcn clean-list"><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-11-19-whats-new-in-0.4.0/">What&#x27;s new in SeaORM 0.4.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-10-15-whats-new-in-0.3.0/">What&#x27;s new in SeaORM 0.3.0</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-10-01-whats-new-in-0.2.4/">What&#x27;s new in SeaORM 0.2.4</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-09-20-introducing-sea-orm/">Introducing SeaORM 🐚</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-08-30-release-model/">Release Model</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-08-07-hello-world/">Hello World</a></li><li class="sidebarItem_xLoW"><a class="sidebarItemLink_kt61" href="/blog/2021-07-01-welcome/">Welcome to SeaQL</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title__Ct8">SeaORM 2.0: A closer look</h1><div class="container_ZncM margin-vert--md"><time datetime="2025-09-24T00:00:00.000Z">September 24, 2025</time> · <!-- -->15 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_eEfX"><div class="avatar margin-bottom--sm"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_SoRt" src="https://www.sea-ql.org/blog/img/SeaQL.png" alt="SeaQL Team"></a><div class="avatar__intro authorDetails_WCCs"><div class="avatar__name"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer"><span class="authorName_P0KK">SeaQL Team</span></a></div><small class="authorTitle_Bc8n" title="Chris Tsang">Chris Tsang</small><div class="authorSocials_E2Rt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><img alt="SeaORM 2.0 Banner" src="/blog/img/SeaORM%202.0%20Banner.png">
<p>In the <a href="https://www.sea-ql.org/blog/2025-09-16-sea-orm-2.0/" target="_blank" rel="noopener noreferrer">previous blog post</a>, we highlighted some of the new features in SeaORM 2.0. In this post, we&#x27;re going to take a closer look to some of the changes under the hood.</p>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="overhauled-entityinsert_many">Overhauled <code>Entity::insert_many</code><a href="#overhauled-entityinsert_many" class="hash-link" aria-label="Direct link to overhauled-entityinsert_many" title="Direct link to overhauled-entityinsert_many">​</a></h3>
<p><a href="https://github.com/SeaQL/sea-orm/pull/2628" target="_blank" rel="noopener noreferrer">#2628</a> We&#x27;ve received many issue reports around the <code>insert_many</code> API. Previously, <code>insert_many</code> shares the same helper struct with <code>insert_one</code>, which led to an awkard API:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> res </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Bakery</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token namespace" style="opacity:0.7">std</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token namespace" style="opacity:0.7">iter</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token function" style="color:#79b6f2">empty</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">on_empty_do_nothing</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// &lt;- you needed to add this,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">                           </span><span class="token comment" style="color:#999999">// otherwise insert empty [] would lead to error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token macro property" style="color:#5a9bcf">assert!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token macro property" style="color:#5a9bcf">matches!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Ok</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">TryInsertResult</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Empty</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>After careful consideration, we made a number of changes in 2.0:</p>
<ol>
<li>removed APIs (e.g. <code>Insert::add</code>) that can panic</li>
<li>new helper struct <code>InsertMany</code>, <code>last_insert_id</code> is now <code>Option&lt;Value&gt;</code></li>
<li>on empty iterator, <code>None</code> (for <code>last_insert_id</code>) or <code>vec![]</code> (when returning) is returned on execution</li>
<li><code>TryInsert</code> API is unchanged</li>
</ol>
<p>i.e. now <code>last_insert_id</code> is <code>Option&lt;Value&gt;</code> for <code>InsertMany</code>:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">InsertManyResult</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">A</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ActiveModelTrait</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> last_insert_id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Option</span><span class="token operator" style="color:#d7deea">&lt;&lt;</span><span class="token class-name" style="color:#FAC863">PrimaryKey</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">A</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">as</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">PrimaryKeyTrait</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">ValueType</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<p>Which means the awkardness is removed:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> res </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> _</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token macro property" style="color:#5a9bcf">assert_eq!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">res</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">last_insert_id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">None</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// insert nothing return None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> res </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">1</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token macro property" style="color:#5a9bcf">assert_eq!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">res</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">last_insert_id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Some</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// insert something return Some</span><br></span></code></pre></div></div>
<p>Exec with returning now returns a <code>Vec&lt;Model&gt;</code>, so it feels intuitive:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token macro property" style="color:#5a9bcf">assert!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> _</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec_with_returning</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token operator" style="color:#d7deea">?</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">is_empty</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// no footgun, nice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token macro property" style="color:#5a9bcf">assert_eq!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">NotSet</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            value</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;two&quot;</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">into</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec_with_returning</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">unwrap</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token class-name" style="color:#FAC863">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">2</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            value</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;two&quot;</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">into</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>Same on conflict API as before:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> res </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">3</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Set</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">on_conflict_do_nothing</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token macro property" style="color:#5a9bcf">assert!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token macro property" style="color:#5a9bcf">matches!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">conflict_insert</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Ok</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">TryInsertResult</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Conflicted</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="overhauled-connectiontrait-api">Overhauled <code>ConnectionTrait</code> API<a href="#overhauled-connectiontrait-api" class="hash-link" aria-label="Direct link to overhauled-connectiontrait-api" title="Direct link to overhauled-connectiontrait-api">​</a></h3>
<p><a href="https://github.com/SeaQL/sea-orm/pull/2657" target="_blank" rel="noopener noreferrer">#2657</a>
We overhauled the <code>ConnectionTrait</code> API. <code>execute</code>, <code>query_one</code>, <code>query_all</code>, <code>stream</code> now takes in SeaQuery statement instead of raw SQL statement.</p>
<p>So you don&#x27;t have to access the backend to build the query yourself.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// old</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> query</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SelectStatement</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">find</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">into_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> backend </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">get_database_backend</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> stmt </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> backend</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token plain">query</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> rows </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">query_all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">stmt</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// new</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> query</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SelectStatement</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">find</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">..</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">into_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> rows </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">query_all</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token plain">query</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>A new set of methods <code>execute_raw</code>, <code>query_one_raw</code>, <code>query_all_raw</code>, <code>stream_raw</code> is added, so you can still do the following:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> backend </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">get_database_backend</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> stmt </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> backend</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token plain">query</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// new</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> rows </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">query_all_raw</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">stmt</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="better-error-handling-in-updateone--deleteone">Better error handling in <code>UpdateOne</code> / <code>DeleteOne</code><a href="#better-error-handling-in-updateone--deleteone" class="hash-link" aria-label="Direct link to better-error-handling-in-updateone--deleteone" title="Direct link to better-error-handling-in-updateone--deleteone">​</a></h3>
<p><a href="https://github.com/SeaQL/sea-orm/pull/2726" target="_blank" rel="noopener noreferrer">#2726</a> <code>UpdateOne</code> and <code>DeleteOne</code> no longer implement <code>QueryFilter</code> and <code>QueryTrait</code>
directly. Those implementations could expose an incomplete SQL query with an incomplete condition that touches too many records.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// bad: the following is basically update all</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> query</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UpdateStatement</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Update</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">one</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">default</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">into_query</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>To generate the right condition, we must make sure that the primary key is set on the input <code>ActiveModel</code> by
calling the <code>validate()</code> method:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token class-name" style="color:#FAC863">Update</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">one</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">active_model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token operator" style="color:#d7deea">+</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">validate</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token operator" style="color:#d7deea">?</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// checks the query; may yield PrimaryKeyNotSet error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">DbBackend</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Postgres</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre></div></div>
<h4 class="anchor anchorWithStickyNavbar_y3jX" id="potential-compile-errors">Potential compile errors<a href="#potential-compile-errors" class="hash-link" aria-label="Direct link to Potential compile errors" title="Direct link to Potential compile errors">​</a></h4>
<p>If you need to access the generated SQL query, convert into <code>ValidatedUpdateOne</code>/<code>ValidatedDeleteOne</code> first.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token plain">error</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token constant" style="color:#5a9bcf">E0599</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> no method named `build` found </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> `</span><span class="token namespace" style="opacity:0.7">query</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token namespace" style="opacity:0.7">update</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">UpdateOne</span><span class="token plain">` </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> the current scope</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">   </span><span class="token operator" style="color:#d7deea">-</span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> src</span><span class="token operator" style="color:#d7deea">/</span><span class="token plain">entity</span><span class="token operator" style="color:#d7deea">/</span><span class="token plain">column</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token plain">rs</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token number" style="color:#5a9bcf">607</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token number" style="color:#5a9bcf">22</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">/</span><span class="token plain">                 </span><span class="token class-name" style="color:#FAC863">Update</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">one</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">active_model</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain">                     </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">DbBackend</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Postgres</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain">                     </span><span class="token operator" style="color:#d7deea">-</span><span class="token operator" style="color:#d7deea">^</span><span class="token operator" style="color:#d7deea">^</span><span class="token operator" style="color:#d7deea">^</span><span class="token operator" style="color:#d7deea">^</span><span class="token operator" style="color:#d7deea">^</span><span class="token plain"> method not found </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> `</span><span class="token class-name" style="color:#FAC863">UpdateOne</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">A</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain">`</span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">|</span><span class="token constant" style="color:#5a9bcf">_____________________</span><span class="token operator" style="color:#d7deea">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#d7deea">|</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="added-has_many_via-for-reverse-has-many-relation">Added <code>has_many_via</code> for reverse has many relation<a href="#added-has_many_via-for-reverse-has-many-relation" class="hash-link" aria-label="Direct link to added-has_many_via-for-reverse-has-many-relation" title="Direct link to added-has_many_via-for-reverse-has-many-relation">​</a></h3>
<p>Consider the following entities:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;bakery&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">i32</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> manager_id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">i32</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> cashier_id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">i32</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(</span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">        belongs_to = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;super::worker::Entity&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">        from = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;Column::ManagerId&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">        to = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;super::worker::Column::Id&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Manager</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(</span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">        belongs_to = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;super::worker::Entity&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">        from = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;Column::CashierId&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">,</span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">        to = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;super::worker::Column::Id&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">    )]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Cashier</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;worker&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">i32</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<p>There exist two relations between them:</p>
<div class="language-sh codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-sh codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token plain">Bakery -</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> Worker </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Manager</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">       -</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> Worker </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">Cashier</span><span class="token punctuation" style="color:#8dc891">)</span><br></span></code></pre></div></div>
<p>It&#x27;s now possible to define the inverse side of the relations in <code>Worker</code>:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(table_name = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;worker&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Model</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(primary_key)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">i32</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">String</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Copy, Clone, Debug, EnumIter, DeriveRelation)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Relation</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(has_many = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;super::bakery::Entity&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">, via = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;Relation::Manager&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">BakeryManager</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(has_many = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;super::bakery::Entity&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">, via = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;Relation::Cashier&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">BakeryCashier</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<p>These relations can then be used in queries:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token macro property" style="color:#5a9bcf">assert_eq!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token namespace" style="opacity:0.7">worker</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">find</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">join</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token class-name" style="color:#FAC863">JoinType</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">LeftJoin</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token namespace" style="opacity:0.7">worker</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Relation</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">BakeryManager</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">def</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">DbBackend</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Sqlite</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">to_string</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">r#&quot;SELECT &quot;worker&quot;.&quot;id&quot;, &quot;worker&quot;.&quot;name&quot; FROM &quot;worker&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token string" style="color:#8dc891">       LEFT JOIN &quot;bakery&quot; ON &quot;worker&quot;.&quot;id&quot; = &quot;bakery&quot;.&quot;manager_id&quot;&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="use-of-transaction-with-generic-connections">Use of transaction with generic connections<a href="#use-of-transaction-with-generic-connections" class="hash-link" aria-label="Direct link to Use of transaction with generic connections" title="Direct link to Use of transaction with generic connections">​</a></h3>
<p>You can already use <code>TransactionTrait</code> as a generic parameter to define functions accepting any connection object that can initiate transactions.</p>
<p>In SeaORM 2.0, there are new database-connection-like objects: <code>RestrictedConnection</code> and <code>RestrictedTransaction</code>. They implement <code>ConnectionTrait</code> and <code>TransactionTrait</code>, and behaves just like normal <code>DatabaseConnection</code>s except that they performs additional checks on queries.</p>
<table><thead><tr><th>Connection type</th><th>Associated transaction type</th></tr></thead><tbody><tr><td><code>DatabaseConnection</code></td><td><code>DatabaseTransaction</code></td></tr><tr><td><code>RestrictedConnection</code></td><td><code>RestrictedTransaction</code></td></tr></tbody></table>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// new connection type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">RestrictedConnection</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    conn</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DatabaseConnection</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// just a wrapper</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    user_id</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">UserId</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">impl</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TransactionTrait</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">RestrictedConnection</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Transaction</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">RestrictedTransaction</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// added associated type</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<p>Meaning the following would continue to work:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// accepts any one of DatabaseConnection / DatabaseTransaction / RestrictedConnection / RestrictedTransaction.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// nested transactions will be spawned for transaction objects</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">async</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">perform_actions</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">C</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">TransactionTrait</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    db</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token class-name" style="color:#FAC863">C</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    actions</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token class-name" style="color:#FAC863">Action</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Result</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DbErr</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> txn </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">begin</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> action </span><span class="token keyword" style="color:#c5a5c5">in</span><span class="token plain"> actions </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        txn</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">execute</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">perform</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">action</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token operator" style="color:#d7deea">?</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    txn</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">commit</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="removing-panics-from-api">Removing panics from API<a href="#removing-panics-from-api" class="hash-link" aria-label="Direct link to Removing panics from API" title="Direct link to Removing panics from API">​</a></h3>
<p>SeaORM has a large API surface. We&#x27;ve already removed a great number of <code>unwrap</code>s from the codebase in 1.0 release, but some panics due to &quot;mis-use of API&quot; can still happen.</p>
<p>Once again, we&#x27;ve tried to remove the remaining panics.</p>
<ul>
<li><a href="https://github.com/SeaQL/sea-orm/pull/2630" target="_blank" rel="noopener noreferrer">#2630</a> Added new error variant <code>BackendNotSupported</code>. Previously, it panics with e.g. &quot;Database backend doesn&#x27;t support RETURNING&quot;</li>
</ul>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> result </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">insert_many</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec_with_returning_keys</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">if</span><span class="token plain"> db</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">support_returning</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// Postgres and SQLite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token macro property" style="color:#5a9bcf">assert_eq!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">unwrap</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">[</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// MySQL</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token macro property" style="color:#5a9bcf">assert!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token macro property" style="color:#5a9bcf">matches!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">result</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Err</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">DbErr</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">BackendNotSupported</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://github.com/SeaQL/sea-orm/pull/2627" target="_blank" rel="noopener noreferrer">#2627</a> Added new error variant <code>PrimaryKeyNotSet</code>. Previously, it panics with &quot;PrimaryKey is not set&quot;</li>
</ul>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token macro property" style="color:#5a9bcf">assert!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token macro property" style="color:#5a9bcf">matches!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Update</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">one</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">ActiveModel</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">..</span><span class="token class-name" style="color:#FAC863">Default</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">default</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">exec</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token plain">db</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token keyword" style="color:#c5a5c5">await</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Err</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">DbErr</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">PrimaryKeyNotSet</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://github.com/SeaQL/sea-orm/pull/2634" target="_blank" rel="noopener noreferrer">#2634</a> Remove panics in <code>Schema::create_enum_from_active_enum</code></li>
</ul>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// method can now return None</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">create_enum_from_active_enum</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">A</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Option</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">TypeCreateStatement</span><span class="token operator" style="color:#d7deea">&gt;</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://github.com/SeaQL/sea-orm/pull/2628" target="_blank" rel="noopener noreferrer">#2628</a> Remove panickable APIs from insert</li>
</ul>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/// Add a Model to `Insert`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/// # Panics</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">///</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/// Panics if the rows have different column sets from what&#x27;ve previously</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">/// been cached in the query statement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">add</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">M</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">mut</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> m</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">M</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">Self</span><br></span></code></pre></div></div>
<ul>
<li><a href="https://github.com/SeaQL/sea-orm/pull/2637" target="_blank" rel="noopener noreferrer">#2637</a> Remove panics in loader</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="enhancements">Enhancements<a href="#enhancements" class="hash-link" aria-label="Direct link to Enhancements" title="Direct link to Enhancements">​</a></h2>
<p>These are small touch‑ups, but added up they can make a big difference.</p>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="added-shorthand-for-postgres--any">Added shorthand for Postgres<code> = ANY</code><a href="#added-shorthand-for-postgres--any" class="hash-link" aria-label="Direct link to added-shorthand-for-postgres--any" title="Direct link to added-shorthand-for-postgres--any">​</a></h3>
<p>Added <code>ColumnTrait::eq_any</code> as a shorthand for the <code> = ANY</code> operator. Postgres only.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// old: have to import sea-query</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">use</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">sea_orm</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token namespace" style="opacity:0.7">sea_query</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token punctuation" style="color:#8dc891">{</span><span class="token class-name" style="color:#FAC863">Expr</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">extension</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token namespace" style="opacity:0.7">postgres</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">PgFunc</span><span class="token punctuation" style="color:#8dc891">}</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">find</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token comment" style="color:#999999">// have to qualify column manually</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token class-name" style="color:#FAC863">Expr</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">col</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Column</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Id</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">PgFunc</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">any</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token macro property" style="color:#5a9bcf">vec!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// new: just use sea-orm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token macro property" style="color:#5a9bcf">assert_eq!</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Entity</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">find</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">filter</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token namespace" style="opacity:0.7">cake</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Column</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Id</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">eq_any</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token macro property" style="color:#5a9bcf">vec!</span><span class="token punctuation" style="color:#8dc891">[</span><span class="token number" style="color:#5a9bcf">4</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token number" style="color:#5a9bcf">5</span><span class="token punctuation" style="color:#8dc891">]</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token class-name" style="color:#FAC863">DbBackend</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Postgres</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">to_string</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token string" style="color:#8dc891">r#&quot;SELECT &quot;cake&quot;.&quot;id&quot;, &quot;cake&quot;.&quot;name&quot; FROM &quot;cake&quot;</span><br></span><span class="token-line" style="color:#ffffff"><span class="token string" style="color:#8dc891">       WHERE &quot;cake&quot;.&quot;id&quot; = ANY(ARRAY [4,5])&quot;#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="added-big_pk_auto">Added <code>big_pk_auto</code><a href="#added-big_pk_auto" class="hash-link" aria-label="Direct link to added-big_pk_auto" title="Direct link to added-big_pk_auto">​</a></h3>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// old</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">pk_auto</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">T</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">IntoIden</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">T</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnDef</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">integer</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">auto_increment</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">primary_key</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">take</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// new: same as above but use big integer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">big_pk_auto</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token class-name" style="color:#FAC863">T</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">IntoIden</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">T</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ColumnDef</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">big_integer</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">name</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">auto_increment</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">primary_key</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">take</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="added-chronoutc-to-entity-prelude">Added <code>chrono::Utc</code> to entity prelude<a href="#added-chronoutc-to-entity-prelude" class="hash-link" aria-label="Direct link to added-chronoutc-to-entity-prelude" title="Direct link to added-chronoutc-to-entity-prelude">​</a></h3>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">type</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">ChronoUtc</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">chrono</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Utc</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>We can now rely on <code>sea-orm</code>&#x27;s re-export:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// old: chrono has to be added in Cargo.toml</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> ts</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ChronoDateTimeUtc</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token namespace" style="opacity:0.7">chrono</span><span class="token namespace punctuation" style="opacity:0.7;color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Utc</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// new: use sea-orm&#x27;s re-export</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">let</span><span class="token plain"> ts</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ChronoDateTimeUtc</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">ChronoUtc</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token function" style="color:#79b6f2">now</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="breaking-changes">Breaking changes<a href="#breaking-changes" class="hash-link" aria-label="Direct link to Breaking changes" title="Direct link to Breaking changes">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="use-static-str-in-identifiers">Use <code>&amp;&#x27;static str</code> in identifiers<a href="#use-static-str-in-identifiers" class="hash-link" aria-label="Direct link to use-static-str-in-identifiers" title="Direct link to use-static-str-in-identifiers">​</a></h3>
<p><a href="https://github.com/SeaQL/sea-orm/pull/2667" target="_blank" rel="noopener noreferrer">#2667</a> Changed <code>IdenStatic</code> and <code>EntityName</code> definition. This change stemmed from the <a href="https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/#revamped-iden-type-system" target="_blank" rel="noopener noreferrer">revamp of the <code>Iden</code> type system</a> in SeaQuery, in which <code>&amp;&#x27;static str</code> now has slightly less overhead.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">IdenStatic</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">as_str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token lifetime-annotation symbol" style="color:#5a9bcf">&#x27;static</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">str</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// added static lifetime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">EntityName</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">table_name</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token lifetime-annotation symbol" style="color:#5a9bcf">&#x27;static</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">str</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// added static lifetime</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="querybuilder-is-no-longer-object-safe"><code>QueryBuilder</code> is no longer object safe<a href="#querybuilder-is-no-longer-object-safe" class="hash-link" aria-label="Direct link to querybuilder-is-no-longer-object-safe" title="Direct link to querybuilder-is-no-longer-object-safe">​</a></h3>
<p>Removed <code>DbBackend::get_query_builder()</code> because <code>QueryBuilder</code> is no longer object safe. This change improved query building performance by 5-10%.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">impl</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DbBackend</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// This is removed</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">  </span><span class="token operator" style="color:#d7deea">-</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">get_query_builder</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Box</span><span class="token operator" style="color:#d7deea">&lt;</span><span class="token keyword" style="color:#c5a5c5">dyn</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">QueryBuilder</span><span class="token operator" style="color:#d7deea">&gt;</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<p>Previously <code>dyn SqlWriter</code> is used everywhere.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">prepare_table_create_statement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    create</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token class-name" style="color:#FAC863">TableCreateStatement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    sql</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">mut</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">dyn</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SqlWriter</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>Now, it&#x27;s a generic method:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">prepare_table_create_statement</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    create</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token class-name" style="color:#FAC863">TableCreateStatement</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    sql</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">mut</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">impl</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">SqlWriter</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> </span><span class="token comment" style="color:#999999">// note the impl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><br></span></code></pre></div></div>
<p>This change shouldn&#x27;t impact most users because we have the following API:</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">trait</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">StatementBuilder</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">build</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"> db_backend</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token class-name" style="color:#FAC863">DbBackend</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Statement</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// implemented for SelectStatement, InsertStatement, UpdateStatement, DeleteStatement, etc</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="changed-database-connection">Changed <code>Database Connection</code><a href="#changed-database-connection" class="hash-link" aria-label="Direct link to changed-database-connection" title="Direct link to changed-database-connection">​</a></h3>
<p><a href="https://github.com/SeaQL/sea-orm/pull/2671" target="_blank" rel="noopener noreferrer">#2671</a> <code>DatabaseConnection</code> is changed from enum to struct. The original enum is moved into <code>DatabaseConnection::inner</code>. The new enum is named <code>DatabaseConnectionType</code>.</p>
<p>This allows <code>DatabaseConnection</code> to hold additional metadata.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// old</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">DatabaseConnection</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SqlxMySqlPoolConnection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">crate</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">SqlxMySqlPoolConnection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SqlxPostgresPoolConnection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">crate</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">SqlxPostgresPoolConnection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SqlxSqlitePoolConnection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">crate</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">SqlxSqlitePoolConnection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// new</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">struct</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">DatabaseConnection</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> inner</span><span class="token punctuation" style="color:#8dc891">:</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">DatabaseConnectionType</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">DatabaseConnectionType</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SqlxMySqlPoolConnection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">crate</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">SqlxMySqlPoolConnection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SqlxPostgresPoolConnection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">crate</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">SqlxPostgresPoolConnection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">SqlxSqlitePoolConnection</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token keyword" style="color:#c5a5c5">crate</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">SqlxSqlitePoolConnection</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="removed-derive-custom-column">Removed <code>Derive Custom Column</code><a href="#removed-derive-custom-column" class="hash-link" aria-label="Direct link to removed-derive-custom-column" title="Direct link to removed-derive-custom-column">​</a></h3>
<p><a href="https://github.com/SeaQL/sea-orm/pull/2667" target="_blank" rel="noopener noreferrer">#2667</a> Removed <code>DeriveCustomColumn</code> macro and <code>default_as_str</code> trait method. This was a legacy of the expanded entity format.</p>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// This is no longer supported:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Copy, Clone, Debug, EnumIter, DeriveCustomColumn)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Column</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">impl</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">IdenStatic</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">for</span><span class="token plain"> </span><span class="token class-name" style="color:#FAC863">Column</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">fn</span><span class="token plain"> </span><span class="token function-definition function" style="color:#79b6f2">as_str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">-&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">&amp;</span><span class="token keyword" style="color:#c5a5c5">str</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword" style="color:#c5a5c5">match</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            </span><span class="token keyword" style="color:#c5a5c5">Self</span><span class="token punctuation" style="color:#8dc891">::</span><span class="token class-name" style="color:#FAC863">Name</span><span class="token plain"> </span><span class="token operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token string" style="color:#8dc891">&quot;my_name&quot;</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">            _ </span><span class="token operator" style="color:#d7deea">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">self</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token function" style="color:#79b6f2">default_as_str</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<div class="language-rust codeBlockContainer_uq2W theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_XEgh"><pre tabindex="0" class="prism-code language-rust codeBlock_iXnu thin-scrollbar" style="background-color:#282c34;color:#ffffff"><code class="codeBlockLines_wLjd"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// Do the following instead:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token attribute attr-name" style="color:#c5a5c5">#[derive(Copy, Clone, Debug, EnumIter, DeriveColumn)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">pub</span><span class="token plain"> </span><span class="token keyword" style="color:#c5a5c5">enum</span><span class="token plain"> </span><span class="token type-definition class-name" style="color:#FAC863">Column</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Id</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token attribute attr-name" style="color:#c5a5c5">#[sea_orm(column_name = </span><span class="token attribute attr-name string" style="color:#8dc891">&quot;my_name&quot;</span><span class="token attribute attr-name" style="color:#c5a5c5">)]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token class-name" style="color:#FAC863">Name</span><span class="token punctuation" style="color:#8dc891">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="upgrades">Upgrades<a href="#upgrades" class="hash-link" aria-label="Direct link to Upgrades" title="Direct link to Upgrades">​</a></h2>
<ul>
<li><code>tokio</code> is now used in place of <code>async-std</code> in sea-orm-cli and examples as async-std has been deprecated.</li>
<li>Returning is now enabled for SQLite by default. SQLite introduced returning in <code>3.35</code> which was released in 2021, it should be the default by now.</li>
<li><a href="https://github.com/SeaQL/sea-orm/pull/2596" target="_blank" rel="noopener noreferrer">#2596</a> Upgraded Rust Edition to 2024</li>
<li>Upgraded <code>strum</code> to <code>0.27</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="sql-server-support">SQL Server Support<a href="#sql-server-support" class="hash-link" aria-label="Direct link to SQL Server Support" title="Direct link to SQL Server Support">​</a></h2>
<p><a href="https://www.sea-ql.org/SeaORM-X/" target="_blank" rel="noopener noreferrer">SQL Server for SeaORM</a> offers the same SeaORM API for MSSQL. We ported all test cases and examples, complemented by MSSQL specific documentation. If you are building enterprise software, you can <a href="https://forms.office.com/r/1MuRPJmYBR" target="_blank" rel="noopener noreferrer">request commercial access</a>. It is currently based on SeaORM 1.0, but we will offer free upgrade to existing users when SeaORM 2.0 is finalized.</p>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="️-seaorm-pro-professional-admin-panel">🖥️ SeaORM Pro: Professional Admin Panel<a href="#️-seaorm-pro-professional-admin-panel" class="hash-link" aria-label="Direct link to 🖥️ SeaORM Pro: Professional Admin Panel" title="Direct link to 🖥️ SeaORM Pro: Professional Admin Panel">​</a></h2>
<img src="/blog/img/sea-orm-pro-light.png#light">
<img src="/blog/img/sea-orm-pro-dark.png#dark">
<p><a href="https://www.sea-ql.org/sea-orm-pro/" target="_blank" rel="noopener noreferrer">SeaORM Pro</a> is an admin panel solution allowing you to quickly and easily launch an admin panel for your application - frontend development skills not required, but certainly nice to have!</p>
<p>SeaORM Pro will be updated to support the latest features in SeaORM 2.0.</p>
<p>Features:</p>
<ul>
<li>Full CRUD</li>
<li>Built on React + GraphQL</li>
<li>Built-in GraphQL resolver</li>
<li>Customize the UI with TOML config</li>
<li>Custom GraphQL endpoints <em>(new in 2.0)</em></li>
<li>Role Based Access Control <em>(new in 2.0)</em></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="more-to-come">More to come<a href="#more-to-come" class="hash-link" aria-label="Direct link to More to come" title="Direct link to More to come">​</a></h2>
<p>SeaORM 2.0 is shaping up to be our most significant release yet - with a few breaking changes, plenty of enhancements, and a clear focus on developer experience. We&#x27;ll dive into Role Based Access Control in the next post, so keep an eye out for the next update!</p>
<p>SeaORM 2.0 will launch alongside SeaQuery 1.0. If you make extensive use of SeaORM&#x27;s underlying query builder, we recommend checking out our earlier blog post on <a href="https://www.sea-ql.org/blog/2025-08-30-sea-query-1.0/" target="_blank" rel="noopener noreferrer">SeaQuery 1.0</a> to get familiar with the changes.</p>
<p>SeaORM 2.0 has reached its release candidate phase. We&#x27;d love for you to try it out and help shape the final release by <a href="https://github.com/SeaQL/sea-orm/discussions/2548" target="_blank" rel="noopener noreferrer">sharing your feedback</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="sponsors">Sponsors<a href="#sponsors" class="hash-link" aria-label="Direct link to Sponsors" title="Direct link to Sponsors">​</a></h2>
<p>If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization.</p>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="gold-sponsor">Gold Sponsor<a href="#gold-sponsor" class="hash-link" aria-label="Direct link to Gold Sponsor" title="Direct link to Gold Sponsor">​</a></h3>
<a href="https://qdx.co/"><img src="https://www.sea-ql.org/static/sponsors/QDX.svg" width="128"></a>
<p><a href="https://qdx.co/" target="_blank" rel="noopener noreferrer">QDX</a> pioneers quantum dynamics–powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.
We&#x27;re grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications.</p>
<h3 class="anchor anchorWithStickyNavbar_y3jX" id="github-sponsors">GitHub Sponsors<a href="#github-sponsors" class="hash-link" aria-label="Direct link to GitHub Sponsors" title="Direct link to GitHub Sponsors">​</a></h3>
<p>A big shout out to our <a href="https://github.com/sponsors/SeaQL" target="_blank" rel="noopener noreferrer">GitHub sponsors</a> 😇:</p>
<div class="row"><div class="col col--12 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--lg" href="https://github.com/subscribepro"><img src="https://avatars.githubusercontent.com/u/8466133?v=4"></a><div class="avatar__intro"><div class="avatar__name">Subscribe Pro</div></div></div></div></div>
<br>
<div class="row"><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/holly-hacker"><img src="https://avatars.githubusercontent.com/u/13605369?u=9566a44f2d869f337a4909836487bb4a29c23b72&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Variant9</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/ryanswrt"><img src="https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Ryan Swart</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/OteroRafael"><img src="https://avatars.githubusercontent.com/u/175388115?v=4"></a><div class="avatar__intro"><div class="avatar__name">OteroRafael</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/higumachan"><img src="https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Yuta Hinokuma</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/wh7f"><img src="https://avatars.githubusercontent.com/u/59872041?v=4"></a><div class="avatar__intro"><div class="avatar__name">wh7f</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/marcson909"><img src="https://avatars.githubusercontent.com/u/16665353?v=4"></a><div class="avatar__intro"><div class="avatar__name">MS</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/numeusxyz"><img src="https://avatars.githubusercontent.com/u/82152211?v=4"></a><div class="avatar__intro"><div class="avatar__name">Numeus</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/data-intuitive"><img src="https://avatars.githubusercontent.com/u/15045722?v=4"></a><div class="avatar__intro"><div class="avatar__name">Data Intuitive</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/caido-community"><img src="https://avatars.githubusercontent.com/u/168573261?v=4"></a><div class="avatar__intro"><div class="avatar__name">Caido Community</div></div></div></div><div class="col col--6 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--md" href="https://github.com/marcusbuffett"><img src="https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Marcus Buffett</div></div></div></div></div>
<br>
<div class="row"><div class="col col--4 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm" href="https://github.com/yuly3"><img src="https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">MasakiMiyazaki</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm" href="https://github.com/kallydev"><img src="https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">KallyDev</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm" href="https://github.com/manfredcml"><img src="https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Manfred Lee</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm" href="https://github.com/tugascript"><img src="https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Afonso Barracha</div></div></div></div><div class="col col--4 margin-bottom--md"><div class="avatar"><a class="avatar__photo-link avatar__photo avatar__photo--sm" href="https://github.com/deansheather"><img src="https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&amp;v=4"></a><div class="avatar__intro"><div class="avatar__name">Dean Sheather</div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_y3jX" id="rustacean-sticker-pack-">Rustacean Sticker Pack 🦀<a href="#rustacean-sticker-pack-" class="hash-link" aria-label="Direct link to Rustacean Sticker Pack 🦀" title="Direct link to Rustacean Sticker Pack 🦀">​</a></h2>
<p>The Rustacean Sticker Pack is the perfect way to express your passion for Rust.
Our stickers are made with a premium water-resistant vinyl with a unique matte finish.
Stick them on your laptop, notebook, or any gadget to show off your love for Rust!</p>
<p>Moreover, all proceeds contributes directly to the ongoing development of SeaQL projects.</p>
<p>Sticker Pack Contents:</p>
<ul>
<li>Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography, FireDBG</li>
<li>Mascot of SeaQL: Terres the Hermit Crab</li>
<li>Mascot of Rust: Ferris the Crab</li>
<li>The Rustacean word</li>
</ul>
<p><a href="https://www.sea-ql.org/sticker-pack/" target="_blank" rel="noopener noreferrer">Support SeaQL and get a Sticker Pack!</a></p>
<a href="https://www.sea-ql.org/sticker-pack/"><img style="border-radius:25px" alt="Rustacean Sticker Pack by SeaQL" src="https://www.sea-ql.org/static/sticker-pack-1s.jpg"></a></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_GeQf padding--none margin-left--sm"><li class="tag_bwzm"><a rel="tag" class="tag_wbtT tagRegular_jBJs" href="/blog/tags/news/">news</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2025-09-24-sea-orm-2.0.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_GmOH" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_gR52"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2025-09-30-sea-orm-rbac/"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Role Based Access Control in SeaORM 2.0</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2025-09-16-sea-orm-2.0/"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">A Sneak Peek at SeaORM 2.0</div></a></nav></main><div class="col col--2"><div class="tableOfContents_L31c thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overhauled-entityinsert_many" class="table-of-contents__link toc-highlight">Overhauled <code>Entity::insert_many</code></a></li><li><a href="#overhauled-connectiontrait-api" class="table-of-contents__link toc-highlight">Overhauled <code>ConnectionTrait</code> API</a></li><li><a href="#better-error-handling-in-updateone--deleteone" class="table-of-contents__link toc-highlight">Better error handling in <code>UpdateOne</code> / <code>DeleteOne</code></a></li><li><a href="#added-has_many_via-for-reverse-has-many-relation" class="table-of-contents__link toc-highlight">Added <code>has_many_via</code> for reverse has many relation</a></li><li><a href="#use-of-transaction-with-generic-connections" class="table-of-contents__link toc-highlight">Use of transaction with generic connections</a></li><li><a href="#removing-panics-from-api" class="table-of-contents__link toc-highlight">Removing panics from API</a></li><li><a href="#enhancements" class="table-of-contents__link toc-highlight">Enhancements</a><ul><li><a href="#added-shorthand-for-postgres--any" class="table-of-contents__link toc-highlight">Added shorthand for Postgres<code> = ANY</code></a></li><li><a href="#added-big_pk_auto" class="table-of-contents__link toc-highlight">Added <code>big_pk_auto</code></a></li><li><a href="#added-chronoutc-to-entity-prelude" class="table-of-contents__link toc-highlight">Added <code>chrono::Utc</code> to entity prelude</a></li></ul></li><li><a href="#breaking-changes" class="table-of-contents__link toc-highlight">Breaking changes</a><ul><li><a href="#use-static-str-in-identifiers" class="table-of-contents__link toc-highlight">Use <code>&amp;&#39;static str</code> in identifiers</a></li><li><a href="#querybuilder-is-no-longer-object-safe" class="table-of-contents__link toc-highlight"><code>QueryBuilder</code> is no longer object safe</a></li><li><a href="#changed-database-connection" class="table-of-contents__link toc-highlight">Changed <code>Database Connection</code></a></li><li><a href="#removed-derive-custom-column" class="table-of-contents__link toc-highlight">Removed <code>Derive Custom Column</code></a></li></ul></li><li><a href="#upgrades" class="table-of-contents__link toc-highlight">Upgrades</a></li><li><a href="#sql-server-support" class="table-of-contents__link toc-highlight">SQL Server Support</a></li><li><a href="#️-seaorm-pro-professional-admin-panel" class="table-of-contents__link toc-highlight">🖥️ SeaORM Pro: Professional Admin Panel</a></li><li><a href="#more-to-come" class="table-of-contents__link toc-highlight">More to come</a></li><li><a href="#sponsors" class="table-of-contents__link toc-highlight">Sponsors</a><ul><li><a href="#gold-sponsor" class="table-of-contents__link toc-highlight">Gold Sponsor</a></li><li><a href="#github-sponsors" class="table-of-contents__link toc-highlight">GitHub Sponsors</a></li></ul></li><li><a href="#rustacean-sticker-pack-" class="table-of-contents__link toc-highlight">Rustacean Sticker Pack 🦀</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SeaQL" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://discord.com/invite/uCPdDXzbdv" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/sea_ql" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.linkedin.com/company/sea-ql" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Projects</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.sea-ql.org/SeaORM/" target="_blank" rel="noopener noreferrer" class="footer__link-item">SeaORM</a></li><li class="footer__item"><a href="https://github.com/SeaQL/sea-query" target="_blank" rel="noopener noreferrer" class="footer__link-item">SeaQuery</a></li><li class="footer__item"><a href="https://www.sea-ql.org/Seaography/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Seaography</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><br>SeaQL.org © 2025 🇬🇧</div></div></div></footer></div>
</body>
</html>