"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[7569],{561:e=>{e.exports=JSON.parse('{"permalink":"/blog/2021-11-19-whats-new-in-0.4.0","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-11-19-whats-new-in-0.4.0.md","source":"@site/blog/2021-11-19-whats-new-in-0.4.0.md","title":"What\'s new in SeaORM 0.4.0","description":"\ud83c\udf89 We are pleased to release SeaORM 0.4.0 today! Here are some feature highlights \ud83c\udf1f:","date":"2021-11-19T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/blog/tags/news"}],"readingTime":3.13,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2021-11-19-whats-new-in-0.4.0","title":"What\'s new in SeaORM 0.4.0","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/SeaORM/img/SeaQL.png","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.5.0","permalink":"/blog/2022-01-01-whats-new-in-0.5.0"},"nextItem":{"title":"What\'s new in SeaORM 0.3.0","permalink":"/blog/2021-10-15-whats-new-in-0.3.0"}}')},835:(e,a,s)=>{s.r(a),s.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>t,toc:()=>c});var t=s(561),n=s(8790),r=s(7630);const i={slug:"2021-11-19-whats-new-in-0.4.0",title:"What's new in SeaORM 0.4.0",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/SeaORM/img/SeaQL.png",tags:["news"]},o=void 0,l={authorsImageUrls:[void 0]},c=[{value:"Rust Edition 2021",id:"rust-edition-2021",level:2},{value:"Enumeration",id:"enumeration",level:2},{value:"Supports <code>RETURNING</code> Clause on PostgreSQL",id:"supports-returning-clause-on-postgresql",level:2},{value:"Axum Integration Example",id:"axum-integration-example",level:2},{value:"Sponsor",id:"sponsor",level:2},{value:"Community",id:"community",level:2}];function h(e){const a={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["\ud83c\udf89 We are pleased to release SeaORM ",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/releases/tag/0.4.0",children:(0,n.jsx)(a.code,{children:"0.4.0"})})," today! Here are some feature highlights \ud83c\udf1f:"]}),"\n",(0,n.jsx)(a.h2,{id:"rust-edition-2021",children:"Rust Edition 2021"}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/273",children:"#273"}),"] Upgrading SeaORM to ",(0,n.jsx)(a.a,{href:"https://blog.rust-lang.org/2021/10/21/Rust-1.56.0.html#rust-2021",children:"Rust Edition 2021"})," \ud83e\udd80\u2764\ud83d\udc1a!"]}),"\n",(0,n.jsx)(a.p,{children:"Contributed by:"}),"\n",(0,n.jsx)("div",{class:"row",children:(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/sno2",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/43641633?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Carter Snook"})})})]})})}),"\n",(0,n.jsx)(a.h2,{id:"enumeration",children:"Enumeration"}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/issues/252",children:"#252"}),"] You can now use Rust enums in model where the values are mapped to a database string, integer or native enum. Learn more ",(0,n.jsx)(a.a,{href:"https://www.sea-ql.org/SeaORM/docs/generate-entity/enumeration",children:"here"}),"."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-rust",children:'#[derive(Debug, Clone, PartialEq, DeriveEntityModel)]\n#[sea_orm(table_name = "active_enum")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    // Use our custom enum in a model\n    pub category: Option<Category>,\n    pub color: Option<Color>,\n    pub tea: Option<Tea>,\n}\n\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\n#[sea_orm(rs_type = "String", db_type = "String(Some(1))")]\n// An enum serialized into database as a string value\npub enum Category {\n    #[sea_orm(string_value = "B")]\n    Big,\n    #[sea_orm(string_value = "S")]\n    Small,\n}\n\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\n#[sea_orm(rs_type = "i32", db_type = "Integer")]\n// An enum serialized into database as an integer value\npub enum Color {\n    #[sea_orm(num_value = 0)]\n    Black,\n    #[sea_orm(num_value = 1)]\n    White,\n}\n\n#[derive(Debug, Clone, PartialEq, EnumIter, DeriveActiveEnum)]\n#[sea_orm(rs_type = "String", db_type = "Enum", enum_name = "tea")]\n// An enum serialized into database as a database native enum\npub enum Tea {\n    #[sea_orm(string_value = "EverydayTea")]\n    EverydayTea,\n    #[sea_orm(string_value = "BreakfastTea")]\n    BreakfastTea,\n}\n'})}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Designed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/tyt2y3",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1782664?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Chris Tsang"})})})]})]}),(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Contributed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/billy1624",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/30400950?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Billy Chan"})})})]})]})]}),"\n",(0,n.jsxs)(a.h2,{id:"supports-returning-clause-on-postgresql",children:["Supports ",(0,n.jsx)(a.code,{children:"RETURNING"})," Clause on PostgreSQL"]}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/issues/183",children:"#183"}),"] When performing insert or update operation on ",(0,n.jsx)(a.code,{children:"ActiveModel"})," against PostgreSQL, ",(0,n.jsx)(a.code,{children:"RETURNING"})," clause will be used to perform select in a single SQL statement."]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-rust",children:'// For PostgreSQL\ncake::ActiveModel {\n    name: Set("Apple Pie".to_owned()),\n    ..Default::default()\n}\n.insert(&postgres_db)\n.await?;\n\nassert_eq!(\n    postgres_db.into_transaction_log(),\n    vec![Transaction::from_sql_and_values(\n        DbBackend::Postgres,\n        r#"INSERT INTO "cake" ("name") VALUES ($1) RETURNING "id", "name""#,\n        vec!["Apple Pie".into()]\n    )]);\n'})}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-rust",children:'// For MySQL & SQLite\ncake::ActiveModel {\n    name: Set("Apple Pie".to_owned()),\n    ..Default::default()\n}\n.insert(&other_db)\n.await?;\n\nassert_eq!(\n    other_db.into_transaction_log(),\n    vec![\n        Transaction::from_sql_and_values(\n            DbBackend::MySql,\n            r#"INSERT INTO `cake` (`name`) VALUES (?)"#,\n            vec!["Apple Pie".into()]\n        ),\n        Transaction::from_sql_and_values(\n            DbBackend::MySql,\n            r#"SELECT `cake`.`id`, `cake`.`name` FROM `cake` WHERE `cake`.`id` = ? LIMIT ?"#,\n            vec![15.into(), 1u64.into()]\n        )]);\n'})}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Proposed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/marlon-sousa",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/21093041?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Marlon Brand\xe3o de Sousa"})})})]})]}),(0,n.jsxs)("div",{class:"col col--6 margin-bottom--md",children:[(0,n.jsx)(a.p,{children:"Contributed by:"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/billy1624",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/30400950?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Billy Chan"})})})]})]})]}),"\n",(0,n.jsx)(a.h2,{id:"axum-integration-example",children:"Axum Integration Example"}),"\n",(0,n.jsxs)(a.p,{children:["[",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/pull/297",children:"#297"}),"] Added ",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/tree/master/examples/axum_example",children:"Axum integration example"}),". More examples ",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/issues/269",children:"wanted"}),"!"]}),"\n",(0,n.jsx)(a.p,{children:"Contributed by:"}),"\n",(0,n.jsx)("div",{class:"row",children:(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/YoshieraHuang",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/38752027?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Yoshiera"})})})]})})}),"\n",(0,n.jsx)(a.h2,{id:"sponsor",children:"Sponsor"}),"\n",(0,n.jsxs)(a.p,{children:["Our ",(0,n.jsx)(a.a,{href:"https://github.com/sponsors/SeaQL",children:"GitHub Sponsor"})," profile is up! If you feel generous, a small donation will be greatly appreciated."]}),"\n",(0,n.jsx)(a.p,{children:"A big shout out to our first sponsors \ud83d\ude07:"}),"\n",(0,n.jsxs)("div",{class:"row",children:[(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/shanesveller",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/831?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Shane Sveller"})})})]})}),(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/exzachlyvv",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/46034847?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Zachary Vander Velden"})})})]})}),(0,n.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",children:(0,n.jsx)("img",{style:{width:"100%"},src:"data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(a.p,{children:"Unnamed Sponsor"})})})]})})]}),"\n",(0,n.jsx)(a.h2,{id:"community",children:"Community"}),"\n",(0,n.jsx)(a.p,{children:"SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust's future."}),"\n",(0,n.jsxs)(a.p,{children:["Here is the roadmap for SeaORM ",(0,n.jsx)(a.a,{href:"https://github.com/SeaQL/sea-orm/milestone/5",children:(0,n.jsx)(a.code,{children:"0.5.x"})}),"."]})]})}function d(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},7630:(e,a,s)=>{s.d(a,{R:()=>i,x:()=>o});var t=s(2374);const n={},r=t.createContext(n);function i(e){const a=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function o(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),t.createElement(r.Provider,{value:a},e.children)}}}]);