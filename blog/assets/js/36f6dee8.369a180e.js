"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[5002],{6799:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});var a=s(7233),t=s(4848),n=s(8453);const i={slug:"2026-02-22-sea-orm-arrow",title:"SeaORM now supports Arrow & Parquet",author:"SeaQL Team",author_title:"Chris Tsang",author_url:"https://github.com/SeaQL",author_image_url:"https://www.sea-ql.org/blog/img/SeaQL.png",image:"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png",tags:["news"]},c=void 0,d={authorsImageUrls:[void 0]},o=[{value:"Motivation",id:"motivation",level:2},{value:"Getting Started",id:"getting-started",level:2},{value:"Arrow Schema Derivation",id:"arrow-schema-derivation",level:2},{value:"Exporting to Parquet",id:"exporting-to-parquet",level:2},{value:"Importing from Parquet",id:"importing-from-parquet",level:2},{value:"Full Example",id:"full-example",level:2},{value:"Type Mapping",id:"type-mapping",level:2},{value:"Timestamp Types",id:"timestamp-types",level:2},{value:"Timezone and Resolution",id:"timezone-and-resolution",level:3},{value:"Decimal Types",id:"decimal-types",level:2},{value:"SeaORM 2.0",id:"seaorm-20",level:2},{value:"\ud83c\udf1f Sponsors",id:"-sponsors",level:2},{value:"Gold Sponsor",id:"gold-sponsor",level:4},{value:"GitHub Sponsors",id:"github-sponsors",level:4},{value:"\ud83e\udd80 Rustacean Sticker Pack",id:"-rustacean-sticker-pack",level:2}];function l(e){const r={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{alt:"SeaORM 2.0 Banner",src:"/blog/img/SeaORM%202.0%20Banner.png"}),"\n",(0,t.jsxs)(r.p,{children:["SeaORM 2.0 adds native ",(0,t.jsx)(r.a,{href:"https://arrow.apache.org/",children:"Apache Arrow"})," and ",(0,t.jsx)(r.a,{href:"https://parquet.apache.org/",children:"Parquet"})," support. Derive an Arrow schema directly from your SeaORM entity: no redundant schema definitions, no drift."]}),"\n",(0,t.jsx)(r.h2,{id:"motivation",children:"Motivation"}),"\n",(0,t.jsx)(r.p,{children:"Traditional ORMs are built for OLTP. But Rust backends increasingly need to:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Export data snapshots to object storage (S3, GCS)"}),"\n",(0,t.jsxs)(r.li,{children:["Feed analytical pipelines (",(0,t.jsx)(r.a,{href:"https://datafusion.apache.org/",children:"DataFusion"}),", ",(0,t.jsx)(r.a,{href:"https://pola.rs/",children:"Polars"}),", ",(0,t.jsx)(r.a,{href:"https://duckdb.org/",children:"DuckDB"}),")"]}),"\n",(0,t.jsx)(r.li,{children:"Archive time-series rows efficiently in columnar format"}),"\n",(0,t.jsx)(r.li,{children:"Seed or replicate databases from Parquet files"}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Arrow is the ",(0,t.jsx)(r.em,{children:"lingua franca"})," of in-memory columnar data. Parquet is its on-disk counterpart. Both are supported by the entire modern data stack."]}),"\n",(0,t.jsx)(r.p,{children:"The problem: you've already defined your schema as SeaORM entities. Redefining it as an Arrow schema is redundant and error-prone. SeaORM now comes with Arrow support out-of-the-box!"}),"\n",(0,t.jsx)("img",{src:"/blog/img/sea-orm-parquet.png"}),"\n",(0,t.jsx)(r.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,t.jsxs)(r.p,{children:["Enable Arrow support with the ",(0,t.jsx)(r.code,{children:"with-arrow"})," feature flag:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-toml",children:'[dependencies]\nsea-orm = { version = "2.0.0-rc", features = ["with-arrow"] }\nparquet = { version = "57", features = ["arrow"] }\n'})}),"\n",(0,t.jsx)(r.p,{children:"Suppose you have a sensor data pipeline. You want to archive today's rows to Parquet for downstream analytics."}),"\n",(0,t.jsx)(r.h2,{id:"arrow-schema-derivation",children:"Arrow Schema Derivation"}),"\n",(0,t.jsxs)(r.p,{children:["Add ",(0,t.jsx)(r.code,{children:"arrow_schema"})," to the ",(0,t.jsx)(r.code,{children:"#[sea_orm(..)]"})," attribute on your entity:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",metastring:'title="measurement.rs"',children:'use sea_orm::entity::prelude::*;\n\n#[sea_orm::model] // <- new Entity\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\n#[sea_orm(table_name = "measurement", arrow_schema)] // <- enable Arrow\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub recorded_at: ChronoDateTimeUtc,\n    pub sensor_id: i32,\n    pub temperature: f64,\n    #[sea_orm(column_type = "Decimal(Some((10, 4)))")]\n    pub voltage: Decimal,\n}\n'})}),"\n",(0,t.jsx)(r.p,{children:"(for compact entity)"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",metastring:'title="measurement.rs"',children:'#[derive(DeriveEntityModel, DeriveArrowSchema, ..)] // <- extra derive\n#[sea_orm(table_name = "measurement")]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    ..\n}\n'})}),"\n",(0,t.jsxs)(r.p,{children:["This derives the ",(0,t.jsx)(r.code,{children:"ArrowSchema"})," trait on ",(0,t.jsx)(r.code,{children:"Entity"})," and ",(0,t.jsx)(r.code,{children:"ActiveModel"}),", exposing three methods:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"use sea_orm::ArrowSchema;\n\n// Get the Arrow Schema matching your entity\nlet schema = measurement::Entity::arrow_schema();\n\n// Serialize a slice of ActiveModels into an Arrow RecordBatch\nlet batch = measurement::ActiveModel::to_arrow(&models, &schema)?;\n\n// Deserialize an Arrow RecordBatch back into ActiveModels\nlet models = measurement::ActiveModel::from_arrow(&batch)?;\n"})}),"\n",(0,t.jsx)(r.h2,{id:"exporting-to-parquet",children:"Exporting to Parquet"}),"\n",(0,t.jsxs)(r.p,{children:["Step 1: convert your ",(0,t.jsx)(r.code,{children:"ActiveModel"})," slice into a ",(0,t.jsx)(r.code,{children:"RecordBatch"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:"use sea_orm::ArrowSchema;\n\nlet schema = measurement::Entity::arrow_schema();\n\nlet models: Vec<measurement::ActiveModel> = vec![..];\nlet batch = measurement::ActiveModel::to_arrow(&models, &schema)?;\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Step 2: write to Parquet using the ",(0,t.jsx)(r.code,{children:"parquet"})," crate:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'let file = std::fs::File::create("measurements.parquet")?;\nlet mut writer = parquet::arrow::ArrowWriter::try_new(file, schema.into(), None)?;\nwriter.write(&batch)?; // write many more batches\nwriter.close()?;\n'})}),"\n",(0,t.jsx)(r.p,{children:"The resulting file is readable by any Parquet-compatible tool: DuckDB, Polars, Spark, BigQuery, pandas."}),"\n",(0,t.jsx)(r.h2,{id:"importing-from-parquet",children:"Importing from Parquet"}),"\n",(0,t.jsx)(r.p,{children:"Read a Parquet file back into ActiveModels and insert into any SeaORM-supported database:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'use parquet::arrow::arrow_reader::ParquetRecordBatchReaderBuilder;\n\nlet file = std::fs::File::open("measurements.parquet")?;\nlet reader = ParquetRecordBatchReaderBuilder::try_new(file)?.build()?;\n\nlet batches: Vec<_> = reader.collect::<Result<_, _>>()?;\nlet restored = measurement::ActiveModel::from_arrow(&batches[0])?;\n\nmeasurement::Entity::insert_many(restored).exec(&db).await?;\n'})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"from_arrow"})," reconstructs full ",(0,t.jsx)(r.code,{children:"ActiveModel"})," values: Arrow nulls become ",(0,t.jsx)(r.code,{children:"Set(None)"}),", absent columns become ",(0,t.jsx)(r.code,{children:"NotSet"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"full-example",children:"Full Example"}),"\n",(0,t.jsxs)(r.p,{children:["A complete working example: generate sensor readings, write to Parquet, verify the roundtrip, then insert into SQLite is available in the SeaORM repository: ",(0,t.jsx)(r.a,{href:"https://github.com/SeaQL/sea-orm/tree/master/examples/parquet_example/src/main.rs",children:(0,t.jsx)(r.code,{children:"examples/parquet_example"})}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["As a bonus, you can also use ",(0,t.jsx)(r.a,{href:"https://github.com/SeaQL/sea-orm/tree/master/sea-orm-sync/examples/parquet_example/src/main.rs",children:(0,t.jsx)(r.code,{children:"sea-orm-sync"})})," and avoid the async runtime entirely if your application is synchronous!"]}),"\n",(0,t.jsx)(r.h2,{id:"type-mapping",children:"Type Mapping"}),"\n",(0,t.jsx)(r.p,{children:"SeaORM maps Rust/SQL types to Arrow data types as follows:"}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Rust Type"}),(0,t.jsx)(r.th,{children:"SeaORM Column Type"}),(0,t.jsx)(r.th,{children:"Arrow Type"}),(0,t.jsx)(r.th,{children:"Notes"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"i8"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"TinyInteger"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Int8"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"i16"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"SmallInteger"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Int16"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"i32"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Integer"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Int32"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"i64"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"BigInteger"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Int64"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"u8"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"TinyUnsigned"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"UInt8"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"u16"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"SmallUnsigned"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"UInt16"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"u32"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Unsigned"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"UInt32"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"u64"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"BigUnsigned"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"UInt64"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"f32"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Float"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Float32"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"f64"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Double"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Float64"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"bool"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Boolean"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Boolean"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"String"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Char"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Utf8"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"String"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Text"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"LargeUtf8"})}),(0,t.jsxs)(r.td,{children:["unbounded strings use ",(0,t.jsx)(r.code,{children:"LargeUtf8"})]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Vec<u8>"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Binary"}),", ",(0,t.jsx)(r.code,{children:"VarBinary"})]}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Binary"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Decimal"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Decimal(Some((p, s)))"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Decimal128(p, s)"})}),(0,t.jsxs)(r.td,{children:["precision \u2264 38; use ",(0,t.jsx)(r.code,{children:"Decimal256"})," for larger"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Decimal"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Money"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Decimal128(19, 4)"})}),(0,t.jsx)(r.td,{children:"default precision/scale"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Json"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"Json"}),", ",(0,t.jsx)(r.code,{children:"JsonBinary"})]}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Utf8"})}),(0,t.jsx)(r.td,{children:"serialized as JSON text"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Uuid"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Uuid"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Binary"})}),(0,t.jsx)(r.td,{children:"raw bytes"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"ActiveEnum"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Enum"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Utf8"})}),(0,t.jsx)(r.td,{children:"serialized as string"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"NaiveDate"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Date"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Date32"})}),(0,t.jsx)(r.td,{children:"days since epoch"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"NaiveTime"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Time"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Time64(Microsecond)"})}),(0,t.jsx)(r.td,{})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"NaiveDateTime"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"DateTime"}),", ",(0,t.jsx)(r.code,{children:"Timestamp"})]}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"Timestamp(Microsecond, None)"})}),(0,t.jsx)(r.td,{children:"timezone-naive"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"DateTime<Utc>"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"TimestampWithTimeZone"})}),(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:'Timestamp(Microsecond, Some("UTC"))'})}),(0,t.jsx)(r.td,{children:"UTC-annotated"})]})]})]}),"\n",(0,t.jsx)(r.p,{children:"Key behaviors:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"String length"}),": ",(0,t.jsx)(r.code,{children:"String(StringLen::N(n))"})," with ",(0,t.jsx)(r.code,{children:"n \u2264 32767"})," maps to ",(0,t.jsx)(r.code,{children:"Utf8"}),"; ",(0,t.jsx)(r.code,{children:"Text"})," and unbounded strings map to ",(0,t.jsx)(r.code,{children:"LargeUtf8"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Timestamp resolution"}),": microseconds by default. Override per-field with ",(0,t.jsx)(r.code,{children:"arrow_timestamp_unit"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Timezone annotation"}),": timezone-aware Rust types (",(0,t.jsx)(r.code,{children:"DateTime<Utc>"}),", ",(0,t.jsx)(r.code,{children:"DateTime<FixedOffset>"}),") always produce a ",(0,t.jsx)(r.code,{children:"Timestamp"})," with timezone. Naive types (",(0,t.jsx)(r.code,{children:"NaiveDateTime"}),") produce no annotation. Override with ",(0,t.jsx)(r.code,{children:"arrow_timezone"}),"."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Decimal"}),": precision and scale are derived from ",(0,t.jsx)(r.code,{children:"column_type"}),". If not specified, defaults are ",(0,t.jsx)(r.code,{children:"Decimal128(38, 10)"}),". Override per-field with ",(0,t.jsx)(r.code,{children:"arrow_precision"})," and ",(0,t.jsx)(r.code,{children:"arrow_scale"}),"."]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"timestamp-types",children:"Timestamp Types"}),"\n",(0,t.jsx)(r.h3,{id:"timezone-and-resolution",children:"Timezone and Resolution"}),"\n",(0,t.jsx)(r.p,{children:"Arrow distinguishes timezone-aware and timezone-naive timestamps at the schema level. SeaORM maps them accordingly:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"ChronoDateTime"})," / ",(0,t.jsx)(r.code,{children:"NaiveDateTime"})," / ",(0,t.jsx)(r.code,{children:"PrimitiveDateTime"})," \u2192 ",(0,t.jsx)(r.code,{children:"Timestamp(Microsecond, None)"}),": no timezone annotation"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"ChronoDateTimeUtc"})," / ",(0,t.jsx)(r.code,{children:"DateTime<Utc>"}),"/ ",(0,t.jsx)(r.code,{children:"OffsetDateTime"})," \u2192 ",(0,t.jsx)(r.code,{children:'Timestamp(Microsecond, Some("UTC"))'}),": UTC annotated"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\n#[sea_orm(table_name = "test_chrono", arrow_schema)]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    pub created_date: ChronoDate,        // -> Date32\n    pub created_time: ChronoTime,        // -> Time64(Microsecond)\n    pub created_at: ChronoDateTime,      // -> Timestamp(Microsecond, None)\n    pub updated_at: ChronoDateTimeUtc,   // -> Timestamp(Microsecond, Some("UTC"))\n    pub nullable_ts: Option<ChronoDateTimeUtc>,\n}\n\nlet models = vec![..];\n\nlet batch = ActiveModel::to_arrow(&models, &schema)?;\nlet restored = ActiveModel::from_arrow(&batch)?;\n\nassert_eq!(restored, models);\n'})}),"\n",(0,t.jsxs)(r.p,{children:["The default resolution is microseconds. Both the time unit and timezone can be overridden per-field using ",(0,t.jsx)(r.code,{children:"arrow_timestamp_unit"})," and ",(0,t.jsx)(r.code,{children:"arrow_timezone"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, Eq, DeriveEntityModel)]\n#[sea_orm(table_name = "event", arrow_schema)]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    #[sea_orm(column_type = "DateTime", arrow_timestamp_unit = "Nanosecond")]\n    pub nano_ts: ChronoDateTime,      // -> Timestamp(Nanosecond, None)\n    #[sea_orm(column_type = "DateTime", arrow_timestamp_unit = "Second")]\n    pub second_ts: ChronoDateTime,    // -> Timestamp(Second, None)\n    #[sea_orm(\n        column_type = "DateTime",\n        arrow_timestamp_unit = "Nanosecond",\n        arrow_timezone = "America/New_York"\n    )]\n    pub nano_with_tz: ChronoDateTime, // -> Timestamp(Nanosecond, Some("America/New_York"))\n}\n'})}),"\n",(0,t.jsxs)(r.p,{children:["Valid values for ",(0,t.jsx)(r.code,{children:"arrow_timestamp_unit"}),": ",(0,t.jsx)(r.code,{children:'"Second"'}),", ",(0,t.jsx)(r.code,{children:'"Millisecond"'}),", ",(0,t.jsx)(r.code,{children:'"Microsecond"'}),", ",(0,t.jsx)(r.code,{children:'"Nanosecond"'}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"decimal-types",children:"Decimal Types"}),"\n",(0,t.jsxs)(r.p,{children:["Each ",(0,t.jsx)(r.code,{children:"Decimal"})," column is stored as ",(0,t.jsx)(r.code,{children:"Decimal128"})," in Arrow, preserving the exact precision and scale declared in ",(0,t.jsx)(r.code,{children:"column_type"}),". Columns with different precision/scale are handled independently. Values are scaled to fit Arrow's internal ",(0,t.jsx)(r.code,{children:"i128"})," representation (",(0,t.jsx)(r.code,{children:"value \xd7 10^scale"}),")."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-rust",children:'#[sea_orm::model]\n#[derive(Clone, Debug, PartialEq, DeriveEntityModel)]\n#[sea_orm(table_name = "test_rust_decimal", arrow_schema)]\npub struct Model {\n    #[sea_orm(primary_key)]\n    pub id: i32,\n    #[sea_orm(column_type = "Decimal(Some((10, 2)))")]\n    pub price: Decimal,   // -> Decimal128(10, 2)\n    #[sea_orm(\n        column_type = "Decimal(Some((20, 4)))",\n        arrow_precision = 20,\n        arrow_scale = 4\n    )]\n    pub amount: Decimal,  // -> Decimal128(20, 4)\n}\n\nlet price = Decimal::new(1234567, 2); // 12345.67\nlet amount = Decimal::new(98765432109, 4); // 9876543.2109\n\nlet models = vec![\n    decimal_entity::ActiveModel {\n        id: Set(1),\n        price: Set(price),\n        amount: Set(amount),\n        nullable_decimal: Set(Some(price)),\n    },\n];\n\nlet batch = ActiveModel::to_arrow(&models, &schema)?;\n\n// Arrow column carries the declared precision and scale\nlet price_arr = batch.column_by_name("price").unwrap()\n    .as_any().downcast_ref::<Decimal128Array>().unwrap();\nassert_eq!(price_arr.value(0), 1234567); // 12345.67 stored as 1234567 (\xd7 10^-2)\nassert_eq!(price_arr.precision(), 10);\nassert_eq!(price_arr.scale(), 2);\n\n// Full roundtrip\nassert_eq!(ActiveModel::from_arrow(&batch)?, models);\n'})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"BigDecimal"})," is also supported with ",(0,t.jsx)(r.code,{children:"Decimal256"})," but not illustrated here."]}),"\n",(0,t.jsx)(r.h2,{id:"seaorm-20",children:"SeaORM 2.0"}),"\n",(0,t.jsx)(r.p,{children:"SeaORM 2.0 is shaping up to be our most significant release yet - with a few breaking changes, plenty of enhancements, and a clear focus on developer experience."}),"\n",(0,t.jsxs)(r.p,{children:["SeaORM 2.0 has reached its release candidate phase. We'd love for you to try it out and help shape the final release by ",(0,t.jsx)(r.a,{href:"https://github.com/SeaQL/sea-orm/discussions/2548",children:"sharing your feedback"}),"."]}),"\n",(0,t.jsx)(r.h2,{id:"-sponsors",children:"\ud83c\udf1f Sponsors"}),"\n",(0,t.jsx)(r.h4,{id:"gold-sponsor",children:"Gold Sponsor"}),"\n",(0,t.jsx)("a",{href:"https://qdx.co/",children:(0,t.jsx)("img",{src:"https://www.sea-ql.org/static/sponsors/QDX.svg",width:"128"})}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"https://qdx.co/",children:"QDX"})," pioneers quantum dynamics-powered drug discovery, leveraging AI and supercomputing to accelerate molecular modeling.\nWe're grateful to QDX for sponsoring the development of SeaORM, the SQL toolkit that powers their data intensive applications."]}),"\n",(0,t.jsx)(r.h4,{id:"github-sponsors",children:"GitHub Sponsors"}),"\n",(0,t.jsx)(r.p,{children:"If you feel generous, a small donation will be greatly appreciated, and goes a long way towards sustaining the organization."}),"\n",(0,t.jsxs)(r.p,{children:["A big shout out to our ",(0,t.jsx)(r.a,{href:"https://github.com/sponsors/SeaQL",children:"GitHub sponsors"}),":"]}),"\n",(0,t.jsxs)("div",{class:"row",children:[(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/sanctusgee",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/2237695?u=c46344d34b510cb2aea10d4ee2c349277802e408&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Godwin Effiong"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/ryanswrt",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/87781?u=10a9d256e741f905f3dd2cf641de8b325720732e&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Ryan Swart"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/OteroRafael",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/175388115?v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"OteroRafael"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/higumachan",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1011298?u=de4c2f0d0929c2c6dc433981912f794d0e50f2cd&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Yuta Hinokuma"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/wh7f",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/59872041?v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"wh7f"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/marcson909",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/16665353?v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"MS"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/numeusxyz",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/82152211?v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Numeus"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/caido-community",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/168573261?v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Caido Community"})})]})}),(0,t.jsx)("div",{class:"col col--6 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--md",href:"https://github.com/marcusbuffett",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1834328?u=fd066d99cf4a6333bfb3927d1c756af4bb8baf7e&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Marcus Buffett"})})]})})]}),"\n",(0,t.jsxs)("div",{class:"row",children:[(0,t.jsx)("div",{class:"col col--4 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/yuly3",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/25814001?u=4b57756e7d8060e48262a9edba687927fe7934a6&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"MasakiMiyazaki"})})]})}),(0,t.jsx)("div",{class:"col col--4 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/kallydev",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/36319157?u=5be882aa4dbe7eea97b1a80a6473857369146df6&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"KallyDev"})})]})}),(0,t.jsx)("div",{class:"col col--4 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/manfredcml",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/27536502?u=b71636bdabbc698458b32e2ac05c5771ad41097e&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Manfred Lee"})})]})}),(0,t.jsx)("div",{class:"col col--4 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/tugascript",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/64930104?u=ad9f63e8e221dbe71bf23de59e3611c99cda1181&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Afonso Barracha"})})]})}),(0,t.jsx)("div",{class:"col col--4 margin-bottom--md",children:(0,t.jsxs)("div",{class:"avatar",children:[(0,t.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/deansheather",children:(0,t.jsx)("img",{src:"https://avatars.githubusercontent.com/u/11241812?u=260538c7d8b8c3c5350dba175ebb8294358441e0&v=4"})}),(0,t.jsx)("div",{class:"avatar__intro",children:(0,t.jsx)("div",{class:"avatar__name",children:"Dean Sheather"})})]})})]}),"\n",(0,t.jsx)(r.h2,{id:"-rustacean-sticker-pack",children:"\ud83e\udd80 Rustacean Sticker Pack"}),"\n",(0,t.jsx)(r.p,{children:"The Rustacean Sticker Pack is the perfect way to express your passion for Rust.\nOur stickers are made with a premium water-resistant vinyl with a unique matte finish."}),"\n",(0,t.jsx)(r.p,{children:"Sticker Pack Contents:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Logo of SeaQL projects: SeaQL, SeaORM, SeaQuery, Seaography"}),"\n",(0,t.jsx)(r.li,{children:"Mascots: Ferris the Crab x 3, Terres the Hermit Crab"}),"\n",(0,t.jsx)(r.li,{children:"The Rustacean wordmark"}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://www.sea-ql.org/sticker-pack/",children:"Support SeaQL and get a Sticker Pack!"})}),"\n",(0,t.jsx)("a",{href:"https://www.sea-ql.org/sticker-pack/",children:(0,t.jsx)("img",{style:{borderRadius:"25px"},alt:"Rustacean Sticker Pack by SeaQL",src:"https://www.sea-ql.org/static/sticker-pack-1s.jpg"})})]})}function h(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},7233:e=>{e.exports=JSON.parse('{"permalink":"/blog/2026-02-22-sea-orm-arrow","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2026-02-22-sea-orm-arrow.md","source":"@site/blog/2026-02-22-sea-orm-arrow.md","title":"SeaORM now supports Arrow & Parquet","description":"SeaORM 2.0 adds native Apache Arrow and Parquet support. Derive an Arrow schema directly from your SeaORM entity: no redundant schema definitions, no drift.","date":"2026-02-22T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/blog/tags/news"}],"readingTime":10.04,"hasTruncateMarker":false,"authors":[{"name":"SeaQL Team","title":"Chris Tsang","url":"https://github.com/SeaQL","imageURL":"https://www.sea-ql.org/blog/img/SeaQL.png","key":null,"page":null}],"frontMatter":{"slug":"2026-02-22-sea-orm-arrow","title":"SeaORM now supports Arrow & Parquet","author":"SeaQL Team","author_title":"Chris Tsang","author_url":"https://github.com/SeaQL","author_image_url":"https://www.sea-ql.org/blog/img/SeaQL.png","image":"https://www.sea-ql.org/blog/img/SeaORM%202.0%20Banner.png","tags":["news"]},"unlisted":false,"nextItem":{"title":"Notification in SeaORM Pro","permalink":"/blog/2026-02-12-sea-orm-pro-notification"}}')},8453:(e,r,s)=>{s.d(r,{R:()=>i,x:()=>c});var a=s(6540);const t={},n=a.createContext(t);function i(e){const r=a.useContext(n);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function c(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),a.createElement(n.Provider,{value:r},e.children)}}}]);