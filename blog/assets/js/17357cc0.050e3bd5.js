"use strict";(self.webpackChunksea_ql_blog=self.webpackChunksea_ql_blog||[]).push([[3528],{7630:(a,e,t)=>{t.d(e,{R:()=>i,x:()=>o});var s=t(2374);const n={},r=s.createContext(n);function i(a){const e=s.useContext(r);return s.useMemo((function(){return"function"==typeof a?a(e):{...e,...a}}),[e,a])}function o(a){let e;return e=a.disableParentContext?"function"==typeof a.components?a.components(n):a.components||n:i(a.components),s.createElement(r.Provider,{value:e},a.children)}},8672:(a,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var s=t(9626),n=t(8790),r=t(7630);const i={slug:"2021-09-20-introducing-sea-orm",title:"Introducing SeaORM \ud83d\udc1a",author:"Chris Tsang",author_title:"SeaQL Team",author_url:"https://github.com/tyt2y3",author_image_url:"https://avatars.githubusercontent.com/u/1782664?v=4",tags:["news"]},o=void 0,c={authorsImageUrls:[void 0]},l=[{value:"Async",id:"async",level:2},{value:"Dynamic",id:"dynamic",level:2},{value:"Testable",id:"testable",level:2},{value:"Service Oriented",id:"service-oriented",level:2},{value:"People",id:"people",level:2},{value:"Core Members",id:"core-members",level:3},{value:"Contributors",id:"contributors",level:3}];function h(a){const e={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,r.R)(),...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:["We are pleased to introduce SeaORM ",(0,n.jsx)(e.a,{href:"https://github.com/SeaQL/sea-orm/releases/tag/0.2.2",children:(0,n.jsx)(e.code,{children:"0.2.2"})})," to the Rust community today. It's our pleasure to have received feedback and contributions from awesome people to SeaQuery and SeaORM since ",(0,n.jsx)(e.code,{children:"0.1.0"}),"."]}),"\n",(0,n.jsx)(e.p,{children:"Rust is a wonderful language that can be used to build anything. One of the FAQs is \"Are We Web Yet?\", and if Rocket (or your favourite web framework) is Rust's Rail, then SeaORM is precisely Rust's ActiveRecord."}),"\n",(0,n.jsx)(e.p,{children:"SeaORM is an async ORM built from the ground up, designed to play well with the async ecosystem, whether it's actix, async-std, tokio or any web framework built on top."}),"\n",(0,n.jsx)(e.p,{children:"Let's have a quick tour of SeaORM."}),"\n",(0,n.jsx)(e.h2,{id:"async",children:"Async"}),"\n",(0,n.jsx)(e.p,{children:"Here is how you'd execute multiple queries in parallel:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-rust",children:"// execute multiple queries in parallel\nlet cakes_and_fruits: (Vec<cake::Model>, Vec<fruit::Model>) =\n    futures::try_join!(Cake::find().all(&db), Fruit::find().all(&db))?;\n"})}),"\n",(0,n.jsx)(e.h2,{id:"dynamic",children:"Dynamic"}),"\n",(0,n.jsx)(e.p,{children:"You can use SeaQuery to build complex queries without 'fighting the ORM':"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-rust",children:"// build subquery with ease\nlet cakes_with_filling: Vec<cake::Model> = cake::Entity::find()\n    .filter(\n        Condition::any().add(\n            cake::Column::Id.in_subquery(\n                Query::select()\n                    .column(cake_filling::Column::CakeId)\n                    .from(cake_filling::Entity)\n                    .to_owned(),\n            ),\n        ),\n    )\n    .all(&db)\n    .await?;\n"})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://docs.rs/sea-query/*/sea_query/",children:"More on SeaQuery"})}),"\n",(0,n.jsx)(e.h2,{id:"testable",children:"Testable"}),"\n",(0,n.jsx)(e.p,{children:"To write unit tests, you can use our mock interface:"}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-rust",children:'// Setup mock connection\nlet db = MockDatabase::new(DbBackend::Postgres)\n    .append_query_results(vec![\n        vec![\n            cake::Model {\n                id: 1,\n                name: "New York Cheese".to_owned(),\n            },\n        ],\n    ])\n    .into_connection();\n\n// Perform your application logic\nassert_eq!(\n    cake::Entity::find().one(&db).await?,\n    Some(cake::Model {\n        id: 1,\n        name: "New York Cheese".to_owned(),\n    })\n);\n\n// Compare it against the expected transaction log\nassert_eq!(\n    db.into_transaction_log(),\n    vec![\n        Transaction::from_sql_and_values(\n            DbBackend::Postgres,\n            r#"SELECT "cake"."id", "cake"."name" FROM "cake" LIMIT $1"#,\n            vec![1u64.into()]\n        ),\n    ]\n);\n'})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://www.sea-ql.org/SeaORM/docs/write-test/mock",children:"More on testing"})}),"\n",(0,n.jsx)(e.h2,{id:"service-oriented",children:"Service Oriented"}),"\n",(0,n.jsxs)(e.p,{children:["Here is an example ",(0,n.jsx)(e.code,{children:"Rocket"})," handler with pagination:"]}),"\n",(0,n.jsx)(e.pre,{children:(0,n.jsx)(e.code,{className:"language-rust",children:'#[get("/?<page>&<posts_per_page>")]\nasync fn list(\n    conn: Connection<Db>,\n    page: Option<usize>,\n    per_page: Option<usize>,\n) -> Template {\n    // Set page number and items per page\n    let page = page.unwrap_or(1);\n    let per_page = per_page.unwrap_or(10);\n\n    // Setup paginator\n    let paginator = Post::find()\n        .order_by_asc(post::Column::Id)\n        .paginate(&conn, per_page);\n    let num_pages = paginator.num_pages().await.unwrap();\n\n    // Fetch paginated posts\n    let posts = paginator\n        .fetch_page(page - 1)\n        .await\n        .expect("could not retrieve posts");\n\n    Template::render(\n        "index",\n        context! {\n            page: page,\n            per_page: per_page,\n            posts: posts,\n            num_pages: num_pages,\n        },\n    )\n}\n'})}),"\n",(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:"https://github.com/SeaQL/sea-orm/tree/master/examples/rocket_example",children:"Full Rocket example"})}),"\n",(0,n.jsx)(e.p,{children:"We are building more examples for other web frameworks too."}),"\n",(0,n.jsx)(e.h2,{id:"people",children:"People"}),"\n",(0,n.jsx)(e.p,{children:"SeaQL is a community driven project. We welcome you to participate, contribute and together build for Rust's future."}),"\n",(0,n.jsx)(e.h3,{id:"core-members",children:"Core Members"}),"\n",(0,n.jsx)("div",{class:"container",children:(0,n.jsxs)("div",{class:"row",children:[(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/tyt2y3",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1782664?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Chris Tsang"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/billy1624",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/30400950?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Billy Chan"})})})]})})]})}),"\n",(0,n.jsx)(e.h3,{id:"contributors",children:"Contributors"}),"\n",(0,n.jsx)(e.p,{children:"As a courtesy, here is the list of SeaQL's early contributors (in alphabetic order):"}),"\n",(0,n.jsx)("div",{class:"container",children:(0,n.jsxs)("div",{class:"row",children:[(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/Acidic9",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/16362377?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Ari Seyhun"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/MozarellaMan",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/48062697?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Ayomide Bamidele"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/benarmstead",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/70973680?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Ben Armstead"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/bobbyng626",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/67236456?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Bobby Ng"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/scrblue",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/1524936?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Daniel Lyne"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/Hirtol",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/55356909?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Hirtol"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/Follpvosten",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/22855787?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Sylvie Rinner"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/nappa85",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/7566389?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Marco Napetti"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/code-mm",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/43041831?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Markus Merklinger"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/MuhannadAlrusayni",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/14802524?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Muhannad"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/nitnelave",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/796633?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"nitnelave"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/duchainer",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/11084784?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Rapha\xebl Ducha\xeene"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/RemiKalbe",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/8604600?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"R\xe9mi Kalbe"})})})]})}),(0,n.jsx)("div",{class:"col col--3 margin-bottom--md",children:(0,n.jsxs)("div",{class:"avatar",children:[(0,n.jsx)("a",{class:"avatar__photo-link avatar__photo avatar__photo--sm",href:"https://github.com/samsamai",children:(0,n.jsx)("img",{src:"https://avatars.githubusercontent.com/u/3764355?v=4"})}),(0,n.jsx)("div",{class:"avatar__intro",children:(0,n.jsx)("div",{class:"avatar__name",children:(0,n.jsx)(e.p,{children:"Sam Samai"})})})]})})]})})]})}function d(a={}){const{wrapper:e}={...(0,r.R)(),...a.components};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(h,{...a})}):h(a)}},9626:a=>{a.exports=JSON.parse('{"permalink":"/blog/2021-09-20-introducing-sea-orm","editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Blog/blog/2021-09-20-introducing-sea-orm.md","source":"@site/blog/2021-09-20-introducing-sea-orm.md","title":"Introducing SeaORM \ud83d\udc1a","description":"We are pleased to introduce SeaORM 0.2.2 to the Rust community today. It\'s our pleasure to have received feedback and contributions from awesome people to SeaQuery and SeaORM since 0.1.0.","date":"2021-09-20T00:00:00.000Z","tags":[{"inline":true,"label":"news","permalink":"/blog/tags/news"}],"readingTime":4.005,"hasTruncateMarker":false,"authors":[{"name":"Chris Tsang","title":"SeaQL Team","url":"https://github.com/tyt2y3","imageURL":"https://avatars.githubusercontent.com/u/1782664?v=4","key":null,"page":null}],"frontMatter":{"slug":"2021-09-20-introducing-sea-orm","title":"Introducing SeaORM \ud83d\udc1a","author":"Chris Tsang","author_title":"SeaQL Team","author_url":"https://github.com/tyt2y3","author_image_url":"https://avatars.githubusercontent.com/u/1782664?v=4","tags":["news"]},"unlisted":false,"prevItem":{"title":"What\'s new in SeaORM 0.2.4","permalink":"/blog/2021-10-01-whats-new-in-0.2.4"},"nextItem":{"title":"Release Model","permalink":"/blog/2021-08-30-release-model"}}')}}]);