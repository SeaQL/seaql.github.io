"use strict";(self.webpackChunkseaography=self.webpackChunkseaography||[]).push([[9304],{8032:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>t});var a=s(2374);const r={},l=a.createContext(r);function i(e){const n=a.useContext(l);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(l.Provider,{value:n},e.children)}},9907:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"running-example","title":"Running the example","description":"The project codebase comes with an example database, you can use to run the example project.","source":"@site/versioned_docs/version-0.3.0/02-running-example.md","sourceDirName":".","slug":"/running-example","permalink":"/Seaography/docs/0.3.0/running-example","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/Seaography/versioned_docs/version-0.3.0/02-running-example.md","tags":[],"version":"0.3.0","lastUpdatedBy":"Chris Tsang","lastUpdatedAt":1761252205000,"sidebarPosition":2,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Getting started","permalink":"/Seaography/docs/0.3.0/getting-started"},"next":{"title":"Generated project structure","permalink":"/Seaography/docs/0.3.0/generated-project-structure"}}');var r=s(8790),l=s(8032);const i={},t="Running the example",c={},o=[{value:"Requirements",id:"requirements",level:2},{value:"Install from Cargo",id:"install-from-cargo",level:3},{value:"Install from source",id:"install-from-source",level:3},{value:"MySQL",id:"mysql",level:3},{value:"Postgres",id:"postgres",level:3},{value:"SQLite",id:"sqlite",level:3},{value:"Extending and configuring code",id:"extending-and-configuring-code",level:2},{value:"Running server",id:"running-server",level:2},{value:"Regenerating code",id:"regenerating-code",level:2},{value:"Query examples",id:"query-examples",level:2},{value:"Fetch films and their actors",id:"fetch-films-and-their-actors",level:4},{value:"Fetch store and its employee",id:"fetch-store-and-its-employee",level:4},{value:"Fetch inactive customers with pagination",id:"fetch-inactive-customers-with-pagination",level:3},{value:"The query above using cursor pagination",id:"the-query-above-using-cursor-pagination",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"running-the-example",children:"Running the example"})}),"\n",(0,r.jsx)(n.p,{children:"The project codebase comes with an example database, you can use to run the example project."}),"\n",(0,r.jsx)(n.p,{children:"In this article we will follow the instructions on how to setup the example project, and we can perform some useful queries."}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["rustup: ",(0,r.jsx)(n.a,{href:"https://rustup.rs/",children:"https://rustup.rs/"})]}),"\n",(0,r.jsx)(n.li,{children:"mysql / postgres database (optional)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"install-from-cargo",children:"Install from Cargo"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cargo install seaography-cli\n"})}),"\n",(0,r.jsx)(n.h3,{id:"install-from-source",children:"Install from source"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Clone project"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"git clone git@github.com:SeaQL/seaography.git\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build project"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ./seaography/cli\ncargo install --path .\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"mysql",children:"MySQL"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Locate project"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ./examples/mysql\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mysql -uroot -p -h 127.0.0.1 mysql -e 'CREATE DATABASE `sakila`'\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Import schema"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mysql -uroot -p -h 127.0.0.1 sakila < sakila-schema.sql\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Import data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"mysql -uroot -p -h 127.0.0.1 sakila < sakila-data.sql\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"postgres",children:"Postgres"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Locate project"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ./examples/postgres\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"psql -q postgres://postgres:postgres@localhost/postgres -c 'CREATE DATABASE \"sakila\"'\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Import schema"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"psql -q postgres://postgres:postgres@localhost/sakila < sakila-schema.sql\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Import data"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"psql -q postgres://postgres:postgres@localhost/sakila < sakila-data.sql\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sqlite",children:"SQLite"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Locate project","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ./examples/sqlite\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"extending-and-configuring-code",children:"Extending and configuring code"}),"\n",(0,r.jsxs)(n.p,{children:["You are free to modify the code and change things to fit your needs. For more info ",(0,r.jsx)(n.a,{href:"/docs/0.3.0/extending-code",children:"How to extend generated code"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"running-server",children:"Running server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cargo run\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"http://127.0.0.1:8000/",children:"http://127.0.0.1:8000/"})}),"\n",(0,r.jsx)(n.h2,{id:"regenerating-code",children:"Regenerating code"}),"\n",(0,r.jsx)(n.p,{children:"Here are the instructions on how we can generate the examples from scratch."}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Set working directory to Seaography folder"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"$ cd ./seaography\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Build project"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cargo build\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Clean generated code"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"rm -rf ./examples/{mysql|sqlite|postgres}/src\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Generate code"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"cd ./examples/{mysql|sqlite|postgres}\nseaography-cli <database_url> seaography-example .\n"})}),"\n",(0,r.jsxs)(n.p,{children:['* Example database urls "sqlite://sakila.db", "mysql://username',":password",'@127.0.0.1/sakila"']}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"query-examples",children:"Query examples"}),"\n",(0,r.jsx)(n.h4,{id:"fetch-films-and-their-actors",children:"Fetch films and their actors"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"{\n  film(pagination: { pages: { limit: 2, page: 0 } }, orderBy: { title: ASC }) {\n    nodes {\n      title\n      description\n      releaseYear\n      filmActor {\n        actor {\n          firstName\n          lastName\n        }\n      }\n    }\n  }\n}\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "film": {\n      "nodes": [\n        {\n          "title": "ACADEMY DINOSAUR",\n          "description": "An Epic Drama of a Feminist And a Mad Scientist who must Battle a Teacher in The Canadian Rockies",\n          "releaseYear": "2006",\n          "filmActor": [\n            {\n              "actor": {\n                "firstName": "PENELOPE",\n                "lastName": "GUINESS"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "CHRISTIAN",\n                "lastName": "GABLE"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "LUCILLE",\n                "lastName": "TRACY"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "SANDRA",\n                "lastName": "PECK"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "JOHNNY",\n                "lastName": "CAGE"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "MENA",\n                "lastName": "TEMPLE"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "WARREN",\n                "lastName": "NOLTE"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "OPRAH",\n                "lastName": "KILMER"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "ROCK",\n                "lastName": "DUKAKIS"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "MARY",\n                "lastName": "KEITEL"\n              }\n            }\n          ]\n        },\n        {\n          "title": "ACE GOLDFINGER",\n          "description": "A Astounding Epistle of a Database Administrator And a Explorer who must Find a Car in Ancient China",\n          "releaseYear": "2006",\n          "filmActor": [\n            {\n              "actor": {\n                "firstName": "BOB",\n                "lastName": "FAWCETT"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "MINNIE",\n                "lastName": "ZELLWEGER"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "SEAN",\n                "lastName": "GUINESS"\n              }\n            },\n            {\n              "actor": {\n                "firstName": "CHRIS",\n                "lastName": "DEPP"\n              }\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"fetch-store-and-its-employee",children:"Fetch store and its employee"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"{\n  store(filters: { storeId: { eq: 1 } }) {\n    nodes {\n      storeId\n      address {\n        address\n        address2\n      }\n      staff {\n        firstName\n        lastName\n      }\n    }\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "store": {\n      "nodes": [\n        {\n          "storeId": 1,\n          "address": {\n            "address": "47 MySakila Drive",\n            "address2": null\n          },\n          "staff": {\n            "firstName": "Mike",\n            "lastName": "Hillyer"\n          }\n        }\n      ]\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"fetch-inactive-customers-with-pagination",children:"Fetch inactive customers with pagination"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:"{\n  customer(\n    filters: { active: { eq: 0 } }\n    pagination: { pages: { page: 2, limit: 3 } }\n  ) {\n    nodes {\n      customerId\n      lastName\n      email\n    }\n    pages\n    current\n  }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "customer": {\n      "nodes": [\n        {\n          "customerId": 315,\n          "lastName": "GOODEN",\n          "email": "KENNETH.GOODEN@sakilacustomer.org"\n        },\n        {\n          "customerId": 368,\n          "lastName": "ARCE",\n          "email": "HARRY.ARCE@sakilacustomer.org"\n        },\n        {\n          "customerId": 406,\n          "lastName": "RUNYON",\n          "email": "NATHAN.RUNYON@sakilacustomer.org"\n        }\n      ],\n      "pages": 5,\n      "current": 2\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"the-query-above-using-cursor-pagination",children:"The query above using cursor pagination"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-graphql",children:'{\n  customer(\n    filters: { active: { eq: 0 } }\n    pagination: { cursor: { limit: 3, cursor: "Int[3]:271" } }\n  ) {\n    nodes {\n      customerId\n      lastName\n      email\n    }\n    pageInfo {\n      hasPreviousPage\n      hasNextPage\n      endCursor\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "customer": {\n      "nodes": [\n        {\n          "customerId": 315,\n          "lastName": "GOODEN",\n          "email": "KENNETH.GOODEN@sakilacustomer.org"\n        },\n        {\n          "customerId": 368,\n          "lastName": "ARCE",\n          "email": "HARRY.ARCE@sakilacustomer.org"\n        },\n        {\n          "customerId": 406,\n          "lastName": "RUNYON",\n          "email": "NATHAN.RUNYON@sakilacustomer.org"\n        }\n      ],\n      "pageInfo": {\n        "hasPreviousPage": true,\n        "hasNextPage": true,\n        "endCursor": "Int[3]:406"\n      }\n    }\n  }\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);