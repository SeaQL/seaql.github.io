"use strict";(globalThis.webpackChunksea_orm_pro=globalThis.webpackChunksea_orm_pro||[]).push([[8539],{6059:(e,n,r)=>{r.d(n,{R:()=>s,x:()=>i});var a=r(2374);const t={},o=a.createContext(t);function s(e){const n=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),a.createElement(o.Provider,{value:n},e.children)}},6391:(e,n,r)=>{r.d(n,{A:()=>a});const a=r.p+"assets/images/GraphQL-playground-7b2402a30f8837659723dcdd74a6aa51.png"},8475:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>s,metadata:()=>a,toc:()=>p});const a=JSON.parse('{"id":"gui-development/graphql","title":"GraphQL Playground","description":"GraphQL playground and handler is defined in the GraphQL controller:","source":"@site/docs/07-gui-development/03-graphql.md","sourceDirName":"07-gui-development","slug":"/gui-development/graphql","permalink":"/sea-orm-pro/docs/gui-development/graphql","draft":false,"unlisted":false,"editUrl":"https://github.com/SeaQL/seaql.github.io/edit/master/sea-orm-pro/docs/07-gui-development/03-graphql.md","tags":[],"version":"current","lastUpdatedBy":"Billy Chan","lastUpdatedAt":1769826928000,"sidebarPosition":3,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Development and Release","permalink":"/sea-orm-pro/docs/gui-development/dev-and-release"},"next":{"title":"Overview","permalink":"/sea-orm-pro/docs/rbac/overview"}}');var t=r(8790),o=r(6059);const s={},i="GraphQL Playground",l={},p=[];function d(e){const n={code:"code",h1:"h1",header:"header",img:"img",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"graphql-playground",children:"GraphQL Playground"})}),"\n",(0,t.jsx)(n.p,{children:"GraphQL playground and handler is defined in the GraphQL controller:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-rust",metastring:"title=src/controllers/graphql.rs",children:'use async_graphql::http::{playground_source, GraphQLPlaygroundConfig};\nuse axum::{body::Body, extract::Request};\nuse loco_rs::prelude::*;\nuse seaography::async_graphql;\nuse tower_service::Service;\n\nuse crate::graphql::query_root;\n\nasync fn graphql_playground() -> Result<Response> {\n    // Setup GraphQL playground web and specify the endpoint for GraphQL resolver\n    let config =\n        GraphQLPlaygroundConfig::new("/api/graphql").with_header("Authorization", "AUTO_TOKEN");\n\n    let res = playground_source(config).replace(\n        r#""Authorization":"AUTO_TOKEN""#,\n        r#""Authorization":`Bearer ${localStorage.getItem(\'auth_token\')}`"#,\n    );\n\n    Ok(Response::new(res.into()))\n}\n\npub fn routes() -> Routes {\n    Routes::new()\n        // GraphQL route prefix\n        .prefix("graphql")\n        // Serving the GraphQL playground web\n        .add("/", get(graphql_playground))\n        // Handling GraphQL request\n        .add("/", post(graphql_handler))\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["You can disable the ",(0,t.jsx)(n.code,{children:"graphql_playground"})," endpoint if you don't need it in production."]}),"\n",(0,t.jsxs)(n.p,{children:["After login, visit the GraphQL playground by clicking GraphQL icon ",(0,t.jsx)("img",{style:{height:"24px"},src:"https://camo.githubusercontent.com/9b220ec2e5024c8399c4ed4da508189a96dbe9d246e8a6d994ad3b922395046e/68747470733a2f2f6772617068716c2e6f72672f696d672f6c6f676f2e737667"})," on the top-right corner."]}),"\n",(0,t.jsx)(n.p,{children:'You should see the "Bearer Token" has been applied automatically in the bottom panel.'}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{src:r(6391).A+""})}),"\n",(0,t.jsx)(n.p,{children:"A sample query:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-graphql",children:"query {\n  customer(\n    order_by: { customer_id: ASC }\n    pagination: { page: { limit: 10, page: 0 } }\n  ) {\n    nodes {\n      customer_id\n      title\n      first_name\n      middle_name\n      last_name\n    }\n    pagination_info {\n      current\n      pages\n      offset\n      total\n    }\n  }\n}\n"})})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}}}]);